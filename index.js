!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=99)}([function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=a(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(t,r){const i=n(10),o=n(6),s=n(47).IdentifierIssuer,a=n(11),u=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,h={accept:"application/ld+json, application/json"},f={};e.exports=f,f.IdentifierIssuer=s;const d="function"==typeof t&&t,p=d?e=>d(e):e=>setTimeout(e,0);function g(e,t,n){f.nextTick(()=>e(t,n))}"object"==typeof r&&"function"==typeof r.nextTick?f.nextTick=r.nextTick:f.nextTick=p,f.setImmediate=d?p:f.nextTick,f.clone=function(e){if(e&&"object"==typeof e){let t;if(o.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=f.clone(e[n])}else if(o.isObject(e)){t={};for(const n in e)t[n]=f.clone(e[n])}else t=e.toString();return t}return e},f.buildHeaders=((e={})=>{if(Object.keys(e).some(e=>"accept"===e.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+h.accept+'" is supported.');return Object.assign({Accept:h.accept},e)}),f.parseLinkHeader=(e=>{const t={},n=e.match(u);for(let e=0;e<n.length;++e){let r=n[e].match(c);if(!r)continue;const i={target:r[1]},o=r[2];for(;r=l.exec(o);)i[r[1]]=void 0===r[2]?r[3]:r[2];const s=i.rel||"";Array.isArray(t[s])?t[s].push(i):t[s]=s in t?[t[s],i]:i}return t}),f.validateTypeValue=(e=>{if(o.isString(e)||o.isEmptyObject(e))return;let t=!1;if(o.isArray(e)){t=!0;for(let n=0;n<e.length;++n)if(!o.isString(e[n])){t=!1;break}}if(!t)throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}),f.hasProperty=((e,t)=>{if(t in e){const n=e[t];return!o.isArray(n)||n.length>0}return!1}),f.hasValue=((e,t,n)=>{if(f.hasProperty(e,t)){let r=e[t];const s=i.isList(r);if(o.isArray(r)||s){s&&(r=r["@list"]);for(let e=0;e<r.length;++e)if(f.compareValues(n,r[e]))return!0}else if(!o.isArray(n))return f.compareValues(n,r)}return!1}),f.addValue=((e,t,n,r)=>{if("propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),o.isArray(n)){0!==n.length||!r.propertyIsArray||t in e||(e[t]=[]);for(let i=0;i<n.length;++i)f.addValue(e,t,n[i],r)}else if(t in e){const i=!r.allowDuplicate&&f.hasValue(e,t,n);o.isArray(e[t])||i&&!r.propertyIsArray||(e[t]=[e[t]]),i||e[t].push(n)}else e[t]=r.propertyIsArray?[n]:n}),f.getValues=((e,t)=>[].concat(e[t]||[])),f.removeProperty=((e,t)=>{delete e[t]}),f.removeValue=((e,t,n,r)=>{"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);const i=f.getValues(e,t).filter(e=>!f.compareValues(e,n));0===i.length?f.removeProperty(e,t):1!==i.length||r.propertyIsArray?e[t]=i:e[t]=i[0]}),f.relabelBlankNodes=((e,t)=>{return function e(t,n){if(o.isArray(n))for(let r=0;r<n.length;++r)n[r]=e(t,n[r]);else if(i.isList(n))n["@list"]=e(t,n["@list"]);else if(o.isObject(n)){i.isBlankNode(n)&&(n["@id"]=t.getId(n["@id"]));const r=Object.keys(n).sort();for(let i=0;i<r.length;++i){const o=r[i];"@id"!==o&&(n[o]=e(t,n[o]))}}return n}((t=t||{}).issuer||new s("_:b"),e)}),f.compareValues=((e,t)=>e===t||(!(!i.isValue(e)||!i.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(o.isObject(e)&&"@id"in e&&o.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"])),f.compareShortestLeast=((e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1),f.normalizeDocumentLoader=(e=>e.length<2?f.callbackify(e):async function(t){const n=arguments[1];return new Promise((r,i)=>{try{e(t,(e,t)=>{if("function"==typeof n)return g(n,e,t);e?i(e):r(t)})}catch(e){if("function"==typeof n)return g(n,e);i(e)}})}),f.callbackify=(e=>(async function(...t){const n=t[t.length-1];let r;"function"==typeof n&&t.pop();try{r=await e.apply(null,t)}catch(e){if("function"==typeof n)return g(n,e);throw e}return"function"==typeof n?g(n,null,r):r}))}).call(this,n(5).setImmediate,n(0))},function(e,t,n){"use strict";(function(t,r){const i=n(12),o=n(7),s=n(55).IdentifierIssuer,a=n(13),u=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,h={accept:"application/ld+json, application/json"},f={};e.exports=f,f.IdentifierIssuer=s;const d="function"==typeof t&&t,p=d?e=>d(e):e=>setTimeout(e,0);function g(e,t,n){f.nextTick(()=>e(t,n))}"object"==typeof r&&"function"==typeof r.nextTick?f.nextTick=r.nextTick:f.nextTick=p,f.setImmediate=d?p:f.nextTick,f.clone=function(e){if(e&&"object"==typeof e){let t;if(o.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=f.clone(e[n])}else if(o.isObject(e)){t={};for(const n in e)t[n]=f.clone(e[n])}else t=e.toString();return t}return e},f.buildHeaders=((e={})=>{if(Object.keys(e).some(e=>"accept"===e.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+h.accept+'" is supported.');return Object.assign({Accept:h.accept},e)}),f.parseLinkHeader=(e=>{const t={},n=e.match(u);for(let e=0;e<n.length;++e){let r=n[e].match(c);if(!r)continue;const i={target:r[1]},o=r[2];for(;r=l.exec(o);)i[r[1]]=void 0===r[2]?r[3]:r[2];const s=i.rel||"";Array.isArray(t[s])?t[s].push(i):t[s]=s in t?[t[s],i]:i}return t}),f.validateTypeValue=(e=>{if(o.isString(e)||o.isEmptyObject(e))return;let t=!1;if(o.isArray(e)){t=!0;for(let n=0;n<e.length;++n)if(!o.isString(e[n])){t=!1;break}}if(!t)throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}),f.hasProperty=((e,t)=>{if(t in e){const n=e[t];return!o.isArray(n)||n.length>0}return!1}),f.hasValue=((e,t,n)=>{if(f.hasProperty(e,t)){let r=e[t];const s=i.isList(r);if(o.isArray(r)||s){s&&(r=r["@list"]);for(let e=0;e<r.length;++e)if(f.compareValues(n,r[e]))return!0}else if(!o.isArray(n))return f.compareValues(n,r)}return!1}),f.addValue=((e,t,n,r)=>{if("propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),o.isArray(n)){0!==n.length||!r.propertyIsArray||t in e||(e[t]=[]);for(let i=0;i<n.length;++i)f.addValue(e,t,n[i],r)}else if(t in e){const i=!r.allowDuplicate&&f.hasValue(e,t,n);o.isArray(e[t])||i&&!r.propertyIsArray||(e[t]=[e[t]]),i||e[t].push(n)}else e[t]=r.propertyIsArray?[n]:n}),f.getValues=((e,t)=>[].concat(e[t]||[])),f.removeProperty=((e,t)=>{delete e[t]}),f.removeValue=((e,t,n,r)=>{"propertyIsArray"in(r=r||{})||(r.propertyIsArray=!1);const i=f.getValues(e,t).filter(e=>!f.compareValues(e,n));0===i.length?f.removeProperty(e,t):1!==i.length||r.propertyIsArray?e[t]=i:e[t]=i[0]}),f.relabelBlankNodes=((e,t)=>{return function e(t,n){if(o.isArray(n))for(let r=0;r<n.length;++r)n[r]=e(t,n[r]);else if(i.isList(n))n["@list"]=e(t,n["@list"]);else if(o.isObject(n)){i.isBlankNode(n)&&(n["@id"]=t.getId(n["@id"]));const r=Object.keys(n).sort();for(let i=0;i<r.length;++i){const o=r[i];"@id"!==o&&(n[o]=e(t,n[o]))}}return n}((t=t||{}).issuer||new s("_:b"),e)}),f.compareValues=((e,t)=>e===t||(!(!i.isValue(e)||!i.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(o.isObject(e)&&"@id"in e&&o.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"])),f.compareShortestLeast=((e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1),f.normalizeDocumentLoader=(e=>e.length<2?f.callbackify(e):async function(t){const n=arguments[1];return new Promise((r,i)=>{try{e(t,(e,t)=>{if("function"==typeof n)return g(n,e,t);e?i(e):r(t)})}catch(e){if("function"==typeof n)return g(n,e);i(e)}})}),f.callbackify=(e=>(async function(...t){const n=t[t.length-1];let r;"function"==typeof n&&t.pop();try{r=await e.apply(null,t)}catch(e){if("function"==typeof n)return g(n,e);throw e}return"function"==typeof n?g(n,null,r):r}))}).call(this,n(5).setImmediate,n(0))},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<o;u=r[++n])g(u)||!_(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(n,i){if(m(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,s={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&I(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=l(e,i,r)),i}var o=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(o)return o;var s=Object.keys(n),a=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),x(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(I(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return h(n)}var c,_="",N=!1,j=["{","}"];(d(n)&&(N=!0,j=["[","]"]),I(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),x(n)&&(_=" "+h(n)),0!==s.length||N&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=N?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)k(t,String(s))?o.push(f(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(f(e,t,n,r,i,!0))}),o}(e,n,r,a,s):s.map(function(t){return f(e,n,r,a,t,N)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,_,j)):j[0]+_+j[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),k(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=g(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),m(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function v(e){return"string"==typeof e}function m(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===N(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===N(e)}function x(e){return _(e)&&("[object Error]"===N(e)||e instanceof Error)}function I(e){return"function"==typeof e}function N(e){return Object.prototype.toString.call(e)}function j(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(m(o)&&(o=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;s[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else s[e]=function(){};return s[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=x,t.isFunction=I,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(103);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=n(8),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(1),n(0))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(104),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(e,t,n){"use strict";const r={};e.exports=r,r.isArray=Array.isArray,r.isBoolean=(e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)),r.isDouble=(e=>r.isNumber(e)&&-1!==String(e).indexOf(".")),r.isEmptyObject=(e=>r.isObject(e)&&0===Object.keys(e).length),r.isNumber=(e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)),r.isNumeric=(e=>!isNaN(parseFloat(e))&&isFinite(e)),r.isObject=(e=>"[object Object]"===Object.prototype.toString.call(e)),r.isString=(e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)),r.isUndefined=(e=>void 0===e)},function(e,t,n){"use strict";const r={};e.exports=r,r.isArray=Array.isArray,r.isBoolean=(e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)),r.isDouble=(e=>r.isNumber(e)&&-1!==String(e).indexOf(".")),r.isEmptyObject=(e=>r.isObject(e)&&0===Object.keys(e).length),r.isNumber=(e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)),r.isNumeric=(e=>!isNaN(parseFloat(e))&&isFinite(e)),r.isObject=(e=>"[object Object]"===Object.prototype.toString.call(e)),r.isString=(e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)),r.isUndefined=(e=>void 0===e)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(107),i=n(108),o=n(64);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?a(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function b(e,t,n,r){return z(F(t,e.length-n),e,n,r)}function _(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return _(e,t,n,r)}function x(e,t,n,r){return z(q(t),e,n,r)}function I(e,t,n,r){return z(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function N(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function j(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?j(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return N(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),h=0;h<a;++h)if(c[h]!==l[h]){o=c[h],s=l[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function E(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=U(e[o]);return i}function C(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function P(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return o||P(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,o){return o||P(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:F(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(1))},function(e,t,n){"use strict";const r=n(6),i={};e.exports=i,i.isSubject=(e=>{if(r.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){return Object.keys(e).length>1||!("@id"in e)}return!1}),i.isSubjectReference=(e=>r.isObject(e)&&1===Object.keys(e).length&&"@id"in e),i.isValue=(e=>r.isObject(e)&&"@value"in e),i.isList=(e=>r.isObject(e)&&"@list"in e),i.isGraph=(e=>r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length),i.isSimpleGraph=(e=>i.isGraph(e)&&!("@id"in e)),i.isBlankNode=(e=>!!r.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)))},function(e,t,n){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}},function(e,t,n){"use strict";const r=n(7),i={};e.exports=i,i.isSubject=(e=>{if(r.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){return Object.keys(e).length>1||!("@id"in e)}return!1}),i.isSubjectReference=(e=>r.isObject(e)&&1===Object.keys(e).length&&"@id"in e),i.isValue=(e=>r.isObject(e)&&"@value"in e),i.isList=(e=>r.isObject(e)&&"@list"in e),i.isGraph=(e=>r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length),i.isSimpleGraph=(e=>i.isGraph(e)&&!("@id"in e)),i.isBlankNode=(e=>!!r.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)))},function(e,t,n){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}},function(e,t,n){"use strict";var r=n(34),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=n(23);o.inherits=n(8);var s=n(67),a=n(42);o.inherits(h,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var l=u[c];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";(function(t,n){const r={};e.exports=r;const i="function"==typeof t&&t,o=i?e=>i(e):e=>setTimeout(e,0);function s(e,t,r){try{return e(t,r)}catch(e){n.nextTick(()=>{throw e})}}"object"==typeof n&&"function"==typeof n.nextTick?r.nextTick=n.nextTick:r.nextTick=o,r.setImmediate=i?o:r.nextTick,r.clone=function(e){if(e&&"object"==typeof e){let t;if(Array.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=r.clone(e[n])}else if(r.isObject(e)){t={};for(let n in e)t[n]=r.clone(e[n])}else t=e.toString();return t}return e},r.isObject=(e=>"[object Object]"===Object.prototype.toString.call(e)),r.isUndefined=(e=>void 0===e),r.callbackify=(e=>(async function(...t){const n=t[t.length-1];let r;"function"==typeof n&&t.pop();try{r=await e.apply(null,t)}catch(e){if("function"==typeof n)return s(n,e);throw e}return"function"==typeof n?s(n,null,r):r}))}).call(this,n(5).setImmediate,n(0))},function(e,t,n){"use strict";const r=n(2),i=n(149),o=n(11),{isArray:s,isObject:a,isString:u,isUndefined:c}=n(6),{isAbsolute:l,isRelative:h,prependBase:f,parse:d}=n(27),p=10,g=new Map,y={};function v(e,t,n,r){if(s(e))for(const i of e)v(i,t,n,r);else if(a(e))for(const i in e){if("@context"!==i){v(e[i],t,n,r);continue}const o=e[i];if(s(o)){let e=o.length;for(let i=0;i<e;++i){const c=o[i];if(u(c)){const a=f(r,c),u=t.get(a);n?s(u)?(Array.prototype.splice.apply(o,[i,1].concat(u)),i+=u.length-1,e=o.length):!1!==u&&(o[i]=u):void 0===u&&t.set(a,!1)}else for(const e in c)a(c[e])&&v(c[e],t,n,r)}}else if(u(o)){const s=f(r,o),a=t.get(s);n?!1!==a&&(e[i]=a):void 0===a&&t.set(s,!1)}else for(const e in o)a(o[e])&&v(o[e],t,n,r)}}e.exports=y,y.cache=new i,y.process=(({activeCtx:e,localCtx:t,options:n})=>{a(t)&&"@context"in t&&s(t["@context"])&&(t=t["@context"]);const r=s(t)?t:[t];if(0===r.length)return e;let i=e;for(let t=0;t<r.length;++t){let s=r[t];if(null===s){i=e=y.getInitialContext(n);continue}if(a(s)&&"@context"in s&&(s=s["@context"]),!a(s))throw new o("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:s});if(y.cache){const t=y.cache.get(e,s);if(t){i=e=t;continue}}e=i,i=i.clone();const c={};if("@version"in s){if(1.1!==s["@version"])throw new o("Unsupported JSON-LD version: "+s["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:s});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new o("@version: "+s["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:s});i.processingMode="json-ld-1.1",i["@version"]=s["@version"],c["@version"]=!0}if(i.processingMode=i.processingMode||e.processingMode||"json-ld-1.0","@base"in s){let t=s["@base"];if(null===t);else if(l(t))t=d(t);else{if(!h(t))throw new o('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:s});t=d(f(e["@base"].href,t))}i["@base"]=t,c["@base"]=!0}if("@vocab"in s){const e=s["@vocab"];if(null===e)delete i["@vocab"];else{if(!u(e))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});if(!l(e))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});i["@vocab"]=e}c["@vocab"]=!0}if("@language"in s){const e=s["@language"];if(null===e)delete i["@language"];else{if(!u(e))throw new o('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:s});i["@language"]=e.toLowerCase()}c["@language"]=!0}for(const e in s)y.createTermDefinition(i,s,e,c);y.cache&&y.cache.set(e,s,i)}return i}),y.createTermDefinition=((e,t,n,r)=>{if(n in r){if(r[n])return;throw new o("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}if(r[n]=!1,y.isKeyword(n))throw new o("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(""===n)throw new o("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});e.mappings[n]&&delete e.mappings[n];let i=t[n];if(null===i||a(i)&&null===i["@id"])return e.mappings[n]=null,void(r[n]=!0);let c=!1;if(u(i)&&(c=!0,i={"@id":i}),!a(i))throw new o("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const h=e.mappings[n]={};h.reverse=!1;const f=["@container","@id","@language","@reverse","@type"];y.processingMode(e,1.1)&&f.push("@context","@nest","@prefix");for(const e in i)if(!f.includes(e))throw new o("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const d=n.indexOf(":");if(h._termHasColon=-1!==d,"@reverse"in i){if("@id"in i)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in i)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const n=i["@reverse"];if(!u(n))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});const s=y.expandIri(e,n,{vocab:!0,base:!1},t,r);if(!l(s))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});h["@id"]=s,h.reverse=!0}else if("@id"in i){let s=i["@id"];if(!u(s))throw new o("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(s!==n){if(s=y.expandIri(e,s,{vocab:!0,base:!1},t,r),!l(s)&&!y.isKeyword(s))throw new o("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});h["@id"]=s,h._prefix=!h._termHasColon&&s.match(/[:\/\?#\[\]@]$/)&&(c||y.processingMode(e,1))}}if(!("@id"in h))if(h._termHasColon){const i=n.substr(0,d);if(i in t&&y.createTermDefinition(e,t,i,r),e.mappings[i]){const t=n.substr(d+1);h["@id"]=e.mappings[i]["@id"]+t}else h["@id"]=n}else{if(!("@vocab"in e))throw new o("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});h["@id"]=e["@vocab"]+n}if(r[n]=!0,"@type"in i){let n=i["@type"];if(!u(n))throw new o("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==n&&"@vocab"!==n){if(n=y.expandIri(e,n,{vocab:!0,base:!1},t,r),!l(n))throw new o("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new o("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}h["@type"]=n}if("@container"in i){const n=u(i["@container"])?[i["@container"]]:i["@container"]||[],r=["@list","@set","@index","@language"];let a=!0;const c=n.includes("@set");if(y.processingMode(e,1.1))if(r.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new o("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new o("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else a&=n.length<=(c?2:1);else a&=!s(i["@container"]),a&=n.length<=1;if(a&=n.every(e=>r.includes(e)),!(a&=!(c&&n.includes("@list"))))throw new o("Invalid JSON-LD syntax; @context @container value must be one of the following: "+r.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(h.reverse&&!n.every(e=>["@index","@set"].includes(e)))throw new o("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});h["@container"]=n}if("@context"in i&&(h["@context"]=i["@context"]),"@language"in i&&!("@type"in i)){let e=i["@language"];if(null!==e&&!u(e))throw new o("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),h["@language"]=e}if("@prefix"in i){if(h._termHasColon)throw new o("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof i["@prefix"])throw new o("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});h._prefix=!0===i["@prefix"]}if("@nest"in i){const e=i["@nest"];if(!u(e)||"@nest"!==e&&0===e.indexOf("@"))throw new o("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});h["@nest"]=e}
// disallow aliasing @context and @preserve
const p=h["@id"];if("@context"===p||"@preserve"===p)throw new o("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t})}),y.expandIri=((e,t,n,r,i)=>{if(null===t||!u(t)||y.isKeyword(t))return t;if(r&&t in r&&!0!==i[t]&&y.createTermDefinition(e,r,t,i),(n=n||{}).vocab){const n=e.mappings[t];if(null===n)return null;if(n)return n["@id"]}const o=t.indexOf(":");if(-1!==o){const n=t.substr(0,o),s=t.substr(o+1);if("_"===n||0===s.indexOf("//"))return t;r&&n in r&&y.createTermDefinition(e,r,n,i);const a=e.mappings[n];return a?a["@id"]+s:t}return n.vocab&&"@vocab"in e?e["@vocab"]+t:n.base?f(e["@base"],t):t}),y.getInitialContext=(e=>{const t=d(e.base||""),n=JSON.stringify({base:t,processingMode:e.processingMode}),i=g.get(n);if(i)return i;const o={"@base":t,processingMode:e.processingMode,mappings:{},inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},n=e.fastCurieMap={},i={},o=e["@language"]||"@none",u=e.mappings,c=Object.keys(u).sort(r.compareShortestLeast);for(let e=0;e<c.length;++e){const r=c[e],s=u[r];if(null===s)continue;let l=s["@container"]||"@none";l=[].concat(l).sort().join("");const h=[].concat(s["@id"]);for(let e=0;e<h.length;++e){const u=h[e];let c=t[u];const f=y.isKeyword(u);if(c)f||s._termHasColon||i[u].push(r);else if(t[u]=c={},!f&&!s._termHasColon){i[u]=[r];const e={iri:u,terms:i[u]};u[0]in n?n[u[0]].push(e):n[u[0]]=[e]}if(c[l]||(c[l]={"@language":{},"@type":{},"@any":{}}),c=c[l],a(r,c["@any"],"@none"),s.reverse)a(r,c["@type"],"@reverse");else if("@type"in s)a(r,c["@type"],s["@type"]);else if("@language"in s){const e=s["@language"]||"@null";a(r,c["@language"],e)}else a(r,c["@language"],o),a(r,c["@type"],"@none"),a(r,c["@language"],"@none")}}for(const e in n)s(n,e,1);return t},clone:function(){const e={};e["@base"]=this["@base"],e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e}};return 1e4===g.size&&g.clear(),g.set(n,o),o;function s(e,t,n){const r=e[t],i=e[t]={};let o,a;for(let e=0;e<r.length;++e)(a=n>=(o=r[e].iri).length?"":o[n])in i?i[a].push(r[e]):i[a]=[r[e]];for(const e in i)""!==e&&s(i,e,n+1)}function a(e,t,n){n in t||(t[n]=e)}}),y.getContextValue=((e,t,n)=>{if(null===t)return null;if(e.mappings[t]){const r=e.mappings[t];if(c(n))return r;if(n in r)return r[n]}return"@language"===n&&n in e?e[n]:null}),y.getAllContexts=(async(e,t)=>(async function(e,t){const n=r.normalizeDocumentLoader(t.documentLoader);return await async function e(n,r,i){if(r.size>p)throw new o("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:p});const c=new Map;v(n,c,!1,t.base);const l=[...c.keys()].filter(e=>!1===c.get(e));return Promise.all(l.map(async l=>{if(r.has(l))throw new o("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:l});const h=new Set(r);let f,d;h.add(l);try{f=await i(l),d=f.document||null,u(d)&&(d=JSON.parse(d))}catch(e){throw new o("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:l,cause:e})}if(!a(d))throw new o("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:l});d="@context"in d?{"@context":d["@context"]}:{"@context":{}},f.contextUrl&&(s(d["@context"])||(d["@context"]=[d["@context"]]),d["@context"].push(f.contextUrl)),await e(d,h,i),c.set(l,d["@context"]),v(n,c,!0,t.base)}))}(e,new Set,n),e})(e,t)),y.processingMode=((e,t)=>t.toString()>="1.1"?e.processingMode&&e.processingMode>="json-ld-"+t.toString():!e.processingMode||"json-ld-1.0"===e.processingMode),y.isKeyword=(e=>{if(!u(e))return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1})},function(e,t,n){"use strict";(function(t,n){const r={};e.exports=r;const i="function"==typeof t&&t,o=i?e=>i(e):e=>setTimeout(e,0);function s(e,t,r){try{return e(t,r)}catch(e){n.nextTick(()=>{throw e})}}"object"==typeof n&&"function"==typeof n.nextTick?r.nextTick=n.nextTick:r.nextTick=o,r.setImmediate=i?o:r.nextTick,r.clone=function(e){if(e&&"object"==typeof e){let t;if(Array.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=r.clone(e[n])}else if(r.isObject(e)){t={};for(let n in e)t[n]=r.clone(e[n])}else t=e.toString();return t}return e},r.isObject=(e=>"[object Object]"===Object.prototype.toString.call(e)),r.isUndefined=(e=>void 0===e),r.callbackify=(e=>(async function(...t){const n=t[t.length-1];let r;"function"==typeof n&&t.pop();try{r=await e.apply(null,t)}catch(e){if("function"==typeof n)return s(n,e);throw e}return"function"==typeof n?s(n,null,r):r}))}).call(this,n(5).setImmediate,n(0))},function(e,t,n){"use strict";const r=n(3),i=n(199),o=n(13),{isArray:s,isObject:a,isString:u,isUndefined:c}=n(7),{isAbsolute:l,isRelative:h,prependBase:f,parse:d}=n(31),p=10,g=new Map,y={};function v(e,t,n,r){if(s(e))for(const i of e)v(i,t,n,r);else if(a(e))for(const i in e){if("@context"!==i){v(e[i],t,n,r);continue}const o=e[i];if(s(o)){let e=o.length;for(let i=0;i<e;++i){const c=o[i];if(u(c)){const a=f(r,c),u=t.get(a);n?s(u)?(Array.prototype.splice.apply(o,[i,1].concat(u)),i+=u.length-1,e=o.length):!1!==u&&(o[i]=u):void 0===u&&t.set(a,!1)}else for(const e in c)a(c[e])&&v(c[e],t,n,r)}}else if(u(o)){const s=f(r,o),a=t.get(s);n?!1!==a&&(e[i]=a):void 0===a&&t.set(s,!1)}else for(const e in o)a(o[e])&&v(o[e],t,n,r)}}e.exports=y,y.cache=new i,y.process=(({activeCtx:e,localCtx:t,options:n})=>{a(t)&&"@context"in t&&s(t["@context"])&&(t=t["@context"]);const r=s(t)?t:[t];if(0===r.length)return e;let i=e;for(let t=0;t<r.length;++t){let s=r[t];if(null===s){i=e=y.getInitialContext(n);continue}if(a(s)&&"@context"in s&&(s=s["@context"]),!a(s))throw new o("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:s});if(y.cache){const t=y.cache.get(e,s);if(t){i=e=t;continue}}e=i,i=i.clone();const c={};if("@version"in s){if(1.1!==s["@version"])throw new o("Unsupported JSON-LD version: "+s["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:s});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new o("@version: "+s["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:s});i.processingMode="json-ld-1.1",i["@version"]=s["@version"],c["@version"]=!0}if(i.processingMode=i.processingMode||e.processingMode||"json-ld-1.0","@base"in s){let t=s["@base"];if(null===t);else if(l(t))t=d(t);else{if(!h(t))throw new o('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:s});t=d(f(e["@base"].href,t))}i["@base"]=t,c["@base"]=!0}if("@vocab"in s){const e=s["@vocab"];if(null===e)delete i["@vocab"];else{if(!u(e))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});if(!l(e))throw new o('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:s});i["@vocab"]=e}c["@vocab"]=!0}if("@language"in s){const e=s["@language"];if(null===e)delete i["@language"];else{if(!u(e))throw new o('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:s});i["@language"]=e.toLowerCase()}c["@language"]=!0}for(const e in s)y.createTermDefinition(i,s,e,c);y.cache&&y.cache.set(e,s,i)}return i}),y.createTermDefinition=((e,t,n,r)=>{if(n in r){if(r[n])return;throw new o("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}if(r[n]=!1,y.isKeyword(n))throw new o("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(""===n)throw new o("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});e.mappings[n]&&delete e.mappings[n];let i=t[n];if(null===i||a(i)&&null===i["@id"])return e.mappings[n]=null,void(r[n]=!0);let c=!1;if(u(i)&&(c=!0,i={"@id":i}),!a(i))throw new o("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const h=e.mappings[n]={};h.reverse=!1;const f=["@container","@id","@language","@reverse","@type"];y.processingMode(e,1.1)&&f.push("@context","@nest","@prefix");for(const e in i)if(!f.includes(e))throw new o("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const d=n.indexOf(":");if(h._termHasColon=-1!==d,"@reverse"in i){if("@id"in i)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in i)throw new o("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const n=i["@reverse"];if(!u(n))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});const s=y.expandIri(e,n,{vocab:!0,base:!1},t,r);if(!l(s))throw new o("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});h["@id"]=s,h.reverse=!0}else if("@id"in i){let s=i["@id"];if(!u(s))throw new o("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(s!==n){if(s=y.expandIri(e,s,{vocab:!0,base:!1},t,r),!l(s)&&!y.isKeyword(s))throw new o("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});h["@id"]=s,h._prefix=!h._termHasColon&&s.match(/[:\/\?#\[\]@]$/)&&(c||y.processingMode(e,1))}}if(!("@id"in h))if(h._termHasColon){const i=n.substr(0,d);if(i in t&&y.createTermDefinition(e,t,i,r),e.mappings[i]){const t=n.substr(d+1);h["@id"]=e.mappings[i]["@id"]+t}else h["@id"]=n}else{if(!("@vocab"in e))throw new o("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});h["@id"]=e["@vocab"]+n}if(r[n]=!0,"@type"in i){let n=i["@type"];if(!u(n))throw new o("Invalid JSON-LD syntax; an @context @type values must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@id"!==n&&"@vocab"!==n){if(n=y.expandIri(e,n,{vocab:!0,base:!1},t,r),!l(n))throw new o("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new o("Invalid JSON-LD syntax; an @context @type values must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}h["@type"]=n}if("@container"in i){const n=u(i["@container"])?[i["@container"]]:i["@container"]||[],r=["@list","@set","@index","@language"];let a=!0;const c=n.includes("@set");if(y.processingMode(e,1.1))if(r.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new o("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new o("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else a&=n.length<=(c?2:1);else a&=!s(i["@container"]),a&=n.length<=1;if(a&=n.every(e=>r.includes(e)),!(a&=!(c&&n.includes("@list"))))throw new o("Invalid JSON-LD syntax; @context @container value must be one of the following: "+r.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(h.reverse&&!n.every(e=>["@index","@set"].includes(e)))throw new o("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});h["@container"]=n}if("@context"in i&&(h["@context"]=i["@context"]),"@language"in i&&!("@type"in i)){let e=i["@language"];if(null!==e&&!u(e))throw new o("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),h["@language"]=e}if("@prefix"in i){if(h._termHasColon)throw new o("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof i["@prefix"])throw new o("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});h._prefix=!0===i["@prefix"]}if("@nest"in i){const e=i["@nest"];if(!u(e)||"@nest"!==e&&0===e.indexOf("@"))throw new o("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});h["@nest"]=e}
// disallow aliasing @context and @preserve
const p=h["@id"];if("@context"===p||"@preserve"===p)throw new o("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t})}),y.expandIri=((e,t,n,r,i)=>{if(null===t||!u(t)||y.isKeyword(t))return t;if(r&&t in r&&!0!==i[t]&&y.createTermDefinition(e,r,t,i),(n=n||{}).vocab){const n=e.mappings[t];if(null===n)return null;if(n)return n["@id"]}const o=t.indexOf(":");if(-1!==o){const n=t.substr(0,o),s=t.substr(o+1);if("_"===n||0===s.indexOf("//"))return t;r&&n in r&&y.createTermDefinition(e,r,n,i);const a=e.mappings[n];return a?a["@id"]+s:t}return n.vocab&&"@vocab"in e?e["@vocab"]+t:n.base?f(e["@base"],t):t}),y.getInitialContext=(e=>{const t=d(e.base||""),n=JSON.stringify({base:t,processingMode:e.processingMode}),i=g.get(n);if(i)return i;const o={"@base":t,processingMode:e.processingMode,mappings:{},inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},n=e.fastCurieMap={},i={},o=e["@language"]||"@none",u=e.mappings,c=Object.keys(u).sort(r.compareShortestLeast);for(let e=0;e<c.length;++e){const r=c[e],s=u[r];if(null===s)continue;let l=s["@container"]||"@none";l=[].concat(l).sort().join("");const h=[].concat(s["@id"]);for(let e=0;e<h.length;++e){const u=h[e];let c=t[u];const f=y.isKeyword(u);if(c)f||s._termHasColon||i[u].push(r);else if(t[u]=c={},!f&&!s._termHasColon){i[u]=[r];const e={iri:u,terms:i[u]};u[0]in n?n[u[0]].push(e):n[u[0]]=[e]}if(c[l]||(c[l]={"@language":{},"@type":{},"@any":{}}),c=c[l],a(r,c["@any"],"@none"),s.reverse)a(r,c["@type"],"@reverse");else if("@type"in s)a(r,c["@type"],s["@type"]);else if("@language"in s){const e=s["@language"]||"@null";a(r,c["@language"],e)}else a(r,c["@language"],o),a(r,c["@type"],"@none"),a(r,c["@language"],"@none")}}for(const e in n)s(n,e,1);return t},clone:function(){const e={};e["@base"]=this["@base"],e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e}};return 1e4===g.size&&g.clear(),g.set(n,o),o;function s(e,t,n){const r=e[t],i=e[t]={};let o,a;for(let e=0;e<r.length;++e)(a=n>=(o=r[e].iri).length?"":o[n])in i?i[a].push(r[e]):i[a]=[r[e]];for(const e in i)""!==e&&s(i,e,n+1)}function a(e,t,n){n in t||(t[n]=e)}}),y.getContextValue=((e,t,n)=>{if(null===t)return null;if(e.mappings[t]){const r=e.mappings[t];if(c(n))return r;if(n in r)return r[n]}return"@language"===n&&n in e?e[n]:null}),y.getAllContexts=(async(e,t)=>(async function(e,t){const n=r.normalizeDocumentLoader(t.documentLoader);return await async function e(n,r,i){if(r.size>p)throw new o("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:p});const c=new Map;v(n,c,!1,t.base);const l=[...c.keys()].filter(e=>!1===c.get(e));return Promise.all(l.map(async l=>{if(r.has(l))throw new o("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:l});const h=new Set(r);let f,d;h.add(l);try{f=await i(l),d=f.document||null,u(d)&&(d=JSON.parse(d))}catch(e){throw new o("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:l,cause:e})}if(!a(d))throw new o("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:l});d="@context"in d?{"@context":d["@context"]}:{"@context":{}},f.contextUrl&&(s(d["@context"])||(d["@context"]=[d["@context"]]),d["@context"].push(f.contextUrl)),await e(d,h,i),c.set(l,d["@context"]),v(n,c,!0,t.base)}))}(e,new Set,n),e})(e,t)),y.processingMode=((e,t)=>t.toString()>="1.1"?e.processingMode&&e.processingMode>="json-ld-"+t.toString():!e.processingMode||"json-ld-1.0"===e.processingMode),y.isKeyword=(e=>{if(!u(e))return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1})},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,s,a,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),s=(c=n.slice()).length,u=0;u<s;u++)c[u].apply(this,a);return!0},n.prototype.addListener=function(e,t){var s;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){var r,i,o=n(37),s=o.rdf,a=o.xsd,u=0;function c(e){if(!(this instanceof c))return new c(e);this.id=e}function l(e){if(!(this instanceof l))return new l(e);this.id=e}function h(e){if(!(this instanceof h))return new h(e);this.id="_:"+e}function f(e){if(!(this instanceof f))return new f(e);this.id="?"+e}function d(e){if(!(this instanceof d))return new d(e);this.id=e}function p(){return i||this}function g(e,t,n,r){if(!(this instanceof g))return new g;this.subject=e,this.predicate=t,this.object=n,this.graph=r||i}function y(e,t,n,r){return new g(e,t,n,r)}c.subclass=function e(t){t.prototype=Object.create(this.prototype,{constructor:{value:t},termType:{value:t.name}}),t.subclass=e},c.prototype.equals=function(e){return e instanceof c?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value},c.prototype.toJSON=function(){return{termType:this.termType,value:this.value}},c.subclass(l),Object.defineProperty(l.prototype,"value",{get:function(){return this.id}}),c.subclass(h),Object.defineProperty(h.prototype,"value",{get:function(){return this.id.substr(2)}}),c.subclass(f),Object.defineProperty(f.prototype,"value",{get:function(){return this.id.substr(1)}}),c.subclass(d),Object.defineProperty(d.prototype,"value",{get:function(){return this.id.substring(1,this.id.lastIndexOf('"'))}}),Object.defineProperty(d.prototype,"language",{get:function(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}}),Object.defineProperty(d.prototype,"datatype",{get:function(){return new l(this.datatypeString)}}),Object.defineProperty(d.prototype,"datatypeString",{get:function(){var e,t=this.id,n=t.lastIndexOf('"')+1;return n<t.length&&"^"===(e=t[n])?t.substr(n+2):"@"!==e?a.string:s.langString}}),d.prototype.equals=function(e){return e instanceof d?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value},d.prototype.toJSON=function(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}},c.subclass(p),(i=new p).id="",Object.defineProperty(p.prototype,"value",{value:""}),p.prototype.equals=function(e){return this===e||!!e&&this.termType===e.termType},g.prototype.toJSON=function(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}},g.prototype.equals=function(e){return!!e&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)},e.exports=r={namedNode:function(e){return new l(e)},blankNode:function(e){return e||(e="n3-"+u++),new h(e)},variable:function(e){return new f(e)},literal:function(e,t){if("string"==typeof t)return new d('"'+e+'"@'+t.toLowerCase());var n=t&&t.value||"";if(!n)switch(typeof e){case"boolean":n=a.boolean;break;case"number":Number.isFinite(e)?n=Number.isInteger(e)?a.integer:a.double:(n=a.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"));break;default:return new d('"'+e+'"')}return new d('"'+e+'"^^'+n)},defaultGraph:function(){return i},quad:y,triple:y,internal:{Term:c,NamedNode:l,BlankNode:h,Variable:f,Literal:d,DefaultGraph:p,Quad:g,Triple:g,fromId:function(e,t){if(t=t||r,!e)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":return t.variable(e.substr(1));case'"':if(t===r)return new d(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),"@"===e[n+1]?e.substr(n+2):t.namedNode(e.substr(n+3)));default:return t.namedNode(e)}},toId:function(e){if("string"==typeof e)return e;if(e instanceof c)return e.id;if(!e)return i.value;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Variable":return"?"+e.value;case"DefaultGraph":return"";case"Literal":return'"'+e.value+'"'+(e.language?"@"+e.language:e.datatype&&e.datatype.value!==a.string?"^^"+e.datatype.value:"");default:throw new Error("Unexpected termType: "+e.termType)}}}}},function(e,t,n){e.exports=i;var r=n(19).EventEmitter;function i(){r.call(this)}n(8)(i,r),i.Readable=n(22),i.Writable=n(125),i.Duplex=n(126),i.Transform=n(127),i.PassThrough=n(128),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",u));var s=!1;function a(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},function(e,t,n){(t=e.exports=n(67)).Stream=t,t.Readable=t,t.Writable=n(42),t.Duplex=n(14),t.Transform=n(71),t.PassThrough=n(113)},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(9).Buffer)},function(e,t,n){var r,i,o=n(38),s=o.rdf,a=o.xsd,u=0;function c(e){if(!(this instanceof c))return new c(e);this.id=e}function l(e){if(!(this instanceof l))return new l(e);this.id=e}function h(e){if(!(this instanceof h))return new h(e);this.id="_:"+e}function f(e){if(!(this instanceof f))return new f(e);this.id="?"+e}function d(e){if(!(this instanceof d))return new d(e);this.id=e}function p(){return i||this}function g(e,t,n,r){if(!(this instanceof g))return new g(e,t,n,r);this.subject=e,this.predicate=t,this.object=n,this.graph=r||i}function y(e,t,n,r){return new g(e,t,n,r)}c.subclass=function e(t,n){t.prototype=Object.create(this.prototype,{constructor:{value:t},termType:{value:n||t.name}}),t.subclass=e},c.prototype.equals=function(e){return e instanceof c?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value},c.prototype.toJSON=function(){return{termType:this.termType,value:this.value}},c.subclass(l,"NamedNode"),Object.defineProperty(l.prototype,"value",{get:function(){return this.id}}),c.subclass(h,"BlankNode"),Object.defineProperty(h.prototype,"value",{get:function(){return this.id.substr(2)}}),c.subclass(f,"Variable"),Object.defineProperty(f.prototype,"value",{get:function(){return this.id.substr(1)}}),c.subclass(d,"Literal"),Object.defineProperty(d.prototype,"value",{get:function(){return this.id.substring(1,this.id.lastIndexOf('"'))}}),Object.defineProperty(d.prototype,"language",{get:function(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}}),Object.defineProperty(d.prototype,"datatype",{get:function(){return new l(this.datatypeString)}}),Object.defineProperty(d.prototype,"datatypeString",{get:function(){var e,t=this.id,n=t.lastIndexOf('"')+1;return n<t.length&&"^"===(e=t[n])?t.substr(n+2):"@"!==e?a.string:s.langString}}),d.prototype.equals=function(e){return e instanceof d?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value},d.prototype.toJSON=function(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}},c.subclass(p,"DefaultGraph"),(i=new p).id="",Object.defineProperty(p.prototype,"value",{value:""}),p.prototype.equals=function(e){return this===e||!!e&&this.termType===e.termType},g.prototype.toJSON=function(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}},g.prototype.equals=function(e){return!!e&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)},e.exports=r={namedNode:function(e){return new l(e)},blankNode:function(e){return e||(e="n3-"+u++),new h(e)},variable:function(e){return new f(e)},literal:function(e,t){if("string"==typeof t)return new d('"'+e+'"@'+t.toLowerCase());var n=t&&t.value||"";if(!n)switch(typeof e){case"boolean":n=a.boolean;break;case"number":Number.isFinite(e)?n=Number.isInteger(e)?a.integer:a.double:(n=a.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"));break;default:return new d('"'+e+'"')}return new d('"'+e+'"^^'+n)},defaultGraph:function(){return i},quad:y,triple:y,internal:{Term:c,NamedNode:l,BlankNode:h,Variable:f,Literal:d,DefaultGraph:p,Quad:g,Triple:g,fromId:function(e,t){if(t=t||r,!e)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":return t.variable(e.substr(1));case'"':if(t===r)return new d(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),"@"===e[n+1]?e.substr(n+2):t.namedNode(e.substr(n+3)));default:return t.namedNode(e)}},toId:function(e){if("string"==typeof e)return e;if(e instanceof c)return e.id;if(!e)return i.value;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Variable":return"?"+e.value;case"DefaultGraph":return"";case"Literal":return'"'+e.value+'"'+(e.language?"@"+e.language:e.datatype&&e.datatype.value!==a.string?"^^"+e.datatype.value:"");default:throw new Error("Unexpected termType: "+e.termType)}}}}},function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t,n){"use strict";const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",RDF:r,RDF_LIST:r+"List",RDF_FIRST:r+"first",RDF_REST:r+"rest",RDF_NIL:r+"nil",RDF_TYPE:r+"type",RDF_PLAIN_LITERAL:r+"PlainLiteral",RDF_XML_LITERAL:r+"XMLLiteral",RDF_OBJECT:r+"object",RDF_LANGSTRING:r+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},function(e,t,n){"use strict";const r=n(6),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=((e,t)=>{const n={},r=i.parsers[t||"full"],o=r.regex.exec(e);let s=r.keys.length;for(;s--;)n[r.keys[s]]=void 0===o[s]?null:o[s];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=i.removeDotSegments(n.path),n}),i.prependBase=((e,t)=>{if(null===e)return t;if(-1!==t.indexOf(":"))return t;r.isString(e)&&(e=i.parse(e||""));const n=i.parse(t),o={protocol:e.protocol||""};if(null!==n.authority)o.authority=n.authority,o.path=n.path,o.query=n.query;else if(o.authority=e.authority,""===n.path)o.path=e.path,null!==n.query?o.query=n.query:o.query=e.query;else{if(0===n.path.indexOf("/"))o.path=n.path;else{let t=e.path;(t=t.substr(0,t.lastIndexOf("/")+1)).length>0&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,o.path=t}o.query=n.query}""!==n.path&&(o.path=i.removeDotSegments(o.path));let s=o.protocol;return null!==o.authority&&(s+="//"+o.authority),s+=o.path,null!==o.query&&(s+="?"+o.query),null!==n.fragment&&(s+="#"+n.fragment),""===s&&(s="./"),s}),i.removeBase=((e,t)=>{if(null===e)return t;r.isString(e)&&(e=i.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;const o=i.parse(t.substr(n.length)),s=e.normalizedPath.split("/"),a=o.normalizedPath.split("/"),u=o.fragment||o.query?0:1;for(;s.length>0&&a.length>u&&s[0]===a[0];)s.shift(),a.shift();let c="";if(s.length>0){s.pop();for(let e=0;e<s.length;++e)c+="../"}return c+=a.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c}),i.removeDotSegments=(e=>{if(0===e.length)return"";const t=e.split("/"),n=[];for(;t.length>0;){const e=t.shift(),r=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),r&&n.push("")):r&&n.push("")}return n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")});const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):/;i.isAbsolute=(e=>r.isString(e)&&o.test(e)),i.isRelative=(e=>r.isString(e))},function(e,t,n){var r,i,o=n(40),s=o.rdf,a=o.xsd,u=0;function c(e){if(!(this instanceof c))return new c(e);this.id=e}function l(e){if(!(this instanceof l))return new l(e);this.id=e}function h(e){if(!(this instanceof h))return new h(e);this.id="_:"+e}function f(e){if(!(this instanceof f))return new f(e);this.id="?"+e}function d(e){if(!(this instanceof d))return new d(e);this.id=e}function p(){return i||this}function g(e,t,n,r){if(!(this instanceof g))return new g(e,t,n,r);this.subject=e,this.predicate=t,this.object=n,this.graph=r||i}function y(e,t,n,r){return new g(e,t,n,r)}c.subclass=function e(t,n){t.prototype=Object.create(this.prototype,{constructor:{value:t},termType:{value:n||t.name}}),t.subclass=e},c.prototype.equals=function(e){return e instanceof c?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value},c.prototype.toJSON=function(){return{termType:this.termType,value:this.value}},c.subclass(l,"NamedNode"),Object.defineProperty(l.prototype,"value",{get:function(){return this.id}}),c.subclass(h,"BlankNode"),Object.defineProperty(h.prototype,"value",{get:function(){return this.id.substr(2)}}),c.subclass(f,"Variable"),Object.defineProperty(f.prototype,"value",{get:function(){return this.id.substr(1)}}),c.subclass(d,"Literal"),Object.defineProperty(d.prototype,"value",{get:function(){return this.id.substring(1,this.id.lastIndexOf('"'))}}),Object.defineProperty(d.prototype,"language",{get:function(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}}),Object.defineProperty(d.prototype,"datatype",{get:function(){return new l(this.datatypeString)}}),Object.defineProperty(d.prototype,"datatypeString",{get:function(){var e,t=this.id,n=t.lastIndexOf('"')+1;return n<t.length&&"^"===(e=t[n])?t.substr(n+2):"@"!==e?a.string:s.langString}}),d.prototype.equals=function(e){return e instanceof d?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value},d.prototype.toJSON=function(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}},c.subclass(p,"DefaultGraph"),(i=new p).id="",Object.defineProperty(p.prototype,"value",{value:""}),p.prototype.equals=function(e){return this===e||!!e&&this.termType===e.termType},g.prototype.toJSON=function(){return{subject:this.subject.toJSON(),predicate:this.predicate.toJSON(),object:this.object.toJSON(),graph:this.graph.toJSON()}},g.prototype.equals=function(e){return!!e&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)},e.exports=r={namedNode:function(e){return new l(e)},blankNode:function(e){return e||(e="n3-"+u++),new h(e)},variable:function(e){return new f(e)},literal:function(e,t){if("string"==typeof t)return new d('"'+e+'"@'+t.toLowerCase());var n=t&&t.value||"";if(!n)switch(typeof e){case"boolean":n=a.boolean;break;case"number":Number.isFinite(e)?n=Number.isInteger(e)?a.integer:a.double:(n=a.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"));break;default:return new d('"'+e+'"')}return new d('"'+e+'"^^'+n)},defaultGraph:function(){return i},quad:y,triple:y,internal:{Term:c,NamedNode:l,BlankNode:h,Variable:f,Literal:d,DefaultGraph:p,Quad:g,Triple:g,fromId:function(e,t){if(t=t||r,!e)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":return t.variable(e.substr(1));case'"':if(t===r)return new d(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),"@"===e[n+1]?e.substr(n+2):t.namedNode(e.substr(n+3)));default:return t.namedNode(e)}},toId:function(e){if("string"==typeof e)return e;if(e instanceof c)return e.id;if(!e)return i.value;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Variable":return"?"+e.value;case"DefaultGraph":return"";case"Literal":return'"'+e.value+'"'+(e.language?"@"+e.language:e.datatype&&e.datatype.value!==a.string?"^^"+e.datatype.value:"");default:throw new Error("Unexpected termType: "+e.termType)}}}}},function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t,n){"use strict";const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",RDF:r,RDF_LIST:r+"List",RDF_FIRST:r+"first",RDF_REST:r+"rest",RDF_NIL:r+"nil",RDF_TYPE:r+"type",RDF_PLAIN_LITERAL:r+"PlainLiteral",RDF_XML_LITERAL:r+"XMLLiteral",RDF_OBJECT:r+"object",RDF_LANGSTRING:r+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},function(e,t,n){"use strict";const r=n(7),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=((e,t)=>{const n={},r=i.parsers[t||"full"],o=r.regex.exec(e);let s=r.keys.length;for(;s--;)n[r.keys[s]]=void 0===o[s]?null:o[s];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=i.removeDotSegments(n.path),n}),i.prependBase=((e,t)=>{if(null===e)return t;if(-1!==t.indexOf(":"))return t;r.isString(e)&&(e=i.parse(e||""));const n=i.parse(t),o={protocol:e.protocol||""};if(null!==n.authority)o.authority=n.authority,o.path=n.path,o.query=n.query;else if(o.authority=e.authority,""===n.path)o.path=e.path,null!==n.query?o.query=n.query:o.query=e.query;else{if(0===n.path.indexOf("/"))o.path=n.path;else{let t=e.path;(t=t.substr(0,t.lastIndexOf("/")+1)).length>0&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,o.path=t}o.query=n.query}""!==n.path&&(o.path=i.removeDotSegments(o.path));let s=o.protocol;return null!==o.authority&&(s+="//"+o.authority),s+=o.path,null!==o.query&&(s+="?"+o.query),null!==n.fragment&&(s+="#"+n.fragment),""===s&&(s="./"),s}),i.removeBase=((e,t)=>{if(null===e)return t;r.isString(e)&&(e=i.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;const o=i.parse(t.substr(n.length)),s=e.normalizedPath.split("/"),a=o.normalizedPath.split("/"),u=o.fragment||o.query?0:1;for(;s.length>0&&a.length>u&&s[0]===a[0];)s.shift(),a.shift();let c="";if(s.length>0){s.pop();for(let e=0;e<s.length;++e)c+="../"}return c+=a.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c}),i.removeDotSegments=(e=>{if(0===e.length)return"";const t=e.split("/"),n=[];for(;t.length>0;){const e=t.shift(),r=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),r&&n.push("")):r&&n.push("")}return n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")});const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):/;i.isAbsolute=(e=>r.isString(e)&&o.test(e)),i.isRelative=(e=>r.isString(e))},function(e,t){!function(t,n){"object"==typeof e&&"object"==typeof e.exports&&(e.exports=n()),"object"==typeof window&&(t.Terraformer=n())}(this,function(){var e={},t=6378137,n=57.29577951308232,r=.017453292519943,i={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}};function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e){if(e.type)switch(e.type){case"Point":return[e.coordinates[0],e.coordinates[1],e.coordinates[0],e.coordinates[1]];case"MultiPoint":case"LineString":return c(e.coordinates);case"MultiLineString":case"Polygon":return u(e.coordinates);case"MultiPolygon":return function(e){for(var t=null,n=null,r=null,i=null,o=0;o<e.length;o++)for(var s=e[o],a=0;a<s.length;a++)for(var u=s[a],c=0;c<u.length;c++){var l=u[c],h=l[0],f=l[1];null===t?t=h:h<t&&(t=h),null===n?n=h:h>n&&(n=h),null===r?r=f:f<r&&(r=f),null===i?i=f:f>i&&(i=f)}return[t,r,n,i]}(e.coordinates);case"Feature":return e.geometry?a(e.geometry):null;case"FeatureCollection":return function(e){for(var t,n=[],r=e.features.length-1;r>=0;r--)t=a(e.features[r].geometry),n.push([t[0],t[1]]),n.push([t[2],t[3]]);return c(n)}(e);case"GeometryCollection":return function(e){for(var t,n=[],r=e.geometries.length-1;r>=0;r--)t=a(e.geometries[r]),n.push([t[0],t[1]]),n.push([t[2],t[3]]);return c(n)}(e);default:throw new Error("Unknown type: "+e.type)}return null}function u(e){for(var t=null,n=null,r=null,i=null,o=0;o<e.length;o++)for(var s=e[o],a=0;a<s.length;a++){var u=s[a],c=u[0],l=u[1];null===t?t=c:c<t&&(t=c),null===n?n=c:c>n&&(n=c),null===r?r=l:l<r&&(r=l),null===i?i=l:l>i&&(i=l)}return[t,r,n,i]}function c(e){for(var t=null,n=null,r=null,i=null,o=0;o<e.length;o++){var s=e[o],a=s[0],u=s[1];null===t?t=a:a<t&&(t=a),null===n?n=a:a>n&&(n=a),null===r?r=u:u<r&&(r=u),null===i?i=u:u>i&&(i=u)}return[t,r,n,i]}function l(e){var t=a(e);return{x:t[0],y:t[1],w:Math.abs(t[0]-t[2]),h:Math.abs(t[1]-t[3])}}function h(e){return e*n}function f(e){return e*r}function d(e){var n=e[0],r=e[1];return[h(n/t)-360*Math.floor((h(n/t)+180)/360),h(Math.PI/2-2*Math.atan(Math.exp(-1*r/t)))]}function p(e){var n=e[0],r=Math.max(Math.min(e[1],89.99999),-89.99999);return[f(n)*t,t/2*Math.log((1+Math.sin(f(r)))/(1-Math.sin(f(r))))]}function g(e,t,n){if("Point"===e.type)e.coordinates=t(e.coordinates);else if("Feature"===e.type)e.geometry=g(e.geometry,t,!0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)e.features[r]=g(e.features[r],t,!0);else if("GeometryCollection"===e.type)for(var o=0;o<e.geometries.length;o++)e.geometries[o]=g(e.geometries[o],t,!0);else e.coordinates=function e(t,n){for(var r=0;r<t.length;r++)"number"==typeof t[r][0]&&(t[r]=n(t[r])),"object"==typeof t[r]&&(t[r]=e(t[r],n));return t}(e.coordinates,t);return n||t===p&&(e.crs=i),t===d&&delete e.crs,e}function y(e){return g(e,p)}function v(e){return g(e,d)}function m(e,t){return e[0]>t[0]?-1:e[0]<t[0]?1:e[1]>t[1]?-1:e[1]<t[1]?1:0}function b(e,t,n){return function(e,t){return e<t?-1:e>t?1:0}((t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1]),0)}function _(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function w(e,t){var n=t;for(var r in e){var i=b(t,n,e[r]);(-1===i||0===i&&_(t,e[r])>_(t,n))&&(n=e[r])}return n}function x(e){if(0===e.length)return[];if(1===e.length)return e;for(var t=[e.sort(m)[0]],n=0;n<t.length;n++){var r=w(e,t[n]);r!==t[0]&&t.push(r)}return t}function I(e,t){for(var n=!1,r=-1,i=e.length,o=i-1;++r<i;o=r)(e[r][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[r][1])&&t[0]<(e[o][0]-e[r][0])*(t[1]-e[r][1])/(e[o][1]-e[r][1])+e[r][0]&&(n=!n);return n}function N(e,t){if(e&&e.length){if(1===e.length)return I(e[0],t);if(I(e[0],t)){for(var n=1;n<e.length;n++)if(I(e[n],t))return!1;return!0}return!1}return!1}function S(e,t,n,r){var i=(r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]),o=(t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]),s=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(0!==s){var a=i/s,u=o/s;if(0<=a&&a<=1&&0<=u&&u<=1)return!0}return!1}function k(e){return!isNaN(parseFloat(e))&&isFinite(e)}function T(e,t){if(k(e[0][0])){if(k(t[0][0])){for(var n=0;n<e.length-1;n++)for(var r=0;r<t.length-1;r++)if(S(e[n],e[n+1],t[r],t[r+1]))return!0}else for(var i=0;i<t.length;i++)if(T(e,t[i]))return!0}else for(var o=0;o<e.length;o++)if(T(e[o],t))return!0;return!1}function E(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].slice();!1===C(r[0],r[r.length-1])&&r.push(r[0]),t.push(r)}return t}function C(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function O(e,t){if(e.length!==t.length)return!1;for(var n=e.slice().sort(m),r=t.slice().sort(m),i=0;i<n.length;i++){if(n[i].length!==r[i].length)return!1;for(var o=0;o<n.length;o++)if(n[i][o]!==r[i][o])return!1}return!0}var R=["length"];function A(e){if(e)switch(e.type){case"Point":return new L(e);case"MultiPoint":return new P(e);case"LineString":return new D(e);case"MultiLineString":return new M(e);case"Polygon":return new B(e);case"MultiPolygon":return new U(e);case"Feature":return new F(e);case"FeatureCollection":return new q(e);case"GeometryCollection":return new z(e);default:throw new Error("Unknown type: "+e.type)}}function L(e){var t=Array.prototype.slice.call(arguments);if(e&&"Point"===e.type&&e.coordinates)s(this,e);else if(e&&o(e))this.coordinates=e;else{if(!(t.length>=2))throw"Terraformer: invalid input for Terraformer.Point";this.coordinates=t}this.type="Point"}function P(e){if(e&&"MultiPoint"===e.type&&e.coordinates)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.MultiPoint";this.coordinates=e}this.type="MultiPoint"}function D(e){if(e&&"LineString"===e.type&&e.coordinates)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.LineString";this.coordinates=e}this.type="LineString"}function M(e){if(e&&"MultiLineString"===e.type&&e.coordinates)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.MultiLineString";this.coordinates=e}this.type="MultiLineString"}function B(e){if(e&&"Polygon"===e.type&&e.coordinates)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.Polygon";this.coordinates=e}this.type="Polygon"}function U(e){if(e&&"MultiPolygon"===e.type&&e.coordinates)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.MultiPolygon";this.coordinates=e}this.type="MultiPolygon"}function F(e){if(e&&"Feature"===e.type)s(this,e);else{if(!(e&&e.type&&e.coordinates))throw"Terraformer: invalid input for Terraformer.Feature";this.geometry=e}this.type="Feature"}function q(e){if(e&&"FeatureCollection"===e.type&&e.features)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.FeatureCollection";this.features=e}this.type="FeatureCollection"}function z(e){if(e&&"GeometryCollection"===e.type&&e.geometries)s(this,e);else if(o(e))this.geometries=e;else{if(!e.coordinates||!e.type)throw"Terraformer: invalid input for Terraformer.GeometryCollection";this.type="GeometryCollection",this.geometries=[e]}this.type="GeometryCollection"}function G(e,t,n){for(var r=p(e),i=n||64,o={type:"Polygon",coordinates:[[]]},s=1;s<=i;s++){var a=s*(360/i)*Math.PI/180;o.coordinates[0].push([r[0]+t*Math.cos(a),r[1]+t*Math.sin(a)])}return o.coordinates=E(o.coordinates),v(o)}function H(e,t,n){var r=n||64,i=t||250;if(!e||e.length<2||!i||!r)throw new Error("Terraformer: missing parameter for Terraformer.Circle");s(this,new F({type:"Feature",geometry:G(e,i,r),properties:{radius:i,center:e,steps:r}}))}return A.prototype.toMercator=function(){return y(this)},A.prototype.toGeographic=function(){return v(this)},A.prototype.envelope=function(){return l(this)},A.prototype.bbox=function(){return a(this)},A.prototype.convexHull=function(){var e,t,n=[];if("Point"===this.type)return null;if("LineString"===this.type||"MultiPoint"===this.type){if(!(this.coordinates&&this.coordinates.length>=3))return null;n=this.coordinates}else if("Polygon"===this.type||"MultiLineString"===this.type){if(!(this.coordinates&&this.coordinates.length>0))return null;for(e=0;e<this.coordinates.length;e++)n=n.concat(this.coordinates[e]);if(n.length<3)return null}else if("MultiPolygon"===this.type){if(!(this.coordinates&&this.coordinates.length>0))return null;for(e=0;e<this.coordinates.length;e++)for(t=0;t<this.coordinates[e].length;t++)n=n.concat(this.coordinates[e][t]);if(n.length<3)return null}else if("Feature"===this.type){return new A(this.geometry).convexHull()}return new B({type:"Polygon",coordinates:E([x(n)])})},A.prototype.toJSON=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&-1===R.indexOf(t)&&(e[t]=this[t]);return e.bbox=a(this),e},A.prototype.contains=function(e){return new A(e).within(this)},A.prototype.within=function(e){var t,n;if("Feature"===e.type&&(e=e.geometry),"Point"===e.type&&"Point"===this.type)return C(this.coordinates,e.coordinates);if("MultiLineString"===e.type&&"Point"===this.type)for(t=0;t<e.coordinates.length;t++){var r={type:"LineString",coordinates:e.coordinates[t]};if(this.within(r))return!0}if(("LineString"===e.type||"MultiPoint"===e.type)&&"Point"===this.type)for(t=0;t<e.coordinates.length;t++){if(this.coordinates.length!==e.coordinates[t].length)return!1;if(C(this.coordinates,e.coordinates[t]))return!0}if("Polygon"===e.type){if("Polygon"===this.type){if(e.coordinates.length===this.coordinates.length)for(t=0;t<this.coordinates.length;t++)if(O(this.coordinates[t],e.coordinates[t]))return!0;return!(!this.coordinates.length||!N(e.coordinates,this.coordinates[0][0]))&&!T(E(this.coordinates),E(e.coordinates))}if("Point"===this.type)return N(e.coordinates,this.coordinates);if("LineString"===this.type||"MultiPoint"===this.type){if(!this.coordinates||0===this.coordinates.length)return!1;for(t=0;t<this.coordinates.length;t++)if(!1===N(e.coordinates,this.coordinates[t]))return!1;return!0}if("MultiLineString"===this.type){for(t=0;t<this.coordinates.length;t++){if(!1===new D(this.coordinates[t]).within(e))return n++,!1}return!0}if("MultiPolygon"===this.type){for(t=0;t<this.coordinates.length;t++){if(!1===new A({type:"Polygon",coordinates:this.coordinates[t]}).within(e))return!1}return!0}}if("MultiPolygon"===e.type){if("Point"===this.type){if(e.coordinates.length)for(t=0;t<e.coordinates.length;t++)if(N(e.coordinates[t],this.coordinates)&&!1===T([this.coordinates],e.coordinates))return!0;return!1}if("Polygon"===this.type){for(t=0;t<this.coordinates.length;t++)if(e.coordinates[t].length===this.coordinates.length)for(j=0;j<this.coordinates.length;j++)if(O(this.coordinates[j],e.coordinates[t][j]))return!0;if(!1===T(this.coordinates,e.coordinates)&&e.coordinates.length){for(t=0;t<e.coordinates.length;t++)n=!1!==N(e.coordinates[t],this.coordinates[0][0]);return n}}else if("LineString"===this.type||"MultiPoint"===this.type)for(t=0;t<e.coordinates.length;t++){var i={type:"Polygon",coordinates:e.coordinates[t]};return!!this.within(i)}else{if("MultiLineString"===this.type){for(t=0;t<this.coordinates.length;t++){if(!1===new D(this.coordinates[t]).within(e))return!1}return!0}if("MultiPolygon"===this.type){for(t=0;t<e.coordinates.length;t++){var o={type:"Polygon",coordinates:e.coordinates[t]};if(!1===this.within(o))return!1}return!0}}}return!1},A.prototype.intersects=function(e){"Feature"===e.type&&(e=e.geometry);var t=new A(e);return!(!this.within(e)&&!t.within(this))||("Point"!==this.type&&"MultiPoint"!==this.type&&"Point"!==e.type&&"MultiPoint"!==e.type?T(this.coordinates,e.coordinates):"Feature"===this.type?new A(this.geometry).intersects(e):(function(){var e=Array.prototype.slice.apply(arguments);void 0!==typeof console&&console.warn&&console.warn.apply(console,e)}("Type "+this.type+" to "+e.type+" intersection is not supported by intersects"),!1))},L.prototype=new A,L.prototype.constructor=L,P.prototype=new A,P.prototype.constructor=P,P.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates]);return this},P.prototype.addPoint=function(e){return this.coordinates.push(e),this},P.prototype.insertPoint=function(e,t){return this.coordinates.splice(t,0,e),this},P.prototype.removePoint=function(e){return"number"==typeof e?this.coordinates.splice(e,1):this.coordinates.splice(this.coordinates.indexOf(e),1),this},P.prototype.get=function(e){return new L(this.coordinates[e])},D.prototype=new A,D.prototype.constructor=D,D.prototype.addVertex=function(e){return this.coordinates.push(e),this},D.prototype.insertVertex=function(e,t){return this.coordinates.splice(t,0,e),this},D.prototype.removeVertex=function(e){return this.coordinates.splice(e,1),this},M.prototype=new A,M.prototype.constructor=M,M.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates])},M.prototype.get=function(e){return new D(this.coordinates[e])},B.prototype=new A,B.prototype.constructor=B,B.prototype.addVertex=function(e){return this.insertVertex(e,this.coordinates[0].length-1),this},B.prototype.insertVertex=function(e,t){return this.coordinates[0].splice(t,0,e),this},B.prototype.removeVertex=function(e){return this.coordinates[0].splice(e,1),this},B.prototype.close=function(){this.coordinates=E(this.coordinates)},B.prototype.hasHoles=function(){return this.coordinates.length>1},B.prototype.holes=function(){if(holes=[],this.hasHoles())for(var e=1;e<this.coordinates.length;e++)holes.push(new B([this.coordinates[e]]));return holes},U.prototype=new A,U.prototype.constructor=U,U.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates])},U.prototype.get=function(e){return new B(this.coordinates[e])},U.prototype.close=function(){var e=[];return this.forEach(function(t){e.push(E(t))}),this.coordinates=e,this},F.prototype=new A,F.prototype.constructor=F,q.prototype=new A,q.prototype.constructor=q,q.prototype.forEach=function(e){for(var t=0;t<this.features.length;t++)e.apply(this,[this.features[t],t,this.features])},q.prototype.get=function(e){var t;return this.forEach(function(n){n.id===e&&(t=n)}),new F(t)},z.prototype=new A,z.prototype.constructor=z,z.prototype.forEach=function(e){for(var t=0;t<this.geometries.length;t++)e.apply(this,[this.geometries[t],t,this.geometries])},z.prototype.get=function(e){return new A(this.geometries[e])},H.prototype=new A,H.prototype.constructor=H,H.prototype.recalculate=function(){return this.geometry=G(this.properties.center,this.properties.radius,this.properties.steps),this},H.prototype.center=function(e){return e&&(this.properties.center=e,this.recalculate()),this.properties.center},H.prototype.radius=function(e){return e&&(this.properties.radius=e,this.recalculate()),this.properties.radius},H.prototype.steps=function(e){return e&&(this.properties.steps=e,this.recalculate()),this.properties.steps},H.prototype.toJSON=function(){return A.prototype.toJSON.call(this)},e.Primitive=A,e.Point=L,e.MultiPoint=P,e.LineString=D,e.MultiLineString=M,e.Polygon=B,e.MultiPolygon=U,e.Feature=F,e.FeatureCollection=q,e.GeometryCollection=z,e.Circle=H,e.toMercator=y,e.toGeographic=v,e.Tools={},e.Tools.positionToMercator=p,e.Tools.positionToGeographic=d,e.Tools.applyConverter=g,e.Tools.toMercator=y,e.Tools.toGeographic=v,e.Tools.createCircle=G,e.Tools.calculateBounds=a,e.Tools.calculateEnvelope=l,e.Tools.coordinatesContainPoint=I,e.Tools.polygonContainsPoint=N,e.Tools.arraysIntersectArrays=T,e.Tools.coordinatesContainPoint=I,e.Tools.coordinatesEqual=O,e.Tools.convexHull=x,e.Tools.isConvex=function(e){for(var t,n=0;n<e.length-3;n++){var r=e[n],i=e[n+1],o=e[n+2],s=[i[0]-r[0],i[1]-r[1]],a=o[0]*s[1]-o[1]*s[0]+s[0]*r[1]-s[1]*r[0];if(0===n)t=a<0;else if(t&&a>0||!t&&a<0)return!1}return!0},e.MercatorCRS=i,e.GeographicCRS={type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/ogcwkt/",type:"ogcwkt"}},e})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var o=n(61),s=n(168),a=function(){function e(e,t){this.treeCache=new s.default(e,t),this.fetch=new o({})}return e.prototype.getNode=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return[2,this.treeCache.getNode(e)]})})},e.prototype.getMember=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return[2,this.treeCache.getMember(e)]})})},e.prototype.getCollection=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return[2,this.treeCache.getCollection(e)]})})},e.prototype.getChildRelation=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return[2,this.treeCache.getChildRelation(e)]})})},e.getInstance=function(t,n){return e.instance||(e.instance=new e(t,n)),e.instance},e}();t.default=a},function(e,t,n){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,n(0))},function(e,t,n){var r=n(9),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r=n(117),i=n(119);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(120);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=s.exec(b);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var I="//"===b.substr(0,2);!I||w&&y[w]||(b=b.substr(2),this.slashes=!0)}if(!y[w]&&(I||w&&!v[w])){for(var N,j,S=-1,k=0;k<f.length;k++){-1!==(T=b.indexOf(f[k]))&&(-1===S||T<S)&&(S=T)}-1!==(j=-1===S?b.lastIndexOf("@"):b.lastIndexOf("@",S))&&(N=b.slice(0,j),b=b.slice(j+1),this.auth=decodeURIComponent(N)),S=-1;for(k=0;k<h.length;k++){var T;-1!==(T=b.indexOf(h[k]))&&(-1===S||T<S)&&(S=T)}-1===S&&(S=b.length),this.host=b.slice(0,S),b=b.slice(S),this.parseHost(),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E)for(var C=this.hostname.split(/\./),O=(k=0,C.length);k<O;k++){var R=C[k];if(R&&!R.match(d)){for(var A="",L=0,P=R.length;L<P;L++)R.charCodeAt(L)>127?A+="x":A+=R[L];if(!A.match(d)){var D=C.slice(0,k),M=C.slice(k+1),B=R.match(p);B&&(D.push(B[1]),M.unshift(B[2])),M.length&&(b="/"+M.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+U,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[x])for(k=0,O=l.length;k<O;k++){var q=l[k];if(-1!==b.indexOf(q)){var z=encodeURIComponent(q);z===q&&(z=escape(q)),b=b.split(q).join(z)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=m.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var V=this.search||"";this.path=U+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",m=n.search||"";n.path=g+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||n.host&&e.pathname,x=w,I=n.pathname&&n.pathname.split("/")||[],N=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(N&&(n.hostname="",n.port=null,n.host&&(""===I[0]?I[0]=n.host:I.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===I[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,I=p;else if(p.length)I||(I=[]),I.pop(),I=I.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(N)n.hostname=n.host=I.shift(),(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!I.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var j=I.slice(-1)[0],S=(n.host||e.host||I.length>1)&&("."===j||".."===j)||""===j,k=0,T=I.length;T>=0;T--)"."===(j=I[T])?I.splice(T,1):".."===j?(I.splice(T,1),k++):k&&(I.splice(T,1),k--);if(!w&&!x)for(;k--;k)I.unshift("..");!w||""===I[0]||I[0]&&"/"===I[0].charAt(0)||I.unshift(""),S&&"/"!==I.join("/").substr(-1)&&I.push("");var E,C=""===I[0]||I[0]&&"/"===I[0].charAt(0);N&&(n.hostname=n.host=C?"":I.length?I.shift():"",(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift()));return(w=w||n.host&&I.length)&&!C&&I.unshift(""),I.length?n.pathname=I.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r="http://www.w3.org/2001/XMLSchema#",i="http://www.w3.org/2000/10/swap/";e.exports={xsd:{decimal:r+"decimal",boolean:r+"boolean",double:r+"double",integer:r+"integer",string:r+"string"},rdf:{type:n+"type",nil:n+"nil",first:n+"first",rest:n+"rest",langString:n+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:i+"reify#forSome",forAll:i+"reify#forAll"},log:{implies:i+"log#implies"}}},function(e,t){var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r="http://www.w3.org/2001/XMLSchema#",i="http://www.w3.org/2000/10/swap/";e.exports={xsd:{decimal:r+"decimal",boolean:r+"boolean",double:r+"double",integer:r+"integer",string:r+"string"},rdf:{type:n+"type",nil:n+"nil",first:n+"first",rest:n+"rest",langString:n+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:i+"reify#forSome",forAll:i+"reify#forAll"},log:{implies:i+"log#implies"}}},function(e,t,n){"use strict";const{isKeyword:r}=n(16),i=n(10),o=n(6),s=n(2),a=n(11),u={};e.exports=u,u.createMergedNodeMap=((e,t)=>{const n=(t=t||{}).issuer||new s.IdentifierIssuer("_:b"),r={"@default":{}};return u.createNodeMap(e,r,"@default",n),u.mergeNodeMaps(r)}),u.createNodeMap=((e,t,n,c,l,h)=>{if(o.isArray(e)){for(let r=0;r<e.length;++r)u.createNodeMap(e[r],t,n,c,void 0,h);return}if(!o.isObject(e))return void(h&&h.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(h&&h.push(e))}if("@type"in e){const t=e["@type"];for(let e=0;e<t.length;++e){const n=t[e];0===n.indexOf("_:")&&c.getId(n)}}o.isUndefined(l)&&(l=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),h&&h.push({"@id":l});const f=t[n],d=f[l]=f[l]||{};d["@id"]=l;const p=Object.keys(e).sort();for(let o=0;o<p.length;++o){let h=p[o];if("@id"===h)continue;if("@reverse"===h){const r={"@id":l},o=e["@reverse"];for(const e in o){const a=o[e];for(let o=0;o<a.length;++o){const l=a[o];let h=l["@id"];i.isBlankNode(l)&&(h=c.getId(h)),u.createNodeMap(l,t,n,c,h),s.addValue(f[h],e,r,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===h){l in t||(t[l]={}),u.createNodeMap(e[h],t,l,c);continue}if("@type"!==h&&r(h)){if("@index"===h&&h in d&&(e[h]!==d[h]||e[h]["@id"]!==d[h]["@id"]))throw new a("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:d});d[h]=e[h];continue}const g=e[h];if(0===h.indexOf("_:")&&(h=c.getId(h)),0!==g.length)for(let e=0;e<g.length;++e){let r=g[e];if("@type"===h&&(r=0===r.indexOf("_:")?c.getId(r):r),i.isSubject(r)||i.isSubjectReference(r)){const e=i.isBlankNode(r)?c.getId(r["@id"]):r["@id"];s.addValue(d,h,{"@id":e},{propertyIsArray:!0,allowDuplicate:!1}),u.createNodeMap(r,t,n,c,e)}else if(i.isList(r)){const e=[];u.createNodeMap(r["@list"],t,n,c,l,e),r={"@list":e},s.addValue(d,h,r,{propertyIsArray:!0,allowDuplicate:!1})}else u.createNodeMap(r,t,n,c,l),s.addValue(d,h,r,{propertyIsArray:!0,allowDuplicate:!1})}else s.addValue(d,h,[],{propertyIsArray:!0})}}),u.mergeNodeMapGraphs=(e=>{const t={};for(const n of Object.keys(e).sort())for(const i of Object.keys(e[n]).sort()){const o=e[n][i];i in t||(t[i]={"@id":i});const a=t[i];for(const e of Object.keys(o).sort())if(r(e))a[e]=s.clone(o[e]);else for(const t of o[e])s.addValue(a,e,s.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t}),u.mergeNodeMaps=(e=>{const t=e["@default"],n=Object.keys(e).sort();for(let r=0;r<n.length;++r){const o=n[r];if("@default"===o)continue;const s=e[o];let a=t[o];a?"@graph"in a||(a["@graph"]=[]):t[o]=a={"@id":o,"@graph":[]};const u=a["@graph"],c=Object.keys(s).sort();for(let e=0;e<c.length;++e){const t=s[c[e]];i.isSubjectReference(t)||u.push(t)}}return t})},function(e,t){var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r="http://www.w3.org/2001/XMLSchema#",i="http://www.w3.org/2000/10/swap/";e.exports={xsd:{decimal:r+"decimal",boolean:r+"boolean",double:r+"double",integer:r+"integer",string:r+"string"},rdf:{type:n+"type",nil:n+"nil",first:n+"first",rest:n+"rest",langString:n+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:i+"reify#forSome",forAll:i+"reify#forAll"},log:{implies:i+"log#implies"}}},function(e,t,n){"use strict";const{isKeyword:r}=n(18),i=n(12),o=n(7),s=n(3),a=n(13),u={};e.exports=u,u.createMergedNodeMap=((e,t)=>{const n=(t=t||{}).issuer||new s.IdentifierIssuer("_:b"),r={"@default":{}};return u.createNodeMap(e,r,"@default",n),u.mergeNodeMaps(r)}),u.createNodeMap=((e,t,n,c,l,h)=>{if(o.isArray(e)){for(let r=0;r<e.length;++r)u.createNodeMap(e[r],t,n,c,void 0,h);return}if(!o.isObject(e))return void(h&&h.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(h&&h.push(e))}if("@type"in e){const t=e["@type"];for(let e=0;e<t.length;++e){const n=t[e];0===n.indexOf("_:")&&c.getId(n)}}o.isUndefined(l)&&(l=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),h&&h.push({"@id":l});const f=t[n],d=f[l]=f[l]||{};d["@id"]=l;const p=Object.keys(e).sort();for(let o=0;o<p.length;++o){let h=p[o];if("@id"===h)continue;if("@reverse"===h){const r={"@id":l},o=e["@reverse"];for(const e in o){const a=o[e];for(let o=0;o<a.length;++o){const l=a[o];let h=l["@id"];i.isBlankNode(l)&&(h=c.getId(h)),u.createNodeMap(l,t,n,c,h),s.addValue(f[h],e,r,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===h){l in t||(t[l]={}),u.createNodeMap(e[h],t,l,c);continue}if("@type"!==h&&r(h)){if("@index"===h&&h in d&&(e[h]!==d[h]||e[h]["@id"]!==d[h]["@id"]))throw new a("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:d});d[h]=e[h];continue}const g=e[h];if(0===h.indexOf("_:")&&(h=c.getId(h)),0!==g.length)for(let e=0;e<g.length;++e){let r=g[e];if("@type"===h&&(r=0===r.indexOf("_:")?c.getId(r):r),i.isSubject(r)||i.isSubjectReference(r)){const e=i.isBlankNode(r)?c.getId(r["@id"]):r["@id"];s.addValue(d,h,{"@id":e},{propertyIsArray:!0,allowDuplicate:!1}),u.createNodeMap(r,t,n,c,e)}else if(i.isList(r)){const e=[];u.createNodeMap(r["@list"],t,n,c,l,e),r={"@list":e},s.addValue(d,h,r,{propertyIsArray:!0,allowDuplicate:!1})}else u.createNodeMap(r,t,n,c,l),s.addValue(d,h,r,{propertyIsArray:!0,allowDuplicate:!1})}else s.addValue(d,h,[],{propertyIsArray:!0})}}),u.mergeNodeMapGraphs=(e=>{const t={};for(const n of Object.keys(e).sort())for(const i of Object.keys(e[n]).sort()){const o=e[n][i];i in t||(t[i]={"@id":i});const a=t[i];for(const e of Object.keys(o).sort())if(r(e))a[e]=s.clone(o[e]);else for(const t of o[e])s.addValue(a,e,s.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t}),u.mergeNodeMaps=(e=>{const t=e["@default"],n=Object.keys(e).sort();for(let r=0;r<n.length;++r){const o=n[r];if("@default"===o)continue;const s=e[o];let a=t[o];a?"@graph"in a||(a["@graph"]=[]):t[o]=a={"@id":o,"@graph":[]};const u=a["@graph"],c=Object.keys(s).sort();for(let e=0;e<c.length;++e){const t=s[c[e]];i.isSubjectReference(t)||u.push(t)}}return t})},function(e,t,n){"use strict";(function(t,r,i){var o=n(34);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var a,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;m.WritableState=v;var c=n(23);c.inherits=n(8);var l={deprecate:n(112)},h=n(68),f=n(35).Buffer,d=i.Uint8Array||function(){};var p,g=n(69);function y(){}function v(e,t){a=a||n(14),e=e||{};var r=t instanceof a;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(N,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),N(e,t))}(e,n,r,t,i);else{var s=x(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?u(_,e,n,s,i):_(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function m(e){if(a=a||n(14),!(p.call(m,this)||this instanceof a))return new m(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),N(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var a=0,u=!0;n;)i[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;i.allBuffers=u,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,h=n.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),N(e,t)})}function N(e,t){var n=x(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(I,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(m,h),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===m&&(e&&e._writableState instanceof v)}})):p=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,n){var r=this._writableState,i=!1,s=!r.objectMode&&function(e){return f.isBuffer(e)||e instanceof d}(e);return s&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=y),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(r,s),i=!1),i}(this,r,e,n))&&(r.pendingcb++,i=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,a,r,i,o);return u}(this,r,s,e,t,n)),i},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,N(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(0),n(5).setImmediate,n(1))},function(e,t,n){var r;r=function(){};t=e.exports={DataFactory:r("./lib/N3DataFactory"),Lexer:r("./lib/N3Lexer"),Parser:r("./lib/N3Parser"),Writer:r("./lib/N3Writer"),Store:r("./lib/N3Store"),StreamParser:r("./lib/N3StreamParser"),StreamWriter:r("./lib/N3StreamWriter"),Util:r("./lib/N3Util")};Object.keys(t).forEach(function(e){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return delete t[e],t[e]=n(124)("./N3"+e)}})})},function(e,t,n){(function(t){var r=n(37).xsd,i=String.fromCharCode,o="function"==typeof t?t:function(e){setTimeout(e,0)},s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,a={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},u=/[\x00-\x20<>\\"\{\}\|\^\`]/;function c(e){if(!(this instanceof c))return new c(e);if((e=e||{}).lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var t=this;this._tokenize=this.tokenize,this.tokenize=function(e,n){this._tokenize(e,function(e,r){!e&&/^(?:IRI|blank|literal|langcode|typeIRI|\.|eof)$/.test(r.type)?n&&n(e,r):n&&n(e||t._syntaxError(r.type,n=null))})}}this._n3Mode=!1!==e.n3,this._comments=!!e.comments}c.prototype={_iri:/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,_unescapedString:/^"([^"\\\r\n]+)"/,_singleQuotedString:/^"((?:[^"\\\r\n]|\\.)*)"(?=[^"])|^'((?:[^'\\\r\n]|\\.)*)'(?=[^'])/,_tripleQuotedString:/^"""([^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*)"""|^'''([^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*)'''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,_variable:/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/i,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_comment:/#([^\n\r]*)/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(e,t){for(var n=this._input,i=this._comments;;){for(var o,s;o=this._newline.exec(n);)i&&(s=this._comment.exec(o[0]))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),n=n.substr(o[0].length,n.length),this._line++;if((o=this._whitespace.exec(n))&&(n=n.substr(o[0].length,n.length)),this._endOfFile.test(n))return t&&(i&&(s=this._comment.exec(n))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),e(n=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=n;var a=this._line,c="",l="",h="",f=n[0],d=null,p=0,g=!1;switch(f){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(p=1,c="^");break}if(this._previousMarker="^^","<"!==(n=n.substr(2))[0]){g=!0;break}case"<":if(d=this._unescapedIri.exec(n))c="IRI",l=d[1];else if(d=this._iri.exec(n)){if(null===(l=this._unescape(d[1]))||u.test(l))return v(this);c="IRI"}else this._n3Mode&&n.length>1&&"="===n[1]&&(c="inverse",p=2,l=">");break;case"_":((d=this._blank.exec(n))||t&&(d=this._blank.exec(n+" ")))&&(c="blank",h="_",l=d[1]);break;case'"':case"'":if((d=this._unescapedString.exec(n))?l=d[1]:(d=this._singleQuotedString.exec(n))?l=this._unescape("string"==typeof d[1]?d[1]:d[2]):(d=this._tripleQuotedString.exec(n))&&(l="string"==typeof d[1]?d[1]:d[2],this._line+=l.split(/\r\n|\r|\n/).length-1,l=this._unescape(l)),null===l)return v(this);null!==d&&(c="literal");break;case"?":this._n3Mode&&(d=this._variable.exec(n))&&(c="var",l=d[0]);break;case"@":"literal"===this._previousMarker&&(d=this._langcode.exec(n))?(c="langcode",l=d[1]):(d=this._keyword.exec(n))&&(c=d[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){c=".",p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(d=this._number.exec(n)||t&&(d=this._number.exec(n+" ")))&&(c="literal",l=d[0],h=d[1]?r.double:/^[+\-]?\d+$/.test(d[0])?r.integer:r.decimal);break;case"B":case"b":case"p":case"P":case"G":case"g":(d=this._sparqlKeyword.exec(n))?c=d[0].toUpperCase():g=!0;break;case"f":case"t":(d=this._boolean.exec(n))?(c="literal",l=d[0],h=r.boolean):g=!0;break;case"a":(d=this._shortPredicates.exec(n))?(c="abbreviation",l="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(c="abbreviation",">"!==n[1]?(p=1,l="="):(p=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":p=1,c=f;break;default:g=!0}if(g&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(d=this._prefix.exec(n))?((d=this._prefixed.exec(n))||t&&(d=this._prefixed.exec(n+" ")))&&(c="prefixed",h=d[1]||"",l=this._unescape(d[2])):(c="prefix",l=d[1]||"")),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?v(this):this._input=n;var y={line:a,type:c,value:l,prefix:h};e(null,y),this.previousToken=y,this._previousMarker=c,n=n.substr(p||d[0].length,n.length)}function v(t){e(t._syntaxError(/^\S*/.exec(n)[0]))}},_unescape:function(e){try{return e.replace(s,function(e,t,n,r){var o;if(t){if(o=parseInt(t,16),isNaN(o))throw new Error;return i(o)}if(n){if(o=parseInt(n,16),isNaN(o))throw new Error;return o<=65535?i(o):i(55296+(o-=65536)/1024,56320+(1023&o))}var s=a[r];if(!s)throw new Error;return s})}catch(e){return null}},_syntaxError:function(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t},tokenize:function(e,t){var n=this;if(this._line=1,"string"==typeof e){if(this._input=e,"function"!=typeof t){var r,i=[];if(this._tokenizeToEnd(function(e,t){e?r=e:i.push(t)},!0),r)throw r;return i}o(function(){n._tokenizeToEnd(t,!0)})}else this._input="","function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",function(e){null!==n._input&&(n._input+=e,n._tokenizeToEnd(t,!1))}),e.on("end",function(){null!==n._input&&n._tokenizeToEnd(t,!0)}),e.on("error",t)}},e.exports=c}).call(this,n(5).setImmediate)},function(e,t,n){var r=n(44),i=n(20),o=n(37),s=/^[a-z][a-z0-9+.-]*:/i,a=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,u=/(?:^|\/)\.\.?(?:$|[\/#?])/,c=0,l=0;function h(e){if(!(this instanceof h))return new h(e);this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&d(this,e.factory);var t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",n="turtle"===t,i="trig"===t,o=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),u=o||s;(this._supportsNamedGraphs=!(n||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||o||a),u&&(this._base="",this._resolveIRI=function(e){return this._error("Disallowed relative IRI",e),this._callback=f,this._subject=null}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new r({lineMode:u,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}function f(){}function d(e,t){var n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(o.rdf.first),e.RDF_REST=n(o.rdf.rest),e.RDF_NIL=n(o.rdf.nil),e.N3_FORALL=n(o.r.forAll),e.N3_FORSOME=n(o.r.forSome),e.ABBREVIATIONS={a:n(o.rdf.type),"=":n(o.owl.sameAs),">":n(o.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}h._resetBlankNodeIds=function(){c=l=0},h.prototype={_blank:function(){return this._blankNode("b"+l++)},_setBase:function(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(a),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base=null},_saveContext:function(e,t,n,r,i){var o=this._n3Mode;this._contextStack.push({subject:n,predicate:r,object:i,graph:t,type:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))},_restoreContext:function(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)},_readInTopContext:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}},_readEntity:function(e,t){var n;switch(e.type){case"IRI":case"typeIRI":n=this._namedNode(null===this._base||s.test(e.value)?e.value:this._resolveIRI(e));break;case"type":case"prefixed":var r=this._prefixes[e.prefix];if(void 0===r)return this._error('Undefined prefix "'+e.prefix+':"',e);n=this._namedNode(r+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n},_readSubject:function(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blank(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blank(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject},_readObject:function(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blank()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blank()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()},_readPredicateOrNamedGraph:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)},_readBlankNodeHead:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))},_readBlankNodeTail:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()},_readPredicateAfterBlank:function(e){return"."!==e.type||this._contextStack.length?this._readPredicate(e):(this._subject=null,this._readPunctuation(e))},_readListItem:function(e){var t=null,n=null,r=this._subject,i=this._contextStack,o=i[i.length-1],s=this._readListItem;switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blank(),this.RDF_FIRST,this._subject=t=this._blank()),s=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blank(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(s=this._readPredicate,this._subject===this.RDF_NIL)return s}else if(s=this._getContextEndReader(),this._object===this.RDF_NIL)return s;n=this.RDF_NIL;break;case"literal":0===e.prefix.length?s=this._readListItemDataTypeOrLang:(t=this._literal(e.value,this._namedNode(e.prefix)),s=this._getContextEndReader());break;default:if(void 0===(t=this._readEntity(e)))return}if(null===n&&(this._subject=n=this._blank()),null===r?null===o.predicate?o.subject=n:o.object=n:this._emit(r,this.RDF_REST,n,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return s},_readDataTypeOrLang:function(e){return this._completeLiteral(e,!1)},_readListItemDataTypeOrLang:function(e){return this._completeLiteral(e,!0)},_completeLiteral:function(e,t){var n=this._lexer.previousToken.value;switch(e.type){case"type":case"typeIRI":var r=this._readEntity(e);if(void 0===r)return;this._object=this._literal(n,r),e=null;break;case"langcode":this._object=this._literal(n,e.value),e=null;break;default:this._object=this._literal(n)}return t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===e?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(e))},_readFormulaTail:function(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())},_readPunctuation:function(e){var t,n=this._subject,r=this._graph,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}if(null!==n){var o=this._predicate,s=this._object;i?this._emit(s,o,n,r):this._emit(n,o,s,r)}return t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t},_readQuadPunctuation:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext},_readPrefix:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)},_readPrefixIRI:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation},_readBaseIRI:function(e){return"IRI"!==e.type?this._error("Expected IRI to follow base declaration",e):(this._setBase(null===this._base||s.test(e.value)?e.value:this._resolveIRI(e)),this._readDeclarationPunctuation)},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blank(),this._readGraph)},_readDeclarationPunctuation:function(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext},_readQuantifierList:function(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blank(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blank(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier("b"+l++),this._readQuantifierPunctuation},_readQuantifierPunctuation:function(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))},_getPathReader:function(e){return this._afterPath=e,this._readPath},_readPath:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,n=t.length&&t[t.length-1];if(n&&"item"===n.type){var r=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}},_readForwardPath:function(e){var t,n,r=this._blank();if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath},_readBackwardPath:function(e){var t,n,r=this._blank();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(n=this._subject,this._subject=r):(n=this._object,this._object=r),this._emit(r,t,n,this._graph),this._readPath},_getContextEndReader:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}},_emit:function(e,t,n,r){this._callback(null,this._quad(e,t,n,r||this.DEFAULTGRAPH))},_error:function(e,t){var n=new Error(e+" on line "+t.line+".");n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=f},_resolveIRI:function(e){var t=e.value;switch(t[0]){case void 0:return this._base;case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return this._removeDotSegments(this._basePath+t)}},_removeDotSegments:function(e){if(!u.test(e))return e;for(var t="",n=e.length,r=-1,i=-1,o=0,s="/";r<n;){switch(s){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<n&&"/"!==e[i];)r=i;break;case"?":case"#":r=n;break;case"/":if("."===e[r+1])switch(s=e[++r+1]){case"/":t+=e.substring(o,r-1),o=r+1;break;case void 0:case"?":case"#":return t+e.substring(o,r)+e.substr(r+1);case".":if(void 0===(s=e[++r+1])||"/"===s||"?"===s||"#"===s){if((o=(t+=e.substring(o,r-2)).lastIndexOf("/"))>=i&&(t=t.substr(0,o)),"/"!==s)return t+"/"+e.substr(r+1);o=r+1}}}s=e[++r]}return t+e.substring(o)},parse:function(e,t,n){var r=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+c+++"_",this._prefixCallback=n||f,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,o=[];if(this._callback=function(e,t){e?i=e:t&&o.push(t)},this._lexer.tokenize(e).every(function(e){return r._readCallback=r._readCallback(e)}),i)throw i;return o}this._callback=t,this._lexer.tokenize(e,function(e,t){null!==e?(r._callback(e),r._callback=f):r._readCallback&&(r._readCallback=r._readCallback(t))})}},d(h.prototype,i),e.exports=h},function(e,t,n){var r=n(37),i=n(20),o=i.defaultGraph(),s=r.rdf,a=r.xsd,u=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,c=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,l={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function h(e,t){if(!(this instanceof h))return new h(e,t);if(e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var n="";this._outputStream={write:function(e,t,r){n+=e,r&&r()},end:function(e){e&&e(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeQuad=this._writeQuadLine:(this._graph=o,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}function f(e){var t=l[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function d(e){this.id=e}h.prototype={get _inDefaultGraph(){return o.equals(this._graph)},_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeQuad:function(e,t,n,r,i){try{r.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(o.equals(r)?"":this._encodeIriOrBlank(r)+" {\n")),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(n),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i)}catch(e){i&&i(e)}},_writeQuadLine:function(e,t,n,r,i){delete this._prefixMatch,this._write(this.quadToString(e,t,n,r),i)},quadToString:function(e,t,n,r){return this._encodeIriOrBlank(e)+" "+this._encodeIriOrBlank(t)+" "+this._encodeObject(n)+(r&&r.value?" "+this._encodeIriOrBlank(r)+".\n":".\n")},quadsToString:function(e){return e.map(function(e){return this.quadToString(e.subject,e.predicate,e.object,e.graph)},this).join("")},_encodeIriOrBlank:function(e){if("NamedNode"!==e.termType)return"id"in e?e.id:"_:"+e.value;var t=e.value;u.test(t)&&(t=t.replace(c,f));var n=this._prefixRegex.exec(t);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:t:"<"+t+">"},_encodeLiteral:function(e){var t=e.value;return u.test(t)&&(t=t.replace(c,f)),e.language?'"'+t+'"@'+e.language:e.datatype.value!==a.string?'"'+t+'"^^'+this._encodeIriOrBlank(e.datatype):'"'+t+'"'},_encodePredicate:function(e){return e.value===s.type?"a":this._encodeIriOrBlank(e)},_encodeObject:function(e){return"Literal"===e.termType?this._encodeLiteral(e):this._encodeIriOrBlank(e)},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addQuad:function(e,t,n,r,i){void 0===n?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof r?this._writeQuad(e,t,n,o,r):this._writeQuad(e,t,n,r||o,i)},addQuads:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])},addPrefix:function(e,t,n){var r={};r[e]=t,this.addPrefixes(r,n)},addPrefixes:function(e,t){var n=this._prefixIRIs,r=!1;for(var i in e){var o=e[i];"string"!=typeof o&&(o=o.value),/[#\/]$/.test(o)&&n[o]!==(i+=":")&&(r=!0,n[o]=i,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._write("@prefix "+i+" <"+o+">.\n"))}if(r){var s="",a="";for(var u in n)s+=s?"|"+u:u,a+=(a?"|":"")+n[u];s=s.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+a+")[^/]*$|^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(r?"\n":"",t)},blank:function(e,t){var n,r,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),r=i.length){case 0:return new d("[]");case 1:if(!((n=i[0]).object instanceof d))return new d("[ "+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object)+" ]");default:for(var o="[",s=0;s<r;s++)(n=i[s]).predicate.equals(e)?o+=", "+this._encodeObject(n.object):(o+=(s?";\n  ":"\n  ")+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object),e=n.predicate);return new d(o+"\n]")}},list:function(e){for(var t=e&&e.length||0,n=new Array(t),r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return new d("("+n.join(" ")+")")},_prefixRegex:/$0^/,end:function(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(n,r){t=null,e(n,r)};if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}},i.internal.Term.subclass(d),d.prototype.equals=function(){return!1},e.exports=h},function(e,t,n){"use strict";const r=n(15),i=n(82),o=n(143),s=n(86),a=n(144);let u;try{u=n(145)("urdna2015")}catch(e){}const c={};e.exports=c,c.NQuads=n(50),c.IdentifierIssuer=n(48),c.canonize=r.callbackify(async function(e,t){let n;const r=new Promise((e,t)=>{n=((n,r)=>{if(n)return t(n);e(r)})});if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),"URDNA2015"===t.algorithm)u&&!t.usePureJavaScript?u.main({dataset:e},n):new i(t).main(e,n);else{if("URGNA2012"!==t.algorithm)throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm);new o(t).main(e,n)}return r}),c.canonizeSync=function(e,t){if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),"URDNA2015"===t.algorithm)return u&&!t.usePureJavaScript?u.mainSync({dataset:e}):new s(t).main(e);if("URGNA2012"===t.algorithm)return new a(t).main(e);throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},function(e,t,n){"use strict";const r=n(15);e.exports=class e{constructor(e){this.prefix=e,this.counter=0,this.existing={}}clone(){const t=new e(this.prefix);return t.counter=this.counter,t.existing=r.clone(this.existing),t}getId(e){if(e&&e in this.existing)return this.existing[e];const t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t}hasId(e){return e in this.existing}}},function(e,t,n){var r=n(25);e.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}},function(e,t,n){"use strict";const r=n(4),i="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",o="http://www.w3.org/2001/XMLSchema#string",s={};function a(e,t){for(let n in e)if(e[n].termType!==t[n].termType||e[n].value!==t[n].value)return!1;return"Literal"!==e.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.datatype.value===t.object.datatype.value&&e.object.language===t.object.language}s.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,s.empty=new RegExp("^[ \\t]*$"),s.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+))|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-z]+(?:-[a-z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]*\\.))[ \\t]*$'),e.exports=class e{static parse(e){const t=[],n={},u=e.split(s.eoln);let c=0;for(const e of u){if(c++,s.empty.test(e))continue;const u=e.match(s.quad);if(null===u)throw new Error("N-Quads parse error on line "+c+".");const l={};if(r.isUndefined(u[1])?l.subject={termType:"BlankNode",value:u[2]}:l.subject={termType:"NamedNode",value:u[1]},l.predicate={termType:"NamedNode",value:u[3]},r.isUndefined(u[4]))if(r.isUndefined(u[5])){l.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},r.isUndefined(u[7])?r.isUndefined(u[8])?l.object.datatype.value=o:(l.object.datatype.value=i,l.object.language=u[8]):l.object.datatype.value=u[7];const e=u[6].replace(/\\"/g,'"').replace(/\\t/g,"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");l.object.value=e}else l.object={termType:"BlankNode",value:u[5]};else l.object={termType:"NamedNode",value:u[4]};if(r.isUndefined(u[9])?r.isUndefined(u[10])?l.graph={termType:"DefaultGraph",value:""}:l.graph={termType:"BlankNode",value:u[10]}:l.graph={termType:"NamedNode",value:u[9]},l.graph.value in n){let e=!0;const r=n[l.graph.value];for(const t of r)if(a(t,l)){e=!1;break}e&&(r.push(l),t.push(l))}else n[l.graph.value]=[l],t.push(l)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuad(e){const t=e.subject,n=e.predicate,r=e.object,s=e.graph;let a="";if([t,n].forEach(e=>{"NamedNode"===e.termType?a+="<"+e.value+">":a+=e.value,a+=" "}),"NamedNode"===r.termType)a+="<"+r.value+">";else if("BlankNode"===r.termType)a+=r.value;else{const e=r.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');a+='"'+e+'"',r.datatype.value===i?r.language&&(a+="@"+r.language):r.datatype.value!==o&&(a+="^^<"+r.datatype.value+">")}return"NamedNode"===s.termType?a+=" <"+s.value+">":"BlankNode"===s.termType&&(a+=" "+s.value),a+=" .\n"}static legacyDatasetToQuads(e){const t=[],n={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(let r in e){e[r].forEach(e=>{const s={};for(let t in e){const r=e[t],a={termType:n[r.type],value:r.value};"Literal"===a.termType&&(a.datatype={termType:"NamedNode"},"datatype"in r&&(a.datatype.value=r.datatype),"language"in r?("datatype"in r||(a.datatype.value=i),a.language=r.language):"datatype"in r||(a.datatype.value=o)),s[t]=a}s.graph="@default"===r?{termType:"DefaultGraph",value:""}:{termType:r.startsWith("_:")?"BlankNode":"NamedNode",value:r},t.push(s)})}return t}}},function(e,t){},function(e,t,n){"use strict";const{callbackify:r,normalizeDocumentLoader:i}=n(2);e.exports=class{constructor(){this._requests={},this.add=r(this.add.bind(this))}wrapLoader(e){const t=this;return t._loader=i(e),function(){return t.add.apply(t,arguments)}}async add(e){const t=this;let n=t._requests[e];if(n)return Promise.resolve(n);n=t._requests[e]=t._loader(e);try{return await n}finally{delete t._requests[e]}}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();t.__esModule=!0;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.set_session=function(e){this.session=e},t}(n(19));t.default=i},function(e,t){!function(t,n){"object"==typeof e&&"object"==typeof e.exports&&(e.exports=n()),"object"==typeof window&&(t.Terraformer=n())}(this,function(){var e={},t=6378137,n=57.29577951308232,r=.017453292519943,i={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}};function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e){if(e.type)switch(e.type){case"Point":return[e.coordinates[0],e.coordinates[1],e.coordinates[0],e.coordinates[1]];case"MultiPoint":case"LineString":return c(e.coordinates);case"MultiLineString":case"Polygon":return u(e.coordinates);case"MultiPolygon":return function(e){for(var t=null,n=null,r=null,i=null,o=0;o<e.length;o++)for(var s=e[o],a=0;a<s.length;a++)for(var u=s[a],c=0;c<u.length;c++){var l=u[c],h=l[0],f=l[1];null===t?t=h:h<t&&(t=h),null===n?n=h:h>n&&(n=h),null===r?r=f:f<r&&(r=f),null===i?i=f:f>i&&(i=f)}return[t,r,n,i]}(e.coordinates);case"Feature":return e.geometry?a(e.geometry):null;case"FeatureCollection":return function(e){for(var t,n=[],r=e.features.length-1;r>=0;r--)t=a(e.features[r].geometry),n.push([t[0],t[1]]),n.push([t[2],t[3]]);return c(n)}(e);case"GeometryCollection":return function(e){for(var t,n=[],r=e.geometries.length-1;r>=0;r--)t=a(e.geometries[r]),n.push([t[0],t[1]]),n.push([t[2],t[3]]);return c(n)}(e);default:throw new Error("Unknown type: "+e.type)}return null}function u(e){for(var t=null,n=null,r=null,i=null,o=0;o<e.length;o++)for(var s=e[o],a=0;a<s.length;a++){var u=s[a],c=u[0],l=u[1];null===t?t=c:c<t&&(t=c),null===n?n=c:c>n&&(n=c),null===r?r=l:l<r&&(r=l),null===i?i=l:l>i&&(i=l)}return[t,r,n,i]}function c(e){for(var t=null,n=null,r=null,i=null,o=0;o<e.length;o++){var s=e[o],a=s[0],u=s[1];null===t?t=a:a<t&&(t=a),null===n?n=a:a>n&&(n=a),null===r?r=u:u<r&&(r=u),null===i?i=u:u>i&&(i=u)}return[t,r,n,i]}function l(e){var t=a(e);return{x:t[0],y:t[1],w:Math.abs(t[0]-t[2]),h:Math.abs(t[1]-t[3])}}function h(e){return e*n}function f(e){return e*r}function d(e){var n=e[0],r=e[1];return[h(n/t)-360*Math.floor((h(n/t)+180)/360),h(Math.PI/2-2*Math.atan(Math.exp(-1*r/t)))]}function p(e){var n=e[0],r=Math.max(Math.min(e[1],89.99999),-89.99999);return[f(n)*t,t/2*Math.log((1+Math.sin(f(r)))/(1-Math.sin(f(r))))]}function g(e,t,n){if("Point"===e.type)e.coordinates=t(e.coordinates);else if("Feature"===e.type)e.geometry=g(e.geometry,t,!0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)e.features[r]=g(e.features[r],t,!0);else if("GeometryCollection"===e.type)for(var o=0;o<e.geometries.length;o++)e.geometries[o]=g(e.geometries[o],t,!0);else e.coordinates=function e(t,n){for(var r=0;r<t.length;r++)"number"==typeof t[r][0]&&(t[r]=n(t[r])),"object"==typeof t[r]&&(t[r]=e(t[r],n));return t}(e.coordinates,t);return n||t===p&&(e.crs=i),t===d&&delete e.crs,e}function y(e){return g(e,p)}function v(e){return g(e,d)}function m(e,t){return e[0]>t[0]?-1:e[0]<t[0]?1:e[1]>t[1]?-1:e[1]<t[1]?1:0}function b(e,t,n){return function(e,t){return e<t?-1:e>t?1:0}((t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1]),0)}function _(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function w(e,t){var n=t;for(var r in e){var i=b(t,n,e[r]);(-1===i||0===i&&_(t,e[r])>_(t,n))&&(n=e[r])}return n}function x(e){if(0===e.length)return[];if(1===e.length)return e;for(var t=[e.sort(m)[0]],n=0;n<t.length;n++){var r=w(e,t[n]);r!==t[0]&&t.push(r)}return t}function I(e,t){for(var n=!1,r=-1,i=e.length,o=i-1;++r<i;o=r)(e[r][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[r][1])&&t[0]<(e[o][0]-e[r][0])*(t[1]-e[r][1])/(e[o][1]-e[r][1])+e[r][0]&&(n=!n);return n}function N(e,t){if(e&&e.length){if(1===e.length)return I(e[0],t);if(I(e[0],t)){for(var n=1;n<e.length;n++)if(I(e[n],t))return!1;return!0}return!1}return!1}function S(e,t,n,r){var i=(r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]),o=(t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]),s=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(0!==s){var a=i/s,u=o/s;if(0<=a&&a<=1&&0<=u&&u<=1)return!0}return!1}function k(e){return!isNaN(parseFloat(e))&&isFinite(e)}function T(e,t){if(k(e[0][0])){if(k(t[0][0])){for(var n=0;n<e.length-1;n++)for(var r=0;r<t.length-1;r++)if(S(e[n],e[n+1],t[r],t[r+1]))return!0}else for(var i=0;i<t.length;i++)if(T(e,t[i]))return!0}else for(var o=0;o<e.length;o++)if(T(e[o],t))return!0;return!1}function E(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].slice();!1===C(r[0],r[r.length-1])&&r.push(r[0]),t.push(r)}return t}function C(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function O(e,t){if(e.length!==t.length)return!1;for(var n=e.slice().sort(m),r=t.slice().sort(m),i=0;i<n.length;i++){if(n[i].length!==r[i].length)return!1;for(var o=0;o<n.length;o++)if(n[i][o]!==r[i][o])return!1}return!0}var R=["length"];function A(e){if(e)switch(e.type){case"Point":return new L(e);case"MultiPoint":return new P(e);case"LineString":return new D(e);case"MultiLineString":return new M(e);case"Polygon":return new B(e);case"MultiPolygon":return new U(e);case"Feature":return new F(e);case"FeatureCollection":return new q(e);case"GeometryCollection":return new z(e);default:throw new Error("Unknown type: "+e.type)}}function L(e){var t=Array.prototype.slice.call(arguments);if(e&&"Point"===e.type&&e.coordinates)s(this,e);else if(e&&o(e))this.coordinates=e;else{if(!(t.length>=2))throw"Terraformer: invalid input for Terraformer.Point";this.coordinates=t}this.type="Point"}function P(e){if(e&&"MultiPoint"===e.type&&e.coordinates)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.MultiPoint";this.coordinates=e}this.type="MultiPoint"}function D(e){if(e&&"LineString"===e.type&&e.coordinates)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.LineString";this.coordinates=e}this.type="LineString"}function M(e){if(e&&"MultiLineString"===e.type&&e.coordinates)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.MultiLineString";this.coordinates=e}this.type="MultiLineString"}function B(e){if(e&&"Polygon"===e.type&&e.coordinates)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.Polygon";this.coordinates=e}this.type="Polygon"}function U(e){if(e&&"MultiPolygon"===e.type&&e.coordinates)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.MultiPolygon";this.coordinates=e}this.type="MultiPolygon"}function F(e){if(e&&"Feature"===e.type)s(this,e);else{if(!(e&&e.type&&e.coordinates))throw"Terraformer: invalid input for Terraformer.Feature";this.geometry=e}this.type="Feature"}function q(e){if(e&&"FeatureCollection"===e.type&&e.features)s(this,e);else{if(!o(e))throw"Terraformer: invalid input for Terraformer.FeatureCollection";this.features=e}this.type="FeatureCollection"}function z(e){if(e&&"GeometryCollection"===e.type&&e.geometries)s(this,e);else if(o(e))this.geometries=e;else{if(!e.coordinates||!e.type)throw"Terraformer: invalid input for Terraformer.GeometryCollection";this.type="GeometryCollection",this.geometries=[e]}this.type="GeometryCollection"}function G(e,t,n){for(var r=p(e),i=n||64,o={type:"Polygon",coordinates:[[]]},s=1;s<=i;s++){var a=s*(360/i)*Math.PI/180;o.coordinates[0].push([r[0]+t*Math.cos(a),r[1]+t*Math.sin(a)])}return o.coordinates=E(o.coordinates),v(o)}function H(e,t,n){var r=n||64,i=t||250;if(!e||e.length<2||!i||!r)throw new Error("Terraformer: missing parameter for Terraformer.Circle");s(this,new F({type:"Feature",geometry:G(e,i,r),properties:{radius:i,center:e,steps:r}}))}return A.prototype.toMercator=function(){return y(this)},A.prototype.toGeographic=function(){return v(this)},A.prototype.envelope=function(){return l(this)},A.prototype.bbox=function(){return a(this)},A.prototype.convexHull=function(){var e,t,n=[];if("Point"===this.type)return null;if("LineString"===this.type||"MultiPoint"===this.type){if(!(this.coordinates&&this.coordinates.length>=3))return null;n=this.coordinates}else if("Polygon"===this.type||"MultiLineString"===this.type){if(!(this.coordinates&&this.coordinates.length>0))return null;for(e=0;e<this.coordinates.length;e++)n=n.concat(this.coordinates[e]);if(n.length<3)return null}else if("MultiPolygon"===this.type){if(!(this.coordinates&&this.coordinates.length>0))return null;for(e=0;e<this.coordinates.length;e++)for(t=0;t<this.coordinates[e].length;t++)n=n.concat(this.coordinates[e][t]);if(n.length<3)return null}else if("Feature"===this.type){return new A(this.geometry).convexHull()}return new B({type:"Polygon",coordinates:E([x(n)])})},A.prototype.toJSON=function(){var e={};for(var t in this)this.hasOwnProperty(t)&&-1===R.indexOf(t)&&(e[t]=this[t]);return e.bbox=a(this),e},A.prototype.contains=function(e){return new A(e).within(this)},A.prototype.within=function(e){var t,n;if("Feature"===e.type&&(e=e.geometry),"Point"===e.type&&"Point"===this.type)return C(this.coordinates,e.coordinates);if("MultiLineString"===e.type&&"Point"===this.type)for(t=0;t<e.coordinates.length;t++){var r={type:"LineString",coordinates:e.coordinates[t]};if(this.within(r))return!0}if(("LineString"===e.type||"MultiPoint"===e.type)&&"Point"===this.type)for(t=0;t<e.coordinates.length;t++){if(this.coordinates.length!==e.coordinates[t].length)return!1;if(C(this.coordinates,e.coordinates[t]))return!0}if("Polygon"===e.type){if("Polygon"===this.type){if(e.coordinates.length===this.coordinates.length)for(t=0;t<this.coordinates.length;t++)if(O(this.coordinates[t],e.coordinates[t]))return!0;return!(!this.coordinates.length||!N(e.coordinates,this.coordinates[0][0]))&&!T(E(this.coordinates),E(e.coordinates))}if("Point"===this.type)return N(e.coordinates,this.coordinates);if("LineString"===this.type||"MultiPoint"===this.type){if(!this.coordinates||0===this.coordinates.length)return!1;for(t=0;t<this.coordinates.length;t++)if(!1===N(e.coordinates,this.coordinates[t]))return!1;return!0}if("MultiLineString"===this.type){for(t=0;t<this.coordinates.length;t++){if(!1===new D(this.coordinates[t]).within(e))return n++,!1}return!0}if("MultiPolygon"===this.type){for(t=0;t<this.coordinates.length;t++){if(!1===new A({type:"Polygon",coordinates:this.coordinates[t]}).within(e))return!1}return!0}}if("MultiPolygon"===e.type){if("Point"===this.type){if(e.coordinates.length)for(t=0;t<e.coordinates.length;t++)if(N(e.coordinates[t],this.coordinates)&&!1===T([this.coordinates],e.coordinates))return!0;return!1}if("Polygon"===this.type){for(t=0;t<this.coordinates.length;t++)if(e.coordinates[t].length===this.coordinates.length)for(j=0;j<this.coordinates.length;j++)if(O(this.coordinates[j],e.coordinates[t][j]))return!0;if(!1===T(this.coordinates,e.coordinates)&&e.coordinates.length){for(t=0;t<e.coordinates.length;t++)n=!1!==N(e.coordinates[t],this.coordinates[0][0]);return n}}else if("LineString"===this.type||"MultiPoint"===this.type)for(t=0;t<e.coordinates.length;t++){var i={type:"Polygon",coordinates:e.coordinates[t]};return!!this.within(i)}else{if("MultiLineString"===this.type){for(t=0;t<this.coordinates.length;t++){if(!1===new D(this.coordinates[t]).within(e))return!1}return!0}if("MultiPolygon"===this.type){for(t=0;t<e.coordinates.length;t++){var o={type:"Polygon",coordinates:e.coordinates[t]};if(!1===this.within(o))return!1}return!0}}}return!1},A.prototype.intersects=function(e){"Feature"===e.type&&(e=e.geometry);var t=new A(e);return!(!this.within(e)&&!t.within(this))||("Point"!==this.type&&"MultiPoint"!==this.type&&"Point"!==e.type&&"MultiPoint"!==e.type?T(this.coordinates,e.coordinates):"Feature"===this.type?new A(this.geometry).intersects(e):(function(){var e=Array.prototype.slice.apply(arguments);void 0!==typeof console&&console.warn&&console.warn.apply(console,e)}("Type "+this.type+" to "+e.type+" intersection is not supported by intersects"),!1))},L.prototype=new A,L.prototype.constructor=L,P.prototype=new A,P.prototype.constructor=P,P.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates]);return this},P.prototype.addPoint=function(e){return this.coordinates.push(e),this},P.prototype.insertPoint=function(e,t){return this.coordinates.splice(t,0,e),this},P.prototype.removePoint=function(e){return"number"==typeof e?this.coordinates.splice(e,1):this.coordinates.splice(this.coordinates.indexOf(e),1),this},P.prototype.get=function(e){return new L(this.coordinates[e])},D.prototype=new A,D.prototype.constructor=D,D.prototype.addVertex=function(e){return this.coordinates.push(e),this},D.prototype.insertVertex=function(e,t){return this.coordinates.splice(t,0,e),this},D.prototype.removeVertex=function(e){return this.coordinates.splice(e,1),this},M.prototype=new A,M.prototype.constructor=M,M.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates])},M.prototype.get=function(e){return new D(this.coordinates[e])},B.prototype=new A,B.prototype.constructor=B,B.prototype.addVertex=function(e){return this.insertVertex(e,this.coordinates[0].length-1),this},B.prototype.insertVertex=function(e,t){return this.coordinates[0].splice(t,0,e),this},B.prototype.removeVertex=function(e){return this.coordinates[0].splice(e,1),this},B.prototype.close=function(){this.coordinates=E(this.coordinates)},B.prototype.hasHoles=function(){return this.coordinates.length>1},B.prototype.holes=function(){if(holes=[],this.hasHoles())for(var e=1;e<this.coordinates.length;e++)holes.push(new B([this.coordinates[e]]));return holes},U.prototype=new A,U.prototype.constructor=U,U.prototype.forEach=function(e){for(var t=0;t<this.coordinates.length;t++)e.apply(this,[this.coordinates[t],t,this.coordinates])},U.prototype.get=function(e){return new B(this.coordinates[e])},U.prototype.close=function(){var e=[];return this.forEach(function(t){e.push(E(t))}),this.coordinates=e,this},F.prototype=new A,F.prototype.constructor=F,q.prototype=new A,q.prototype.constructor=q,q.prototype.forEach=function(e){for(var t=0;t<this.features.length;t++)e.apply(this,[this.features[t],t,this.features])},q.prototype.get=function(e){var t;return this.forEach(function(n){n.id===e&&(t=n)}),new F(t)},z.prototype=new A,z.prototype.constructor=z,z.prototype.forEach=function(e){for(var t=0;t<this.geometries.length;t++)e.apply(this,[this.geometries[t],t,this.geometries])},z.prototype.get=function(e){return new A(this.geometries[e])},H.prototype=new A,H.prototype.constructor=H,H.prototype.recalculate=function(){return this.geometry=G(this.properties.center,this.properties.radius,this.properties.steps),this},H.prototype.center=function(e){return e&&(this.properties.center=e,this.recalculate()),this.properties.center},H.prototype.radius=function(e){return e&&(this.properties.radius=e,this.recalculate()),this.properties.radius},H.prototype.steps=function(e){return e&&(this.properties.steps=e,this.recalculate()),this.properties.steps},H.prototype.toJSON=function(){return A.prototype.toJSON.call(this)},e.Primitive=A,e.Point=L,e.MultiPoint=P,e.LineString=D,e.MultiLineString=M,e.Polygon=B,e.MultiPolygon=U,e.Feature=F,e.FeatureCollection=q,e.GeometryCollection=z,e.Circle=H,e.toMercator=y,e.toGeographic=v,e.Tools={},e.Tools.positionToMercator=p,e.Tools.positionToGeographic=d,e.Tools.applyConverter=g,e.Tools.toMercator=y,e.Tools.toGeographic=v,e.Tools.createCircle=G,e.Tools.calculateBounds=a,e.Tools.calculateEnvelope=l,e.Tools.coordinatesContainPoint=I,e.Tools.polygonContainsPoint=N,e.Tools.arraysIntersectArrays=T,e.Tools.coordinatesContainPoint=I,e.Tools.coordinatesEqual=O,e.Tools.convexHull=x,e.Tools.isConvex=function(e){for(var t,n=0;n<e.length-3;n++){var r=e[n],i=e[n+1],o=e[n+2],s=[i[0]-r[0],i[1]-r[1]],a=o[0]*s[1]-o[1]*s[0]+s[0]*r[1]-s[1]*r[0];if(0===n)t=a<0;else if(t&&a>0||!t&&a<0)return!1}return!0},e.MercatorCRS=i,e.GeographicCRS={type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/ogcwkt/",type:"ogcwkt"}},e})},function(e,t,n){"use strict";const r=n(17),i=n(93),o=n(193),s=n(97),a=n(194);let u;try{u=n(195)("urdna2015")}catch(e){}const c={};e.exports=c,c.NQuads=n(58),c.IdentifierIssuer=n(56),c.canonize=r.callbackify(async function(e,t){let n;const r=new Promise((e,t)=>{n=((n,r)=>{if(n)return t(n);e(r)})});if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),"URDNA2015"===t.algorithm)u&&!t.usePureJavaScript?u.main({dataset:e},n):new i(t).main(e,n);else{if("URGNA2012"!==t.algorithm)throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm);new o(t).main(e,n)}return r}),c.canonizeSync=function(e,t){if(Array.isArray(e)||(e=c.NQuads.legacyDatasetToQuads(e)),"URDNA2015"===t.algorithm)return u&&!t.usePureJavaScript?u.mainSync({dataset:e}):new s(t).main(e);if("URGNA2012"===t.algorithm)return new a(t).main(e);throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},function(e,t,n){"use strict";const r=n(17);e.exports=class e{constructor(e){this.prefix=e,this.counter=0,this.existing={}}clone(){const t=new e(this.prefix);return t.counter=this.counter,t.existing=r.clone(this.existing),t}getId(e){if(e&&e in this.existing)return this.existing[e];const t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t}hasId(e){return e in this.existing}}},function(e,t,n){var r=n(29);e.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}},function(e,t,n){"use strict";const r=n(4),i="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",o="http://www.w3.org/2001/XMLSchema#string",s={};function a(e,t){for(let n in e)if(e[n].termType!==t[n].termType||e[n].value!==t[n].value)return!1;return"Literal"!==e.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.datatype.value===t.object.datatype.value&&e.object.language===t.object.language}s.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,s.empty=new RegExp("^[ \\t]*$"),s.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+))|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-z]+(?:-[a-z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z0-9]+)))[ \\t]*\\.))[ \\t]*$'),e.exports=class e{static parse(e){const t=[],n={},u=e.split(s.eoln);let c=0;for(const e of u){if(c++,s.empty.test(e))continue;const u=e.match(s.quad);if(null===u)throw new Error("N-Quads parse error on line "+c+".");const l={};if(r.isUndefined(u[1])?l.subject={termType:"BlankNode",value:u[2]}:l.subject={termType:"NamedNode",value:u[1]},l.predicate={termType:"NamedNode",value:u[3]},r.isUndefined(u[4]))if(r.isUndefined(u[5])){l.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},r.isUndefined(u[7])?r.isUndefined(u[8])?l.object.datatype.value=o:(l.object.datatype.value=i,l.object.language=u[8]):l.object.datatype.value=u[7];const e=u[6].replace(/\\"/g,'"').replace(/\\t/g,"\t").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\\\/g,"\\");l.object.value=e}else l.object={termType:"BlankNode",value:u[5]};else l.object={termType:"NamedNode",value:u[4]};if(r.isUndefined(u[9])?r.isUndefined(u[10])?l.graph={termType:"DefaultGraph",value:""}:l.graph={termType:"BlankNode",value:u[10]}:l.graph={termType:"NamedNode",value:u[9]},l.graph.value in n){let e=!0;const r=n[l.graph.value];for(const t of r)if(a(t,l)){e=!1;break}e&&(r.push(l),t.push(l))}else n[l.graph.value]=[l],t.push(l)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuad(e){const t=e.subject,n=e.predicate,r=e.object,s=e.graph;let a="";if([t,n].forEach(e=>{"NamedNode"===e.termType?a+="<"+e.value+">":a+=e.value,a+=" "}),"NamedNode"===r.termType)a+="<"+r.value+">";else if("BlankNode"===r.termType)a+=r.value;else{const e=r.value.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\"/g,'\\"');a+='"'+e+'"',r.datatype.value===i?r.language&&(a+="@"+r.language):r.datatype.value!==o&&(a+="^^<"+r.datatype.value+">")}return"NamedNode"===s.termType?a+=" <"+s.value+">":"BlankNode"===s.termType&&(a+=" "+s.value),a+=" .\n"}static legacyDatasetToQuads(e){const t=[],n={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(let r in e){e[r].forEach(e=>{const s={};for(let t in e){const r=e[t],a={termType:n[r.type],value:r.value};"Literal"===a.termType&&(a.datatype={termType:"NamedNode"},"datatype"in r&&(a.datatype.value=r.datatype),"language"in r?("datatype"in r||(a.datatype.value=i),a.language=r.language):"datatype"in r||(a.datatype.value=o)),s[t]=a}s.graph="@default"===r?{termType:"DefaultGraph",value:""}:{termType:r.startsWith("_:")?"BlankNode":"NamedNode",value:r},t.push(s)})}return t}}},function(e,t){},function(e,t,n){"use strict";const{callbackify:r,normalizeDocumentLoader:i}=n(3);e.exports=class{constructor(){this._requests={},this.add=r(this.add.bind(this))}wrapLoader(e){const t=this;return t._loader=i(e),function(){return t.add.apply(t,arguments)}}async add(e){const t=this;let n=t._requests[e];if(n)return Promise.resolve(n);n=t._requests[e]=t._loader(e);try{return await n}finally{delete t._requests[e]}}}},function(e,t,n){n(4);const r=n(62),i=n(105),o=n(43),s=n(129),{DOMParser:a}=n(136),u=n(138),c=n(158),l=n(167),h=n(81),f=n(19);e.exports=class extends f{constructor(e){super(),this.prefixes={};var t="application/trig;q=1.0,application/n-quads;q=1.0,application/ld+json;q=0.9,application/rdf+xml; q=0.8,text/turtle;q=0.8,application/n-triples;q=0.8,text/html;q=0.5,text/n3;q=0.2";e&&e.headers?this.fetcher=new i(t,e.headers):this.fetcher=new i(t),this.fetcher.on("cache-miss",e=>{this.emit("cache-miss",e)}),this.fetcher.on("cache-hit",e=>{this.emit("cache-hit",e)}),this.fetcher.on("downloaded",e=>{this.emit("downloaded",e)})}async frame(e,t){"string"==typeof e&&(e=await this.get(e).then(e=>e.triples));var n={"@graph":[]},r={};for(var i of e){i.graph.value&&!r[i.graph.value]&&(r[i.graph.value]={"@id":i.graph.value,"@graph":[]});var o={"@id":i.subject.value};"Literal"===i.object.termType?(o[i.predicate.value]={"@value":i.object.value},i.predicate.language&&(o[i.predicate.value]["@language"]=i.object.language),i.object.datatype&&(o[i.predicate.value]["@type"]=i.object.datatype.value)):"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===i.predicate.value?o["@type"]=i.object.value:o[i.predicate.value]={"@id":i.object.value},i.graph.value?r[i.graph.value]["@graph"].push(o):n["@graph"].push(o)}return n["@graph"].push(Object.values(r)),h.frame(n,t)}addPrefix(e,t){this.prefixes[e]=t}getCacheStats(){return this.fetcher.getCacheStats()}prependToBlankNodeNamesQuad(e,t){return"BlankNode"===t.subject.termType&&(t.subject.value=e+"-"+t.subject.value.substr(2)),"BlankNode"===t.predicate.termType&&(t.predicate.value=e+"-"+t.predicate.value.substr(2)),"BlankNode"===t.object.termType&&(t.object.value=e+"-"+t.object.value.substr(2)),t.graph&&"BlankNode"===t.graph.termType&&(t.graph.value=e+"-"+t.graph.value.substr(2)),t}get(e){return this.emit("request",e),this.fetcher.get(e).then(t=>{e!==t.url&&this.emit("redirect",{from:e,to:t.url}),this.emit("response",t.url);var n=[],i={},h=r.defer();if("application/ld+json"===t.type||"application/json"===t.type)return new u({documentIRI:t.url}).parse(t.body,(e,r,o)=>{this.emit("parsed",t.url),e?h.reject(e):r?n.push(r):(i=Object.assign(this.prefixes,i),h.resolve({triples:n,prefixes:i,statusCode:t.statusCode,url:t.url})),o&&(i=Object.assign(i,o))}),h.promise;if("text/html"===t.type){for(var f=[],d=0,p=l(t.body,t.url),g=p.querySelectorAll("script[type*='application/ld+json']"),y=0;y<g.length;y++){var v=g[y];f[y]=r.defer();new u({documentIRI:t.url}).parse(v.textContent,(e,t,r)=>{t?n.push(this.prependToBlankNodeNamesQuad("jsonldsnippet-"+d,t)):e?(console.error("WARNING: an error was given while processing a JSON-LD snippet: ",e),f[d].resolve(),d++):(f[d].resolve(),d++)})}new c({documentIRI:t.url}).parse(p,(e,r,o)=>{this.emit("parsed",t.url),e?h.reject(e):r?n.push(r):(i=Object.assign(this.prefixes,i),h.resolve()),o&&(i=Object.assign(i,o))});var m=[h].concat(f).map(e=>e.promise);return r.all(m).then(()=>({triples:n,prefixes:i,statusCode:t.statusCode,url:t.url}))}if(["application/trig","application/n-quads","text/turtle","application/n-triples","text/n3"].indexOf(t.type.toLowerCase())>-1)new o.Parser({documentIRI:t.url}).parse(t.body,(e,r,o)=>{this.emit("parsed",t.url),e?h.reject(e):r?n.push(r):(i=Object.assign(i,this.prefixes),h.resolve({triples:n,prefixes:i,statusCode:t.statusCode,url:t.url})),o&&(i=Object.assign(i,o))});else if(["application/rdf+xml"].indexOf(t.type.toLowerCase())>-1){(new s).parse((new a).parseFromString(t.body),t.url,t.url,e=>{this.emit("parsed",t.url),e?n.push(e):h.resolve({triples:n,statusCode:t.statusCode,url:t.url})})}else h.resolve({statusCode:t.statusCode,triples:n,prefixes:i,url:t.url,error:"Cannot parse "+t.type});return h.promise})}}},function(e,t,n){(function(t,n){
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(t){"use strict";"function"==typeof bootstrap?bootstrap("promise",t):e.exports=t()}(function(){"use strict";var e=!1;try{throw new Error}catch(t){e=!!t.stack}var r,i=N(),o=function(){},s=function(){var e={task:void 0,next:null},r=e,i=!1,o=void 0,a=!1,u=[];function c(){for(var t,n;e.next;)t=(e=e.next).task,e.task=void 0,(n=e.domain)&&(e.domain=void 0,n.enter()),l(t,n);for(;u.length;)l(t=u.pop());i=!1}function l(e,t){try{e()}catch(e){if(a)throw t&&t.exit(),setTimeout(c,0),t&&t.enter(),e;setTimeout(function(){throw e},0)}t&&t.exit()}if(s=function(e){r=r.next={task:e,domain:a&&t.domain,next:null},i||(i=!0,o())},"object"==typeof t&&"[object process]"===t.toString()&&t.nextTick)a=!0,o=function(){t.nextTick(c)};else if("function"==typeof n)o="undefined"!=typeof window?n.bind(window,c):function(){n(c)};else if("undefined"!=typeof MessageChannel){var h=new MessageChannel;h.port1.onmessage=function(){o=f,h.port1.onmessage=c,c()};var f=function(){h.port2.postMessage(0)};o=function(){setTimeout(c,0),f()}}else o=function(){setTimeout(c,0)};return s.runAfter=function(e){u.push(e),i||(i=!0,o())},s}(),a=Function.call;function u(e){return function(){return a.apply(e,arguments)}}var c,l=u(Array.prototype.slice),h=u(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),f=u(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),d=u(Array.prototype.map||function(e,t){var n=this,r=[];return h(n,function(i,o,s){r.push(e.call(t,o,s,n))},void 0),r}),p=Object.create||function(e){function t(){}return t.prototype=e,new t},g=Object.defineProperty||function(e,t,n){return e[t]=n.value,e},y=u(Object.prototype.hasOwnProperty),v=Object.keys||function(e){var t=[];for(var n in e)y(e,n)&&t.push(n);return t},m=u(Object.prototype.toString);c="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var b="From previous event:";function _(t,n){if(e&&n.stack&&"object"==typeof t&&null!==t&&t.stack){for(var r=[],i=n;i;i=i.source)i.stack&&(!t.__minimumStackCounter__||t.__minimumStackCounter__>i.stackCounter)&&(g(t,"__minimumStackCounter__",{value:i.stackCounter,configurable:!0}),r.unshift(i.stack));r.unshift(t.stack);var o=function(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];I(i)||w(i)||!i||n.push(i)}return n.join("\n")}(r.join("\n"+b+"\n"));g(t,"stack",{value:o,configurable:!0})}}function w(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function x(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function I(e){var t=x(e);if(!t)return!1;var n=t[0],o=t[1];return n===r&&o>=i&&o<=Q}function N(){if(e)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=x(t[0].indexOf("@")>0?t[1]:t[2]);if(!n)return;return r=n[0],n[1]}}function j(e){return e instanceof C?e:L(e)?function(e){var t=k();return j.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}),t.promise}(e):q(e)}j.resolve=j,j.nextTick=s,j.longStackSupport=!1;var S=1;function k(){var t,n=[],r=[],i=p(k.prototype),o=p(C.prototype);if(o.promiseDispatch=function(e,i,o){var s=l(arguments);n?(n.push(s),"when"===i&&o[1]&&r.push(o[1])):j.nextTick(function(){t.promiseDispatch.apply(t,s)})},o.valueOf=function(){if(n)return o;var e=R(t);return A(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},j.longStackSupport&&e)try{throw new Error}catch(e){o.stack=e.stack.substring(e.stack.indexOf("\n")+1),o.stackCounter=S++}function s(i){t=i,j.longStackSupport&&e&&(o.source=i),h(n,function(e,t){j.nextTick(function(){i.promiseDispatch.apply(i,t)})},void 0),n=void 0,r=void 0}return i.promise=o,i.resolve=function(e){t||s(j(e))},i.fulfill=function(e){t||s(q(e))},i.reject=function(e){t||s(F(e))},i.notify=function(e){t||h(r,function(t,n){j.nextTick(function(){n(e)})},void 0)},i}function T(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=k();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function E(e){return T(function(t,n){for(var r=0,i=e.length;r<i;r++)j(e[r]).then(t,n)})}function C(e,t,n){void 0===t&&(t=function(e){return F(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=p(C.prototype);if(r.promiseDispatch=function(n,i,o){var s;try{s=e[i]?e[i].apply(r,o):t.call(r,i,o)}catch(e){s=F(e)}n&&n(s)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function O(e,t,n,r){return j(e).then(t,n,r)}function R(e){if(A(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function A(e){return e instanceof C}function L(e){return function(e){return e===Object(e)}(e)&&"function"==typeof e.then}"object"==typeof t&&t&&t.env&&t.env.Q_DEBUG&&(j.longStackSupport=!0),j.defer=k,k.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(l(arguments,1)):e.resolve(n)}},j.Promise=T,j.promise=T,T.race=E,T.all=H,T.reject=F,T.resolve=j,j.passByCopy=function(e){return e},C.prototype.passByCopy=function(){return this},j.join=function(e,t){return j(e).join(t)},C.prototype.join=function(e){return j([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},j.race=E,C.prototype.race=function(){return this.then(j.race)},j.makePromise=C,C.prototype.toString=function(){return"[object Promise]"},C.prototype.then=function(e,t,n){var r=this,i=k(),o=!1;return j.nextTick(function(){r.promiseDispatch(function(t){o||(o=!0,i.resolve(function(t){try{return"function"==typeof e?e(t):t}catch(e){return F(e)}}(t)))},"when",[function(e){o||(o=!0,i.resolve(function(e){if("function"==typeof t){_(e,r);try{return t(e)}catch(e){return F(e)}}return F(e)}(e)))}])}),r.promiseDispatch(void 0,"when",[void 0,function(e){var t,r=!1;try{t=function(e){return"function"==typeof n?n(e):e}(e)}catch(e){if(r=!0,!j.onerror)throw e;j.onerror(e)}r||i.notify(t)}]),i.promise},j.tap=function(e,t){return j(e).tap(t)},C.prototype.tap=function(e){return e=j(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},j.when=O,C.prototype.thenResolve=function(e){return this.then(function(){return e})},j.thenResolve=function(e,t){return j(e).thenResolve(t)},C.prototype.thenReject=function(e){return this.then(function(){throw e})},j.thenReject=function(e,t){return j(e).thenReject(t)},j.nearer=R,j.isPromise=A,j.isPromiseAlike=L,j.isPending=function(e){return A(e)&&"pending"===e.inspect().state},C.prototype.isPending=function(){return"pending"===this.inspect().state},j.isFulfilled=function(e){return!A(e)||"fulfilled"===e.inspect().state},C.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},j.isRejected=function(e){return A(e)&&"rejected"===e.inspect().state},C.prototype.isRejected=function(){return"rejected"===this.inspect().state};var P=[],D=[],M=[],B=!0;function U(){P.length=0,D.length=0,B||(B=!0)}function F(e){var n=C({when:function(n){return n&&function(e){if(B){var n=f(D,e);-1!==n&&("object"==typeof t&&"function"==typeof t.emit&&j.nextTick.runAfter(function(){var r=f(M,e);-1!==r&&(t.emit("rejectionHandled",P[n],e),M.splice(r,1))}),D.splice(n,1),P.splice(n,1))}}(this),n?n(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return function(e,n){B&&("object"==typeof t&&"function"==typeof t.emit&&j.nextTick.runAfter(function(){-1!==f(D,e)&&(t.emit("unhandledRejection",n,e),M.push(e))}),D.push(e),n&&void 0!==n.stack?P.push(n.stack):P.push("(no stack) "+n))}(n,e),n}function q(e){return C({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return v(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function z(e,t,n){return j(e).spread(t,n)}function G(e,t,n){return j(e).dispatch(t,n)}function H(e){return O(e,function(e){var t=0,n=k();return h(e,function(r,i,o){var s;A(i)&&"fulfilled"===(s=i.inspect()).state?e[o]=s.value:(++t,O(i,function(r){e[o]=r,0==--t&&n.resolve(e)},n.reject,function(e){n.notify({index:o,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function V(e){if(0===e.length)return j.resolve();var t=j.defer(),n=0;return h(e,function(r,i,o){var s=e[o];n++,O(s,function(e){t.resolve(e)},function(e){if(0==--n){var r=e||new Error(""+e);r.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+r.message,t.reject(r)}},function(e){t.notify({index:o,value:e})})},void 0),t.promise}function J(e){return O(e,function(e){return e=d(e,j),O(H(d(e,function(e){return O(e,o,o)})),function(){return e})})}j.resetUnhandledRejections=U,j.getUnhandledReasons=function(){return P.slice()},j.stopUnhandledRejectionTracking=function(){U(),B=!1},U(),j.reject=F,j.fulfill=q,j.master=function(e){return C({isDef:function(){}},function(t,n){return G(e,t,n)},function(){return j(e).inspect()})},j.spread=z,C.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},j.async=function(e){return function(){function t(e,t){var o;if("undefined"==typeof StopIteration){try{o=n[e](t)}catch(e){return F(e)}return o.done?j(o.value):O(o.value,r,i)}try{o=n[e](t)}catch(e){return function(e){return"[object StopIteration]"===m(e)||e instanceof c}(e)?j(e.value):F(e)}return O(o,r,i)}var n=e.apply(this,arguments),r=t.bind(t,"next"),i=t.bind(t,"throw");return r()}},j.spawn=function(e){j.done(j.async(e)())},j.return=function(e){throw new c(e)},j.promised=function(e){return function(){return z([this,H(arguments)],function(t,n){return e.apply(t,n)})}},j.dispatch=G,C.prototype.dispatch=function(e,t){var n=this,r=k();return j.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},j.get=function(e,t){return j(e).dispatch("get",[t])},C.prototype.get=function(e){return this.dispatch("get",[e])},j.set=function(e,t,n){return j(e).dispatch("set",[t,n])},C.prototype.set=function(e,t){return this.dispatch("set",[e,t])},j.del=j.delete=function(e,t){return j(e).dispatch("delete",[t])},C.prototype.del=C.prototype.delete=function(e){return this.dispatch("delete",[e])},j.mapply=j.post=function(e,t,n){return j(e).dispatch("post",[t,n])},C.prototype.mapply=C.prototype.post=function(e,t){return this.dispatch("post",[e,t])},j.send=j.mcall=j.invoke=function(e,t){return j(e).dispatch("post",[t,l(arguments,2)])},C.prototype.send=C.prototype.mcall=C.prototype.invoke=function(e){return this.dispatch("post",[e,l(arguments,1)])},j.fapply=function(e,t){return j(e).dispatch("apply",[void 0,t])},C.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},j.try=j.fcall=function(e){return j(e).dispatch("apply",[void 0,l(arguments,1)])},C.prototype.fcall=function(){return this.dispatch("apply",[void 0,l(arguments)])},j.fbind=function(e){var t=j(e),n=l(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(l(arguments))])}},C.prototype.fbind=function(){var e=this,t=l(arguments);return function(){return e.dispatch("apply",[this,t.concat(l(arguments))])}},j.keys=function(e){return j(e).dispatch("keys",[])},C.prototype.keys=function(){return this.dispatch("keys",[])},j.all=H,C.prototype.all=function(){return H(this)},j.any=V,C.prototype.any=function(){return V(this)},j.allResolved=function(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}(J,"allResolved","allSettled"),C.prototype.allResolved=function(){return J(this)},j.allSettled=function(e){return j(e).allSettled()},C.prototype.allSettled=function(){return this.then(function(e){return H(d(e,function(e){function t(){return e.inspect()}return(e=j(e)).then(t,t)}))})},j.fail=j.catch=function(e,t){return j(e).then(void 0,t)},C.prototype.fail=C.prototype.catch=function(e){return this.then(void 0,e)},j.progress=function(e,t){return j(e).then(void 0,void 0,t)},C.prototype.progress=function(e){return this.then(void 0,void 0,e)},j.fin=j.finally=function(e,t){return j(e).finally(t)},C.prototype.fin=C.prototype.finally=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=j(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},j.done=function(e,t,n,r){return j(e).done(t,n,r)},C.prototype.done=function(e,n,r){var i=function(e){j.nextTick(function(){if(_(e,o),!j.onerror)throw e;j.onerror(e)})},o=e||n||r?this.then(e,n,r):this;"object"==typeof t&&t&&t.domain&&(i=t.domain.bind(i)),o.then(void 0,i)},j.timeout=function(e,t,n){return j(e).timeout(t,n)},C.prototype.timeout=function(e,t){var n=k(),r=setTimeout(function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},j.delay=function(e,t){return void 0===t&&(t=e,e=void 0),j(e).delay(t)},C.prototype.delay=function(e){return this.then(function(t){var n=k();return setTimeout(function(){n.resolve(t)},e),n.promise})},j.nfapply=function(e,t){return j(e).nfapply(t)},C.prototype.nfapply=function(e){var t=k(),n=l(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},j.nfcall=function(e){var t=l(arguments,1);return j(e).nfapply(t)},C.prototype.nfcall=function(){var e=l(arguments),t=k();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},j.nfbind=j.denodeify=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=l(arguments,1);return function(){var n=t.concat(l(arguments)),r=k();return n.push(r.makeNodeResolver()),j(e).fapply(n).fail(r.reject),r.promise}},C.prototype.nfbind=C.prototype.denodeify=function(){var e=l(arguments);return e.unshift(this),j.denodeify.apply(void 0,e)},j.nbind=function(e,t){var n=l(arguments,2);return function(){var r=n.concat(l(arguments)),i=k();return r.push(i.makeNodeResolver()),j(function(){return e.apply(t,arguments)}).fapply(r).fail(i.reject),i.promise}},C.prototype.nbind=function(){var e=l(arguments,0);return e.unshift(this),j.nbind.apply(void 0,e)},j.nmapply=j.npost=function(e,t,n){return j(e).npost(t,n)},C.prototype.nmapply=C.prototype.npost=function(e,t){var n=l(t||[]),r=k();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},j.nsend=j.nmcall=j.ninvoke=function(e,t){var n=l(arguments,2),r=k();return n.push(r.makeNodeResolver()),j(e).dispatch("post",[t,n]).fail(r.reject),r.promise},C.prototype.nsend=C.prototype.nmcall=C.prototype.ninvoke=function(e){var t=l(arguments,1),n=k();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},j.nodeify=function(e,t){return j(e).nodeify(t)},C.prototype.nodeify=function(e){if(!e)return this;this.then(function(t){j.nextTick(function(){e(null,t)})},function(t){j.nextTick(function(){e(t)})})},j.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var Q=N();return j})}).call(this,n(0),n(5).setImmediate)},function(e,t,n){(function(e){var r=n(106),i=n(66),o=n(115),s=n(116),a=n(36),u=t;u.request=function(t,n){t="string"==typeof t?a.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||i,u=t.hostname||t.host,c=t.port,l=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?s+"//"+u:"")+(c?":"+c:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new r(t);return n&&h.on("response",n),h},u.get=function(e,t){var n=u.request(e,t);return n.end(),n},u.ClientRequest=r,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(1))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){t.fetch=a(e.fetch)&&a(e.ReadableStream),t.writableStream=a(e.WritableStream),t.abortController=a(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var n;function r(){if(void 0!==n)return n;if(e.XMLHttpRequest){n=new e.XMLHttpRequest;try{n.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function i(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var o=void 0!==e.ArrayBuffer,s=o&&a(e.ArrayBuffer.prototype.slice);function a(e){return"function"==typeof e}t.arraybuffer=t.fetch||o&&i("arraybuffer"),t.msstream=!t.fetch&&s&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&a(r().overrideMimeType),t.vbArray=a(e.VBArray),n=null}).call(this,n(1))},function(e,t,n){(function(e,r,i){var o=n(65),s=n(8),a=n(22),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(t,n,s,u){var c=this;if(a.Readable.call(c),c._mode=s,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){e.nextTick(function(){c.emit("close")})}),"fetch"===s){if(c._fetchResponse=n,c.url=n.url,c.statusCode=n.status,c.statusMessage=n.statusText,n.headers.forEach(function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)}),o.writableStream){var l=new WritableStream({write:function(e){return new Promise(function(t,n){c._destroyed?n():c.push(new r(e))?t():c._resumeFetch=t})},close:function(){i.clearTimeout(u),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void n.body.pipeTo(l).catch(function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)})}catch(e){}}var h=n.body.getReader();!function e(){h.read().then(function(t){if(!c._destroyed){if(t.done)return i.clearTimeout(u),void c.push(null);c.push(new r(t.value)),e()}}).catch(function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)})}()}else{if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===c.headers[n]&&(c.headers[n]=[]),c.headers[n].push(t[2])):void 0!==c.headers[n]?c.headers[n]+=", "+t[2]:c.headers[n]=t[2],c.rawHeaders.push(t[1],t[2])}}),c._charset="x-user-defined",!o.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var d=f.match(/;\s*charset=([^;])(;|$)/);d&&(c._charset=d[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};s(c,a.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{n=new i.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var o=n.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new r(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);e.push(s)}else e.push(o,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;n=t.response,e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==u.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==u.LOADING)break;var c=new i.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(n)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n(0),n(9).Buffer,n(1))},function(e,t,n){"use strict";(function(t,r){var i=n(34);e.exports=b;var o,s=n(64);b.ReadableState=m;n(19).EventEmitter;var a=function(e,t){return e.listeners(t).length},u=n(68),c=n(35).Buffer,l=t.Uint8Array||function(){};var h=n(23);h.inherits=n(8);var f=n(109),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(110),y=n(69);h.inherits(b,u);var v=["error","close","destroy","pause","resume"];function m(e,t){o=o||n(14),e=e||{};var r=t instanceof o;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(70).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(14),!(this instanceof b))return new b(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function _(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,N(e)}(e,s)):(i||(o=function(e,t){var n;(function(e){return c.isBuffer(e)||e instanceof l})(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):S(e,s)):w(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&N(e)),S(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(70).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var x=8388608;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function N(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(j,e):j(e))}function j(e){d("emit readable"),e.emit("readable"),C(e)}function S(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function T(e){d("readable nexttick read 0"),e.read(0)}function E(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),C(e),t.flowing&&!t.reading&&e.read(0)}function C(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):N(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&R(this),null;var r,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(r=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&R(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:b;function c(t,r){d("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,d("cleanup"),e.removeListener("close",v),e.removeListener("finish",m),e.removeListener("drain",h),e.removeListener("error",y),e.removeListener("unpipe",c),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",g),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function l(){d("onend"),e.end()}o.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",c);var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,C(e))}}(n);e.on("drain",h);var f=!1;var p=!1;function g(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==L(o.pipes,e))&&!f&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function y(t){d("onerror",t),b(),e.removeListener("error",y),0===a(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",m),b()}function m(){d("onfinish"),e.removeListener("close",v),b()}function b(){d("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",y),e.once("close",v),e.once("finish",m),e.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=L(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&N(this):i.nextTick(T,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(E,e,t))}(this,e)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=O}).call(this,n(1),n(0))},function(e,t,n){e.exports=n(19).EventEmitter},function(e,t,n){"use strict";var r=n(34);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(35).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var r=n(14),i=n(23);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){a(e,t,n)}):a(this,null,null)}function a(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(8),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){var r=n(20),i=r.internal.toId,o=r.internal.fromId;function s(e,t){if(!(this instanceof s))return new s(e,t);this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._factory=t.factory||r,e&&this.addQuads(e)}function a(e){return"string"==typeof e||e instanceof String}s.prototype={get size(){var e=this._size;if(null!==e)return e;e=0;var t,n,r=this._graphs;for(var i in r)for(var o in t=r[i].subjects)for(var s in n=t[o])e+=Object.keys(n[s]).length;return this._size=e},_addToIndex:function(e,t,n,r){var i=e[t]||(e[t]={}),o=i[n]||(i[n]={}),s=r in o;return s||(o[r]=null),!s},_removeFromIndex:function(e,t,n,r){var i,o=e[t],s=o[n];for(i in delete s[r],s)return;for(i in delete o[n],o)return;delete e[t]},_findInIndex:function(e,t,n,r,i,s,a,u,c,l){var h,f,d,p=!t+!n+!r>1?Object.keys(this._ids):this._entities;for(var g in t&&((h=e,e={})[t]=h[t]),e){var y=p[g];if(f=e[g])for(var v in n&&((h=f,f={})[n]=h[n]),f){var m=p[v];if(d=f[v])for(var b=(r?r in d?[r]:[]:Object.keys(d)),_=0;_<b.length;_++){var w={subject:null,predicate:null,object:null};w[i]=o(y,this._factory),w[s]=o(m,this._factory),w[a]=o(p[b[_]],this._factory);var x=this._factory.quad(w.subject,w.predicate,w.object,o(u,this._factory));if(l)l.push(x);else if(c(x))return!0}}}return l},_loop:function(e,t){for(var n in e)t(n)},_loopByKey0:function(e,t,n){var r,i;if(r=e[t])for(i in r)n(i)},_loopByKey1:function(e,t,n){var r;for(r in e)e[r][t]&&n(r)},_loopBy2Keys:function(e,t,n,r){var i,o,s;if((i=e[t])&&(o=i[n]))for(s in o)r(s)},_countInIndex:function(e,t,n,r){var i,o,s,a=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in n&&((i=o,o={})[n]=i[n]),o)(s=o[c])&&(r?r in s&&a++:a+=Object.keys(s).length);return a},_getGraphs:function(e){if(!a(e))return this._graphs;var t={};return t[e]=this._graphs[e],t},_uniqueEntities:function(e){var t=Object.create(null),n=this._entities;return function(r){r in t||(t[r]=!0,e(o(n[r])))}},addQuad:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=i(e),t=i(t),n=i(n),r=i(r);var o=this._graphs[r];o||(o=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(o));var s=this._ids,a=this._entities;e=s[e]||(s[a[++this._id]=e]=this._id),t=s[t]||(s[a[++this._id]=t]=this._id),n=s[n]||(s[a[++this._id]=n]=this._id);var u=this._addToIndex(o.subjects,e,t,n);return this._addToIndex(o.predicates,t,n,e),this._addToIndex(o.objects,n,e,t),this._size=null,u},addQuads:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])},import:function(e){var t=this;return e.on("data",function(e){t.addQuad(e)}),e},removeQuad:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=i(e),t=i(t),n=i(n),r=i(r);var o,s,a,u=this._ids,c=this._graphs;if(!((e=u[e])&&(t=u[t])&&(n=u[n])&&(o=c[r])&&(s=o.subjects[e])&&(a=s[t])&&n in a))return!1;for(e in this._removeFromIndex(o.subjects,e,t,n),this._removeFromIndex(o.predicates,t,n,e),this._removeFromIndex(o.objects,n,e,t),null!==this._size&&this._size--,o.subjects)return!0;return delete c[r],!0},removeQuads:function(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])},remove:function(e){var t=this;return e.on("data",function(e){t.removeQuad(e)}),e},getQuads:function(e,t,n,r){e=e&&i(e),t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c,l=[],h=this._getGraphs(r),f=this._ids;if(a(e)&&!(s=f[e])||a(t)&&!(u=f[t])||a(n)&&!(c=f[n]))return l;for(var d in h)(o=h[d])&&(s?c?this._findInIndex(o.objects,c,s,u,"object","subject","predicate",d,null,l):this._findInIndex(o.subjects,s,u,null,"subject","predicate","object",d,null,l):u?this._findInIndex(o.predicates,u,c,null,"predicate","object","subject",d,null,l):c?this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d,null,l):this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d,null,l));return l},countQuads:function(e,t,n,r){e=e&&i(e),t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c,l=0,h=this._getGraphs(r),f=this._ids;if(a(e)&&!(s=f[e])||a(t)&&!(u=f[t])||a(n)&&!(c=f[n]))return 0;for(var d in h)(o=h[d])&&(l+=e?n?this._countInIndex(o.objects,c,s,u):this._countInIndex(o.subjects,s,u,c):t?this._countInIndex(o.predicates,u,c,s):this._countInIndex(o.objects,c,s,u));return l},forEach:function(e,t,n,r,i){this.some(function(t){return e(t),!1},t,n,r,i)},every:function(e,t,n,r,i){var o=!1,s=!this.some(function(t){return o=!0,!e(t)},t,n,r,i);return o&&s},some:function(e,t,n,r,o){t=t&&i(t),n=n&&i(n),r=r&&i(r),o=o&&i(o);var s,u,c,l,h=this._getGraphs(o),f=this._ids;if(a(t)&&!(u=f[t])||a(n)&&!(c=f[n])||a(r)&&!(l=f[r]))return!1;for(var d in h)if(s=h[d])if(u){if(l){if(this._findInIndex(s.objects,l,u,c,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(s.subjects,u,c,null,"subject","predicate","object",d,e,null))return!0}else if(c){if(this._findInIndex(s.predicates,c,l,null,"predicate","object","subject",d,e,null))return!0}else if(l){if(this._findInIndex(s.objects,l,null,null,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",d,e,null))return!0;return!1},getSubjects:function(e,t,n){var r=[];return this.forSubjects(function(e){r.push(e)},e,t,n),r},forSubjects:function(e,t,n,r){t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(a(t)&&!(s=c[t])||a(n)&&!(u=c[n])))for(r in l)(o=l[r])&&(s?u?this._loopBy2Keys(o.predicates,s,u,e):this._loopByKey1(o.subjects,s,e):u?this._loopByKey0(o.objects,u,e):this._loop(o.subjects,e))},getPredicates:function(e,t,n){var r=[];return this.forPredicates(function(e){r.push(e)},e,t,n),r},forPredicates:function(e,t,n,r){t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(a(t)&&!(s=c[t])||a(n)&&!(u=c[n])))for(r in l)(o=l[r])&&(s?u?this._loopBy2Keys(o.objects,u,s,e):this._loopByKey0(o.subjects,s,e):u?this._loopByKey1(o.predicates,u,e):this._loop(o.predicates,e))},getObjects:function(e,t,n){var r=[];return this.forObjects(function(e){r.push(e)},e,t,n),r},forObjects:function(e,t,n,r){t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(a(t)&&!(s=c[t])||a(n)&&!(u=c[n])))for(r in l)(o=l[r])&&(s?u?this._loopBy2Keys(o.subjects,s,u,e):this._loopByKey1(o.objects,s,e):u?this._loopByKey0(o.predicates,u,e):this._loop(o.objects,e))},getGraphs:function(e,t,n){var r=[];return this.forGraphs(function(e){r.push(e)},e,t,n),r},forGraphs:function(e,t,n,r){for(var i in this._graphs)this.some(function(t){return e(t.graph),!0},t,n,r,i)},createBlankNode:function(e){var t,n;if(e)for(t=e="_:"+e,n=1;this._ids[t];)t=e+n++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}},e.exports=s},function(e,t,n){var r=n(21).Transform,i=n(4),o=n(45);function s(e){if(!(this instanceof s))return new s(e);r.call(this,{decodeStrings:!0}),this._readableState.objectMode=!0;var t,n,i=this;new o(e).parse({on:function(e,r){switch(e){case"data":t=r;break;case"end":n=r}}},function(e,t){e&&i.emit("error",e)||t&&i.push(t)},function(e,t){i.emit("prefix",e,t)}),this._transform=function(e,n,r){t(e),r()},this._flush=function(e){n(),e()}}i.inherits(s,r),s.prototype.import=function(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),this},e.exports=s},function(e,t,n){var r=n(21).Transform,i=n(4),o=n(46);function s(e){if(!(this instanceof s))return new s(e);r.call(this,{encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,n=this._writer=new o({write:function(e,n,r){t.push(e),r&&r()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,r){n.addQuad(e,r)},this._flush=function(e){n.end(e)}}i.inherits(s,r),s.prototype.import=function(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),e.on("prefix",function(e,n){t._writer.addPrefix(e,n)}),this},e.exports=s},function(e,t,n){var r=n(20),i={isNamedNode:function(e){return!!e&&"NamedNode"===e.termType},isBlankNode:function(e){return!!e&&"BlankNode"===e.termType},isLiteral:function(e){return!!e&&"Literal"===e.termType},isVariable:function(e){return!!e&&"Variable"===e.termType},isDefaultGraph:function(e){return!!e&&"DefaultGraph"===e.termType},inDefaultGraph:function(e){return i.isDefaultGraph(e.graph)},prefix:function(e,t){return i.prefixes({"":e},t)("")},prefixes:function(e,t){var n=Object.create(null);for(var i in e)o(i,e[i]);function o(e,r){if("string"==typeof r){var i=Object.create(null);n[e]=function(e){return i[e]||(i[e]=t.namedNode(r+e))}}else if(!(e in n))throw new Error("Unknown prefix: "+e);return n[e]}return t=t||r,o}};e.exports=i},function(e,t){e.exports=function(e,t){var n,r,i,o,s,a=t.indexOf("#");if(a>0&&(t=t.slice(0,a)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(e.indexOf(":")>=0)return e;if(n=t.indexOf(":"),0===t.length)return e;if(n<0)return alert("Invalid base: "+t+" in join with given: "+e),e;if(r=t.slice(0,+n+1||9e9),0===e.indexOf("//"))return r+e;if(t.indexOf("//",n)===n+1){if((i=t.indexOf("/",n+3))<0)return t.length-n-3>0?t+"/"+e:r+e}else if((i=t.indexOf("/",n+1))<0)return t.length-n-1>0?t+"/"+e:r+e;if(0===e.indexOf("/"))return t.slice(0,i)+e;if((o=(s=t.slice(i)).lastIndexOf("/"))<0)return r+e;for(o>=0&&o<s.length-1&&(s=s.slice(0,+o+1||9e9)),s+=e;s.match(/[^\/]*\/\.\.\//);)s=s.replace(/[^\/]*\/\.\.\//,"");return s=(s=s.replace(/\.\//g,"")).replace(/\/\.$/,"/"),t.slice(0,i)+s}},function(e,t,n){(function(t){var r=n(38).xsd,i=String.fromCharCode,o="function"==typeof t?t:function(e){setTimeout(e,0)},s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,a={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},u=/[\x00-\x20<>\\"\{\}\|\^\`]/;function c(e){if(!(this instanceof c))return new c(e);if((e=e||{}).lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var t=this;this._tokenize=this.tokenize,this.tokenize=function(e,n){this._tokenize(e,function(e,r){!e&&/^(?:IRI|blank|literal|langcode|typeIRI|\.|eof)$/.test(r.type)?n&&n(e,r):n&&n(e||t._syntaxError(r.type,n=null))})}}this._n3Mode=!1!==e.n3,this._comments=!!e.comments}c.prototype={_iri:/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,_unescapedQuote:/^"([^"\\\r\n]+)"/,_unescapedApos:/^'([^'\\\r\n]+)'/,_singleQuote:/^"((?:[^"\\\r\n]|\\.)*)"(?=[^"])/,_singleApos:/^'((?:[^'\\\r\n]|\\.)*)'(?=[^'])/,_tripleQuote:/^"""([^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*)"""/,_tripleApos:/^'''([^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*)'''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,_variable:/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/i,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_comment:/#([^\n\r]*)/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(e,t){for(var n=this._input,i=this._comments;;){for(var o,s;o=this._newline.exec(n);)i&&(s=this._comment.exec(o[0]))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),n=n.substr(o[0].length,n.length),this._line++;if((o=this._whitespace.exec(n))&&(n=n.substr(o[0].length,n.length)),this._endOfFile.test(n))return t&&(i&&(s=this._comment.exec(n))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),e(n=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=n;var a=this._line,c="",l="",h="",f=n[0],d=null,p=0,g=!1;switch(f){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(p=1,c="^");break}if(this._previousMarker="^^","<"!==(n=n.substr(2))[0]){g=!0;break}case"<":if(d=this._unescapedIri.exec(n))c="IRI",l=d[1];else if(d=this._iri.exec(n)){if(null===(l=this._unescape(d[1]))||u.test(l))return v(this);c="IRI"}else this._n3Mode&&n.length>1&&"="===n[1]&&(c="inverse",p=2,l=">");break;case"_":((d=this._blank.exec(n))||t&&(d=this._blank.exec(n+" ")))&&(c="blank",h="_",l=d[1]);break;case'"':if(d=this._unescapedQuote.exec(n))l=d[1];else if(n.indexOf('"',1)>0&&((d=this._singleQuote.exec(n))?l=this._unescape(d[1]):(d=this._tripleQuote.exec(n))&&(l=d[1],this._line+=l.split(/\r\n|\r|\n/).length-1,l=this._unescape(l)),null===l))return v(this);null!==d&&(c="literal");break;case"'":if(d=this._unescapedApos.exec(n))l=d[1];else if(n.indexOf("'",1)>0&&((d=this._singleApos.exec(n))?l=this._unescape(d[1]):(d=this._tripleApos.exec(n))&&(l=d[1],this._line+=l.split(/\r\n|\r|\n/).length-1,l=this._unescape(l)),null===l))return v(this);null!==d&&(c="literal");break;case"?":this._n3Mode&&(d=this._variable.exec(n))&&(c="var",l=d[0]);break;case"@":"literal"===this._previousMarker&&(d=this._langcode.exec(n))?(c="langcode",l=d[1]):(d=this._keyword.exec(n))&&(c=d[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){c=".",p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(d=this._number.exec(n)||t&&(d=this._number.exec(n+" ")))&&(c="literal",l=d[0],h=d[1]?r.double:/^[+\-]?\d+$/.test(d[0])?r.integer:r.decimal);break;case"B":case"b":case"p":case"P":case"G":case"g":(d=this._sparqlKeyword.exec(n))?c=d[0].toUpperCase():g=!0;break;case"f":case"t":(d=this._boolean.exec(n))?(c="literal",l=d[0],h=r.boolean):g=!0;break;case"a":(d=this._shortPredicates.exec(n))?(c="abbreviation",l="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(c="abbreviation",">"!==n[1]?(p=1,l="="):(p=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":p=1,c=f;break;default:g=!0}if(g&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(d=this._prefix.exec(n))?((d=this._prefixed.exec(n))||t&&(d=this._prefixed.exec(n+" ")))&&(c="prefixed",h=d[1]||"",l=this._unescape(d[2])):(c="prefix",l=d[1]||"")),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?v(this):this._input=n;var y={line:a,type:c,value:l,prefix:h};e(null,y),this.previousToken=y,this._previousMarker=c,n=n.substr(p||d[0].length,n.length)}function v(t){e(t._syntaxError(/^\S*/.exec(n)[0]))}},_unescape:function(e){try{return e.replace(s,function(e,t,n,r){var o;if(t){if(o=parseInt(t,16),isNaN(o))throw new Error;return i(o)}if(n){if(o=parseInt(n,16),isNaN(o))throw new Error;return o<=65535?i(o):i(55296+(o-=65536)/1024,56320+(1023&o))}var s=a[r];if(!s)throw new Error;return s})}catch(e){return null}},_syntaxError:function(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t},tokenize:function(e,t){var n=this;if(this._line=1,"string"==typeof e){if(this._input=e,"function"!=typeof t){var r,i=[];if(this._tokenizeToEnd(function(e,t){e?r=e:i.push(t)},!0),r)throw r;return i}o(function(){n._tokenizeToEnd(t,!0)})}else this._input="","function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",function(e){null!==n._input&&(n._input+=e,n._tokenizeToEnd(t,!1))}),e.on("end",function(){null!==n._input&&n._tokenizeToEnd(t,!0)}),e.on("error",t)}},e.exports=c}).call(this,n(5).setImmediate)},function(e,t,n){var r=n(77),i=n(24),o=n(38),s=0,a=0;function u(e){if(!(this instanceof u))return new u(e);this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&l(this,e.factory);var t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",n="turtle"===t,i="trig"===t,o=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),c=o||s;(this._supportsNamedGraphs=!(n||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||o||a),c&&(this._resolveRelativeIRI=function(e){return""}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new r({lineMode:c,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}function c(){}function l(e,t){var n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(o.rdf.first),e.RDF_REST=n(o.rdf.rest),e.RDF_NIL=n(o.rdf.nil),e.N3_FORALL=n(o.r.forAll),e.N3_FORSOME=n(o.r.forSome),e.ABBREVIATIONS={a:n(o.rdf.type),"=":n(o.owl.sameAs),">":n(o.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}u._resetBlankNodeIds=function(){s=a=0},u.prototype={_blank:function(){return this._blankNode("b"+a++)},_setBase:function(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base=null},_saveContext:function(e,t,n,r,i){var o=this._n3Mode;this._contextStack.push({subject:n,predicate:r,object:i,graph:t,type:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))},_restoreContext:function(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)},_readInTopContext:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}},_readEntity:function(e,t){var n;switch(e.type){case"IRI":case"typeIRI":var r=this._resolveIRI(e.value);if(""===r)return this._error("Invalid IRI",e);n=this._namedNode(r);break;case"type":case"prefixed":var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'+e.prefix+':"',e);n=this._namedNode(i+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n},_readSubject:function(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blank(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blank(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject},_readObject:function(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blank()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blank()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()},_readPredicateOrNamedGraph:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)},_readBlankNodeHead:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))},_readBlankNodeTail:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()},_readPredicateAfterBlank:function(e){return"."!==e.type||this._contextStack.length?this._readPredicate(e):(this._subject=null,this._readPunctuation(e))},_readListItem:function(e){var t=null,n=null,r=this._subject,i=this._contextStack,o=i[i.length-1],s=this._readListItem;switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blank(),this.RDF_FIRST,this._subject=t=this._blank()),s=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blank(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(s=this._readPredicate,this._subject===this.RDF_NIL)return s}else if(s=this._getContextEndReader(),this._object===this.RDF_NIL)return s;n=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,s=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),s=this._getContextEndReader());break;default:if(void 0===(t=this._readEntity(e)))return}if(null===n&&(this._subject=n=this._blank()),null===r?null===o.predicate?o.subject=n:o.object=n:this._emit(r,this.RDF_REST,n,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return s},_readDataTypeOrLang:function(e){return this._completeLiteral(e,!1)},_readListItemDataTypeOrLang:function(e){return this._completeLiteral(e,!0)},_completeLiteral:function(e,t){switch(e.type){case"type":case"typeIRI":var n=this._readEntity(e);if(void 0===n)return;this._object=this._literal(this._literalValue,n),e=null;break;case"langcode":this._object=this._literal(this._literalValue,e.value),e=null;break;default:this._object=this._literal(this._literalValue)}return t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===e?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(e))},_readFormulaTail:function(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())},_readPunctuation:function(e){var t,n=this._subject,r=this._graph,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}if(null!==n){var o=this._predicate,s=this._object;i?this._emit(s,o,n,r):this._emit(n,o,s,r)}return t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t},_readQuadPunctuation:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext},_readPrefix:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)},_readPrefixIRI:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation},_readBaseIRI:function(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blank(),this._readGraph)},_readDeclarationPunctuation:function(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext},_readQuantifierList:function(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blank(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blank(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier("b"+a++),this._readQuantifierPunctuation},_readQuantifierPunctuation:function(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))},_getPathReader:function(e){return this._afterPath=e,this._readPath},_readPath:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,n=t.length&&t[t.length-1];if(n&&"item"===n.type){var r=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}},_readForwardPath:function(e){var t,n,r=this._blank();if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath},_readBackwardPath:function(e){var t,n,r=this._blank();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(n=this._subject,this._subject=r):(n=this._object,this._object=r),this._emit(r,t,n,this._graph),this._readPath},_getContextEndReader:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}},_emit:function(e,t,n,r){this._callback(null,this._quad(e,t,n,r||this.DEFAULTGRAPH))},_error:function(e,t){var n=new Error(e+" on line "+t.line+".");n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=c},_resolveIRI:function(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)},_resolveRelativeIRI:function(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?"":this._removeDotSegments(this._basePath+e)}},_removeDotSegments:function(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t="",n=e.length,r=-1,i=-1,o=0,s="/";r<n;){switch(s){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<n&&"/"!==e[i];)r=i;break;case"?":case"#":r=n;break;case"/":if("."===e[r+1])switch(s=e[++r+1]){case"/":t+=e.substring(o,r-1),o=r+1;break;case void 0:case"?":case"#":return t+e.substring(o,r)+e.substr(r+1);case".":if(void 0===(s=e[++r+1])||"/"===s||"?"===s||"#"===s){if((o=(t+=e.substring(o,r-2)).lastIndexOf("/"))>=i&&(t=t.substr(0,o)),"/"!==s)return t+"/"+e.substr(r+1);o=r+1}}}s=e[++r]}return t+e.substring(o)},parse:function(e,t,n){var r=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+s+++"_",this._prefixCallback=n||c,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,o=[];if(this._callback=function(e,t){e?i=e:t&&o.push(t)},this._lexer.tokenize(e).every(function(e){return r._readCallback=r._readCallback(e)}),i)throw i;return o}this._callback=t,this._lexer.tokenize(e,function(e,t){null!==e?(r._callback(e),r._callback=c):r._readCallback&&(r._readCallback=r._readCallback(t))})}},l(u.prototype,i),e.exports=u},function(e,t,n){var r=n(38),i=n(24),o=i.defaultGraph(),s=r.rdf,a=r.xsd,u=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,c=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,l={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function h(e,t){if(!(this instanceof h))return new h(e,t);if(e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var n="";this._outputStream={write:function(e,t,r){n+=e,r&&r()},end:function(e){e&&e(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeQuad=this._writeQuadLine:(this._graph=o,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}function f(e){var t=l[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function d(e){this.id=e}h.prototype={get _inDefaultGraph(){return o.equals(this._graph)},_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeQuad:function(e,t,n,r,i){try{r.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(o.equals(r)?"":this._encodeIriOrBlank(r)+" {\n")),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(n),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i)}catch(e){i&&i(e)}},_writeQuadLine:function(e,t,n,r,i){delete this._prefixMatch,this._write(this.quadToString(e,t,n,r),i)},quadToString:function(e,t,n,r){return this._encodeIriOrBlank(e)+" "+this._encodeIriOrBlank(t)+" "+this._encodeObject(n)+(r&&r.value?" "+this._encodeIriOrBlank(r)+".\n":".\n")},quadsToString:function(e){return e.map(function(e){return this.quadToString(e.subject,e.predicate,e.object,e.graph)},this).join("")},_encodeIriOrBlank:function(e){if("NamedNode"!==e.termType)return"id"in e?e.id:"_:"+e.value;var t=e.value;u.test(t)&&(t=t.replace(c,f));var n=this._prefixRegex.exec(t);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:t:"<"+t+">"},_encodeLiteral:function(e){var t=e.value;return u.test(t)&&(t=t.replace(c,f)),e.language?'"'+t+'"@'+e.language:e.datatype.value!==a.string?'"'+t+'"^^'+this._encodeIriOrBlank(e.datatype):'"'+t+'"'},_encodePredicate:function(e){return e.value===s.type?"a":this._encodeIriOrBlank(e)},_encodeObject:function(e){return"Literal"===e.termType?this._encodeLiteral(e):this._encodeIriOrBlank(e)},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addQuad:function(e,t,n,r,i){void 0===n?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof r?this._writeQuad(e,t,n,o,r):this._writeQuad(e,t,n,r||o,i)},addQuads:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])},addPrefix:function(e,t,n){var r={};r[e]=t,this.addPrefixes(r,n)},addPrefixes:function(e,t){var n=this._prefixIRIs,r=!1;for(var i in e){var o=e[i];"string"!=typeof o&&(o=o.value),/[#\/]$/.test(o)&&n[o]!==(i+=":")&&(r=!0,n[o]=i,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._write("@prefix "+i+" <"+o+">.\n"))}if(r){var s="",a="";for(var u in n)s+=s?"|"+u:u,a+=(a?"|":"")+n[u];s=s.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+a+")[^/]*$|^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(r?"\n":"",t)},blank:function(e,t){var n,r,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),r=i.length){case 0:return new d("[]");case 1:if(!((n=i[0]).object instanceof d))return new d("[ "+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object)+" ]");default:for(var o="[",s=0;s<r;s++)(n=i[s]).predicate.equals(e)?o+=", "+this._encodeObject(n.object):(o+=(s?";\n  ":"\n  ")+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object),e=n.predicate);return new d(o+"\n]")}},list:function(e){for(var t=e&&e.length||0,n=new Array(t),r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return new d("("+n.join(" ")+")")},_prefixRegex:/$0^/,end:function(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(n,r){t=null,e(n,r)};if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}},i.internal.Term.subclass(d),d.prototype.equals=function(){return!1},e.exports=h},function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var i=Object.create(t.prototype);r.__proto__=i}if(!(r instanceof t)){function o(){}o.prototype=t.prototype,n(r,o=new o),e.prototype=r=o}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var i="http://www.w3.org/1999/xhtml",o={},s=o.ELEMENT_NODE=1,a=o.ATTRIBUTE_NODE=2,u=o.TEXT_NODE=3,c=o.CDATA_SECTION_NODE=4,l=o.ENTITY_REFERENCE_NODE=5,h=o.ENTITY_NODE=6,f=o.PROCESSING_INSTRUCTION_NODE=7,d=o.COMMENT_NODE=8,p=o.DOCUMENT_NODE=9,g=o.DOCUMENT_TYPE_NODE=10,y=o.DOCUMENT_FRAGMENT_NODE=11,v=o.NOTATION_NODE=12,m={},b={},_=(m.INDEX_SIZE_ERR=(b[1]="Index size error",1),m.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),m.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),w=(m.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),m.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),m.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),m.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),m.NOT_FOUND_ERR=(b[8]="Not found",8)),x=(m.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),m.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));m.INVALID_STATE_ERR=(b[11]="Invalid state",11),m.SYNTAX_ERR=(b[12]="Syntax error",12),m.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),m.NAMESPACE_ERR=(b[14]="Invalid namespace",14),m.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function I(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,b[e]),this.message=b[e],Error.captureStackTrace&&Error.captureStackTrace(this,I);return n.code=e,t&&(this.message=this.message+": "+t),n}function N(){}function j(e,t){this._node=e,this._refresh=t,S(this)}function S(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ne(e,"length",r.length),n(r,e),e._inc=t}}function k(){}function T(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function E(e,t,n,r){if(r?t[T(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&D(i,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function C(e,t,n){var r=T(t,n);if(!(r>=0))throw I(w,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(D(o,e,n),n.ownerElement=null)}}function O(e){if(this._features={},e)for(var t in e)this._features=e[t]}function R(){}function A(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function L(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(L(e,t))return!0}while(e=e.nextSibling)}function P(){}function D(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function M(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function B(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,M(e.ownerDocument,e),t}function U(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===y){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var s=n?n.previousSibling:e.lastChild;i.previousSibling=s,o.nextSibling=n,s?s.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return M(e.ownerDocument||e,e),t.nodeType==y&&(t.firstChild=t.lastChild=null),t}function F(){this._nsMap={}}function q(){}function z(){}function G(){}function H(){}function V(){}function J(){}function Q(){}function $(){}function X(){}function W(){}function Y(){}function Z(){}function K(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var s=[{namespace:o,prefix:null}];return te(this,n,e,t,s),n.join("")}function ee(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix==r)return s.namespace!=i}return!0}function te(e,t,n,r,o){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case s:o||(o=[]);o.length;var h=e.attributes,v=h.length,m=e.firstChild,b=e.tagName;n=i===e.namespaceURI||n,t.push("<",b);for(var _=0;_<v;_++){"xmlns"==(w=h.item(_)).prefix?o.push({prefix:w.localName,namespace:w.value}):"xmlns"==w.nodeName&&o.push({prefix:"",namespace:w.value})}for(_=0;_<v;_++){var w;if(ee(w=h.item(_),0,o)){var x=w.prefix||"",I=w.namespaceURI,N=x?" xmlns:"+x:" xmlns";t.push(N,'="',I,'"'),o.push({prefix:x,namespace:I})}te(w,t,n,r,o)}if(ee(e,0,o)){x=e.prefix||"",I=e.namespaceURI,N=x?" xmlns:"+x:" xmlns";t.push(N,'="',I,'"'),o.push({prefix:x,namespace:I})}if(m||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(t.push(">"),n&&/^script$/i.test(b))for(;m;)m.data?t.push(m.data):te(m,t,n,r,o),m=m.nextSibling;else for(;m;)te(m,t,n,r,o),m=m.nextSibling;t.push("</",b,">")}else t.push("/>");return;case p:case y:for(m=e.firstChild;m;)te(m,t,n,r,o),m=m.nextSibling;return;case a:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,A),'"');case u:return t.push(e.data.replace(/[<&]/g,A));case c:return t.push("<![CDATA[",e.data,"]]>");case d:return t.push("\x3c!--",e.data,"--\x3e");case g:var j=e.publicId,S=e.systemId;if(t.push("<!DOCTYPE ",e.name),j)t.push(' PUBLIC "',j),S&&"."!=S&&t.push('" "',S),t.push('">');else if(S&&"."!=S)t.push(' SYSTEM "',S,'">');else{var k=e.internalSubset;k&&t.push(" [",k,"]"),t.push(">")}return;case f:return t.push("<?",e.target," ",e.data,"?>");case l:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ne(e,t,n){e[t]=n}I.prototype=Error.prototype,n(m,I),N.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)te(this[r],n,e,t);return n.join("")}},j.prototype.item=function(e){return S(this),this[e]},r(j,N),k.prototype={length:0,item:N.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new I(x);var n=this.getNamedItem(e.nodeName);return E(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new I(x);return t=this.getNamedItemNS(e.namespaceURI,e.localName),E(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return C(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return C(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},O.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new P;if(r.implementation=this,r.childNodes=new N,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new J;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},R.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return U(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return B(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var i=new n.constructor;for(var o in n){var u=n[o];"object"!=typeof u&&u!=i[o]&&(i[o]=u)}n.childNodes&&(i.childNodes=new N);i.ownerDocument=t;switch(i.nodeType){case s:var c=n.attributes,l=i.attributes=new k,h=c.length;l._ownerElement=i;for(var f=0;f<h;f++)i.setAttributeNode(e(t,c.item(f),!0));break;case a:r=!0}if(r)for(var d=n.firstChild;d;)i.appendChild(e(t,d,r)),d=d.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==u&&e.nodeType==u?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(o,R),n(o,R.prototype),P.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==y){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==s&&(this.documentElement=e),U(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),B(this,e)},importNode:function(e,t){return function e(t,n,r){var i;switch(n.nodeType){case s:(i=n.cloneNode(!1)).ownerDocument=t;case y:break;case a:r=!0}i||(i=n.cloneNode(!1));i.ownerDocument=t;i.parentNode=null;if(r)for(var o=n.firstChild;o;)i.appendChild(e(t,o,r)),o=o.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return L(this.documentElement,function(n){if(n.nodeType==s&&n.getAttribute("id")==e)return t=n,!0}),t},createElement:function(e){var t=new F;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new N,(t.attributes=new k)._ownerElement=t,t},createDocumentFragment:function(){var e=new W;return e.ownerDocument=this,e.childNodes=new N,e},createTextNode:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new V;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Y;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new q;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new X;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new F,r=t.split(":"),i=n.attributes=new k;return n.childNodes=new N,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new q,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(P,R),F.prototype={nodeType:s,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===y?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,M(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new j(this,function(t){var n=[];return L(t,function(r){r===t||r.nodeType!=s||"*"!==e&&r.tagName!=e||n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new j(this,function(n){var r=[];return L(n,function(i){i===n||i.nodeType!==s||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)}),r})}},P.prototype.getElementsByTagName=F.prototype.getElementsByTagName,P.prototype.getElementsByTagNameNS=F.prototype.getElementsByTagNameNS,r(F,R),q.prototype.nodeType=a,r(q,R),z.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(b[_])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(z,R),G.prototype={nodeName:"#text",nodeType:u,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(G,z),H.prototype={nodeName:"#comment",nodeType:d},r(H,z),V.prototype={nodeName:"#cdata-section",nodeType:c},r(V,z),J.prototype.nodeType=g,r(J,R),Q.prototype.nodeType=v,r(Q,R),$.prototype.nodeType=h,r($,R),X.prototype.nodeType=l,r(X,R),W.prototype.nodeName="#document-fragment",W.prototype.nodeType=y,r(W,R),Y.prototype.nodeType=f,r(Y,R),Z.prototype.serializeToString=function(e,t,n){return K.call(e,t,n)},R.prototype.toString=K;try{if(Object.defineProperty){Object.defineProperty(j.prototype,"length",{get:function(){return S(this),this.$$length}}),Object.defineProperty(R.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case s:case y:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case s:case y:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ne=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.DOMImplementation=O,t.XMLSerializer=Z},function(e,t,n){(function(r,i){var o;
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2017 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2017 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function(){const s=n(47),a=n(2),u=a.IdentifierIssuer,c=n(11),l=n(146),h=n(147),{expand:f}=n(148),{flatten:d}=n(150),{fromRDF:p}=n(151),{toRDF:g}=n(152),{frameMergedOrDefault:y}=n(153),{isArray:v,isObject:m,isString:b}=n(6),{isSubjectReference:_}=n(10),{getInitialContext:w,process:x,getAllContexts:I,expandIri:N}=n(16),{compact:j,compactIri:S,removePreserve:k}=n(154),{createNodeMap:T,createMergedNodeMap:E,mergeNodeMaps:C}=n(39),O=void 0!==r&&r.versions&&r.versions.node,R=!O&&("undefined"!=typeof window||"undefined"!=typeof self),A=function(e){e.compact=a.callbackify(async function(t,n,i){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new c("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let o;(i=r(i,{base:b(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new u("_:b")})).link&&(i.skipExpansion=!0),i.compactToRelative||delete i.base,o=i.skipExpansion?t:await e.expand(t,i);const s=await e.processContext(w(i),n,i);let l=j({activeCtx:s,element:o,options:i,compactionMap:i.compactionMap});i.compactArrays&&!i.graph&&v(l)?1===l.length?l=l[0]:0===l.length&&(l={}):i.graph&&m(l)&&(l=[l]),m(n)&&"@context"in n&&(n=n["@context"]),n=a.clone(n),v(n)||(n=[n]);const h=n;n=[];for(let e=0;e<h.length;++e)(!m(h[e])||Object.keys(h[e]).length>0)&&n.push(h[e]);const f=n.length>0;if(1===n.length&&(n=n[0]),v(l)){const e=S({activeCtx:s,iri:"@graph",relativeTo:{vocab:!0}}),t=l;l={},f&&(l["@context"]=n),l[e]=t}else if(m(l)&&f){const e=l;l={"@context":n};for(let t in e)l[t]=e[t]}if(i.framing){const e=S({activeCtx:s,iri:"@graph",relativeTo:{vocab:!0}});
// remove @preserve from results
i.link={},l[e]=k(s,l[e],i)}return l}),e.expand=a.callbackify(async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(n=r(n,{keepFreeFloatingNodes:!1})).expansionMap&&(n.expansionMap=void 0);const i={},o=[];if("expandContext"in n){const e=a.clone(n.expandContext);m(e)&&"@context"in e?i.expandContext=e:i.expandContext={"@context":e},o.push(i.expandContext)}let s;if(b(t)){const r=await e.get(t,n);s=r.documentUrl,i.input=r.document,r.contextUrl&&(i.remoteContext={"@context":r.contextUrl},o.push(i.remoteContext))}else i.input=a.clone(t);"base"in n||(n.base=s||""),await I(i,n);let u=w(n);o.forEach(e=>{u=x({activeCtx:u,localCtx:e,options:n})});let c=f({activeCtx:u,element:i.input,options:n,expansionMap:n.expansionMap});return m(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),v(c)||(c=[c]),c}),e.flatten=a.callbackify(async function(t,n,i){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,i=r(i,{base:b(t)?t:""});const o=await e.expand(t,i),s=d(o);return null===n?s:(i.graph=!0,i.skipExpansion=!0,await e.compact(s,n,i))}),e.frame=a.callbackify(async function(t,n,i){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(i=r(i,{base:b(t)?t:"",embed:"@last",explicit:!1,requireAll:!0,omitDefault:!1,pruneBlankNodeIdentifiers:!0,bnodesToClear:[]}),b(n)){const t=await e.get(n,i);if(n=t.document,t.contextUrl){let e=n["@context"];e?v(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}let o=n&&n["@context"]||{};const s=await e.expand(t,i),u=a.clone(i);u.isFrame=!0,u.keepFreeFloatingNodes=!0;const c=await e.expand(n,u);let l;return u.merged=!("@graph"in n),l=y(s,c,u),u.graph=!0,u.skipExpansion=!0,u.link={},u.framing=!0,await e.compact(l,o,u)}),e.link=a.callbackify(async function(t,n,r){const i={};return n&&(i["@context"]=n),i["@embed"]="@link",e.frame(t,i,r)}),e.normalize=e.canonize=a.callbackify(async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=r(n,{base:b(t)?t:"",algorithm:"URDNA2015"}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new c("Unknown canonicalization input format.","jsonld.CanonizeError");const e=l.parse(t);return s.canonize(e,n)}const i=a.clone(n);delete i.format,i.produceGeneralizedRdf=!1;const o=await e.toRDF(t,i);return s.canonize(o,n)}),e.fromRDF=a.callbackify(async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=r(n,{format:b(e)?"application/n-quads":void 0});let i,{format:o,rdfParser:s}=n;if(o){if(!(s=s||t[o]))throw new c("Unknown input format.","jsonld.UnknownFormat",{format:o})}else s=(()=>e);return i=s.length>1?new Promise((t,n)=>{s(e,(e,r)=>{e?n(e):t(r)})}):Promise.resolve(s(e)),i=await i,Array.isArray(i)||(i=l.legacyDatasetToQuads(i)),p(i,n)}),e.toRDF=a.callbackify(async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");n=r(n,{base:b(t)?t:""});const i=await e.expand(t,n),o=g(i,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return await l.serialize(o);throw new c("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return o}),e.createNodeMap=a.callbackify(async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=r(n,{base:b(t)?t:""});const i=await e.expand(t,n);return E(i,n)}),e.merge=a.callbackify(async function(t,n,i){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!v(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,i=r(i,{});const o=await Promise.all(t.map(t=>{const n=Object.assign({},i);return e.expand(t,n)}));let s=!0;"mergeNodes"in i&&(s=i.mergeNodes);const c=i.issuer||new u("_:b"),l={"@default":{}};for(let e=0;e<o.length;++e){const t=a.relabelBlankNodes(o[e],{issuer:new u("_:b"+e+"-")}),n=s||0===e?l:{"@default":{}};if(T(t,n,"@default",c),n!==l)for(let e in n){const t=n[e];if(!(e in l)){l[e]=t;continue}const r=l[e];for(let e in t)e in r||(r[e]=t[e])}}const h=C(l),f=[],d=Object.keys(h).sort();for(let e=0;e<d.length;++e){const t=h[d[e]];_(t)||f.push(t)}return null===n?f:(i.graph=!0,i.skipExpansion=!0,await e.compact(f,n,i))}),Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=a.normalizeDocumentLoader(t)}),e.documentLoader=(async e=>{throw new c("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})}),e.loadDocument=a.callbackify(async function(){return e.documentLoader.apply(null,arguments)}),e.get=a.callbackify(async function(t,n){let r;r="function"==typeof n.documentLoader?a.normalizeDocumentLoader(n.documentLoader):e.documentLoader;const i=await r(t);try{if(!i.document)throw new c("No remote document found at the given URL.","jsonld.NullRemoteDocument");b(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new c("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i}),e.processContext=a.callbackify(async function(e,t,n){if(n=r(n,{base:""}),null===t)return w(n);t=a.clone(t),m(t)&&"@context"in t||(t={"@context":t});let i=await I(t,n);return x({activeCtx:e,localCtx:i,options:n})}),e.getContextValue=n(16).getContextValue,e.documentLoaders={},e.documentLoaders.node=n(155),e.documentLoaders.xhr=n(156),e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new c('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))};const t={};function r(t,{documentLoader:n=e.documentLoader,...r}){return"function"==typeof t&&(t={}),t=t||{},Object.assign({},{documentLoader:n},r,t)}return e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",l.parse),e.registerRDFParser("application/nquads",l.parse),e.registerRDFParser("rdfa-api",h.parse),e.url=n(27),e.util=a,Object.assign(e,a),e.promises=e,e.RequestQueue=n(52),e.JsonLdProcessor=n(157)(e),R&&void 0===i.JsonLdProcessor&&Object.defineProperty(i,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),O?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},L=function(){return A(function(){return L()})};!O&&n(87)?void 0===(o=function(){return A(L),L}.apply(t,[]))||(e.exports=o):(A(L),void 0!==e&&e.exports&&(e.exports=L),R&&("undefined"==typeof jsonld?jsonld=jsonldjs=L:jsonldjs=L))}()}).call(this,n(0),n(1))},function(e,t,n){"use strict";const r=n(139),i=n(48),o=n(83),s=n(85),a=n(50),u=n(15),c={subject:"s",object:"o",graph:"g"};e.exports=class extends r{constructor(e){super(e=e||{}),this.name="URDNA2015",this.options=Object.assign({},e),this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new i("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e,t){const n=this;let r;n.schedule.start=Date.now(),n.quads=e;const o={};n.waterfall([t=>{n.forEach(e,(e,t,r)=>{n.forEachComponent(e,t=>{if("BlankNode"!==t.termType)return;const r=t.value;r in n.blankNodeInfo?n.blankNodeInfo[r].quads.push(e):(o[r]=!0,n.blankNodeInfo[r]={quads:[e]})}),r()},t)},e=>{let t=!0;n.whilst(()=>t,e=>{t=!1,n.hashToBlankNodes={},n.waterfall([e=>{n.forEach(o,(e,t,r)=>{n.hashFirstDegreeQuads(t,(e,i)=>{if(e)return r(e);i in n.hashToBlankNodes?n.hashToBlankNodes[i].push(t):n.hashToBlankNodes[i]=[t],r()})},e)},e=>{const r=Object.keys(n.hashToBlankNodes).sort();n.forEach(r,(e,r,i)=>{const s=n.hashToBlankNodes[e];if(s.length>1)return i();const a=s[0];n.canonicalIssuer.getId(a),delete o[a],delete n.hashToBlankNodes[e],t=!0,i()},e)}],e)},e)},e=>{const t=Object.keys(n.hashToBlankNodes).sort();n.forEach(t,(e,t,r)=>{const o=[],s=n.hashToBlankNodes[e];n.waterfall([e=>{n.forEach(s,(e,t,r)=>{if(n.canonicalIssuer.hasId(e))return r();const s=new i("_:b");s.getId(e),n.hashNDegreeQuads(e,s,(e,t)=>{if(e)return r(e);o.push(t),r()})},e)},e=>{o.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0),n.forEach(o,(e,t,r)=>{for(let t in e.issuer.existing)n.canonicalIssuer.getId(t);r()},e)}],r)},e)},e=>{const t=[];n.waterfall([e=>{n.forEach(n.quads,(e,r,i)=>{n.forEachComponent(e,e=>{"BlankNode"!==e.termType||e.value.startsWith(n.canonicalIssuer.prefix)||(e.value=n.canonicalIssuer.getId(e.value))}),t.push(a.serializeQuad(e)),i()},e)},e=>(t.sort(),r=t.join(""),e())],e)}],e=>t(e,r))}hashFirstDegreeQuads(e,t){const n=this,r=n.blankNodeInfo[e];if("hash"in r)return t(null,r.hash);const i=[],s=r.quads;n.forEach(s,(t,r,o)=>{const s={predicate:t.predicate};n.forEachComponent(t,(t,r)=>{s[r]=n.modifyFirstDegreeComponent(e,t,r)}),i.push(a.serializeQuad(s)),o()},e=>{if(e)return t(e);i.sort();const s=new o(n.hashAlgorithm);for(let e=0;e<i.length;++e)s.update(i[e]);r.hash=s.digest(),t(null,r.hash)})}hashRelatedBlankNode(e,t,n,r,i){const s=this;let a;s.waterfall([t=>s.canonicalIssuer.hasId(e)?(a=s.canonicalIssuer.getId(e),t()):n.hasId(e)?(a=n.getId(e),t()):void s.hashFirstDegreeQuads(e,(e,n)=>{if(e)return t(e);a=n,t()})],e=>{if(e)return i(e);const n=new o(s.hashAlgorithm);return n.update(r),"g"!==r&&n.update(s.getRelatedPredicate(t)),n.update(a),i(null,n.digest())})}hashNDegreeQuads(e,t,n){const r=this;let i;const a=new o(r.hashAlgorithm);r.waterfall([n=>r.createHashToRelated(e,t,(e,t)=>{if(e)return n(e);i=t,n()}),e=>{const n=Object.keys(i).sort();r.forEach(n,(e,n,o)=>{a.update(e);let u,c="";const l=new s(i[e]);r.whilst(()=>l.hasNext(),e=>{const n=l.next();let i=t.clone(),o="";const s=[];r.waterfall([t=>{r.forEach(n,(t,n,a)=>{if(r.canonicalIssuer.hasId(t)?o+=r.canonicalIssuer.getId(t):(i.hasId(t)||s.push(t),o+=i.getId(t)),0!==c.length&&o.length>=c.length&&o>c)return e();a()},t)},t=>{r.forEach(s,(t,n,s)=>{r.hashNDegreeQuads(t,i,(n,r)=>n?s(n):(o+=i.getId(t),o+="<"+r.hash+">",i=r.issuer,0!==c.length&&o.length>=c.length&&o>c?e():void s()))},t)},e=>{(0===c.length||o<c)&&(c=o,u=i),e()}],e)},e=>{if(e)return o(e);a.update(c),t=u,o()})},e)}],e=>{n(e,{hash:a.digest(),issuer:t})})}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:((t=u.clone(t)).value=t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t,n){const r=this,i={},o=r.blankNodeInfo[e].quads;r.forEach(o,(n,o,s)=>{r.forEach(n,(o,s,a)=>{if("predicate"===s||"BlankNode"!==o.termType||o.value===e)return a();const u=o.value,l=c[s];r.hashRelatedBlankNode(u,n,t,l,(e,t)=>{if(e)return a(e);t in i?i[t].push(u):i[t]=[u],a()})},s)},e=>n(e,i))}forEachComponent(e,t){for(let n in e)"predicate"!==n&&t(e[n],n,e)}}},function(e,t,n){"use strict";const r=n(25);n(49),n(140),n(142),e.exports=class{constructor(e){this.md=r.md[e].create()}update(e){this.md.update(e,"utf8")}digest(){return this.md.digest().toHex()}}},function(e,t,n){(function(t,r,i){var o=n(25),s=n(141),a=e.exports=o.util=o.util||{};function u(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function c(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(a.isArrayBuffer(e)||a.isArrayBufferView(e))if(void 0!==i&&e instanceof i)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var n=0;n<t.length;++n)this.putByte(t[n])}}else(e instanceof c||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==t&&t.nextTick&&!t.browser)return a.nextTick=t.nextTick,void(a.setImmediate="function"==typeof r?r:a.nextTick);if("function"==typeof r)return a.setImmediate=function(){return r.apply(void 0,arguments)},void(a.nextTick=function(e){return r(e)});if(a.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",n=[];a.setImmediate=function(t){n.push(t),1===n.length&&window.postMessage(e,"*")},window.addEventListener("message",function(t){if(t.source===window&&t.data===e){t.stopPropagation();var r=n.slice();n.length=0,r.forEach(function(e){e()})}},!0)}if("undefined"!=typeof MutationObserver){var i=Date.now(),o=!0,s=document.createElement("div");n=[];new MutationObserver(function(){var e=n.slice();n.length=0,e.forEach(function(e){e()})}).observe(s,{attributes:!0});var u=a.setImmediate;a.setImmediate=function(e){Date.now()-i>15?(i=Date.now(),u(e)):(n.push(e),1===n.length&&s.setAttribute("a",o=!o))}}a.nextTick=a.setImmediate}(),a.isNodejs=void 0!==t&&t.versions&&t.versions.node,a.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},a.isArrayBufferView=function(e){return e&&a.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},a.ByteBuffer=c,a.ByteStringBuffer=c;a.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},a.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var n=this.data;t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return this.data=n,this._optimizeConstructedString(t),this},a.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},a.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(a.encodeUtf8(e))},a.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},a.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},a.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},a.ByteStringBuffer.prototype.putInt=function(e,t){u(t);var n="";do{t-=8,n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)},a.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},a.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},a.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},a.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},a.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},a.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},a.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},a.ByteStringBuffer.prototype.getInt=function(e){u(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},a.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},a.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},a.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},a.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},a.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteStringBuffer.prototype.copy=function(){var e=a.createBuffer(this.data);return e.read=this.read,e},a.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},a.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0"),e+=n.toString(16)}return e},a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())},a.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var n=a.isArrayBuffer(e),r=a.isArrayBufferView(e);if(n||r)return this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},a.DataBuffer.prototype.length=function(){return this.write-this.read},a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},a.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var n=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),r=new Uint8Array(this.length()+t);return r.set(n),this.data=new DataView(r.buffer),this},a.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},a.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var n=0;n<t;++n)this.data.setUint8(e);return this},a.DataBuffer.prototype.putBytes=function(e,t){if(a.isArrayBufferView(e)){var n=(r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-r.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(r),this.write+=n,this}if(a.isArrayBuffer(e)){var r=new Uint8Array(e);return this.accommodate(r.byteLength),new Uint8Array(this.data.buffer).set(r,this.write),this.write+=r.byteLength,this}if(e instanceof a.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&a.isArrayBufferView(e.data)){r=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(r.byteLength),new Uint8Array(e.data.byteLength,this.write).set(r),this.write+=r.byteLength,this}if(e instanceof a.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=a.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=a.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},a.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},a.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},a.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},a.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},a.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},a.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},a.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},a.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},a.DataBuffer.prototype.putInt=function(e,t){u(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},a.DataBuffer.prototype.putSignedInt=function(e,t){return u(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},a.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},a.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},a.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},a.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},a.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},a.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},a.DataBuffer.prototype.getInt=function(e){u(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},a.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},a.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},a.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},a.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},a.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)},a.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},a.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},a.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},a.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var n=this.data.getUint8(t);n<16&&(e+="0"),e+=n.toString(16)}return e},a.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return a.binary.raw.encode(t);if("hex"===e)return a.binary.hex.encode(t);if("base64"===e)return a.binary.base64.encode(t);if("utf8"===e)return a.text.utf8.decode(t);if("utf16"===e)return a.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},a.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=a.encodeUtf8(e)),new a.ByteBuffer(e)},a.fillString=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return n},a.xorBytes=function(e,t,n){for(var r="",i="",o="",s=0,a=0;n>0;--n,++s)i=e.charCodeAt(s)^t.charCodeAt(s),a>=10&&(r+=o,o="",a=0),o+=String.fromCharCode(i),++a;return r+=o},a.hexToBytes=function(e){var t="",n=0;for(!0&e.length&&(n=1,t+=String.fromCharCode(parseInt(e[0],16)));n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},a.bytesToHex=function(e){return a.createBuffer(e).toHex()},a.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],f="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";a.encode64=function(e,t){for(var n,r,i,o="",s="",a=0;a<e.length;)n=e.charCodeAt(a++),r=e.charCodeAt(a++),i=e.charCodeAt(a++),o+=l.charAt(n>>2),o+=l.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=l.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":l.charAt(63&i)),t&&o.length>t&&(s+=o.substr(0,t)+"\r\n",o=o.substr(t));return s+=o},a.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,n,r,i,o="",s=0;s<e.length;)t=h[e.charCodeAt(s++)-43],n=h[e.charCodeAt(s++)-43],r=h[e.charCodeAt(s++)-43],i=h[e.charCodeAt(s++)-43],o+=String.fromCharCode(t<<2|n>>4),64!==r&&(o+=String.fromCharCode((15&n)<<4|r>>2),64!==i&&(o+=String.fromCharCode((3&r)<<6|i)));return o},a.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},a.decodeUtf8=function(e){return decodeURIComponent(escape(e))},a.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:s.encode,decode:s.decode}},a.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},a.binary.raw.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},a.binary.hex.encode=a.bytesToHex,a.binary.hex.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=n=n||0;for(1&e.length&&(i=1,r[o++]=parseInt(e[0],16));i<e.length;i+=2)r[o++]=parseInt(e.substr(i,2),16);return t?o-n:r},a.binary.base64.encode=function(e,t){for(var n,r,i,o="",s="",a=0;a<e.byteLength;)n=e[a++],r=e[a++],i=e[a++],o+=l.charAt(n>>2),o+=l.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=l.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":l.charAt(63&i)),t&&o.length>t&&(s+=o.substr(0,t)+"\r\n",o=o.substr(t));return s+=o},a.binary.base64.decode=function(e,t,n){var r,i,o,s,a=t;a||(a=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,c=n=n||0;u<e.length;)r=h[e.charCodeAt(u++)-43],i=h[e.charCodeAt(u++)-43],o=h[e.charCodeAt(u++)-43],s=h[e.charCodeAt(u++)-43],a[c++]=r<<2|i>>4,64!==o&&(a[c++]=(15&i)<<4|o>>2,64!==s&&(a[c++]=(3&o)<<6|s));return t?c-n:a.subarray(0,c)},a.binary.base58.encode=function(e,t){return a.binary.baseN.encode(e,f,t)},a.binary.base58.decode=function(e,t){return a.binary.baseN.decode(e,f,t)},a.text={utf8:{},utf16:{}},a.text.utf8.encode=function(e,t,n){e=a.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},a.text.utf8.decode=function(e){return a.decodeUtf8(String.fromCharCode.apply(null,e))},a.text.utf16.encode=function(e,t,n){var r=t;r||(r=new Uint8Array(2*e.length));for(var i=new Uint16Array(r.buffer),o=n=n||0,s=n,a=0;a<e.length;++a)i[s++]=e.charCodeAt(a),o+=2;return t?o-n:r},a.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},a.deflate=function(e,t,n){if(t=a.decode64(e.deflate(a.encode64(t)).rval),n){var r=2;32&t.charCodeAt(1)&&(r=6),t=t.substring(r,t.length-4)}return t},a.inflate=function(e,t,n){var r=e.inflate(a.encode64(t)).rval;return null===r?null:a.decode64(r)};var d=function(e,t,n){if(!e)throw new Error("WebStorage not available.");var r;if(null===n?r=e.removeItem(t):(n=a.encode64(JSON.stringify(n)),r=e.setItem(t,n)),void 0!==r&&!0!==r.rval){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}},p=function(e,t){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(t);if(e.init)if(null===n.rval){if(n.error){var r=new Error(n.error.message);throw r.id=n.error.id,r.name=n.error.name,r}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(a.decode64(n))),n},g=function(e,t,n,r){var i=p(e,t);null===i&&(i={}),i[n]=r,d(e,t,i)},y=function(e,t,n){var r=p(e,t);return null!==r&&(r=n in r?r[n]:null),r},v=function(e,t,n){var r=p(e,t);if(null!==r&&n in r){delete r[n];var i=!0;for(var o in r){i=!1;break}i&&(r=null),d(e,t,r)}},m=function(e,t){d(e,t,null)},b=function(e,t,n){var r,i=null;void 0===n&&(n=["web","flash"]);var o=!1,s=null;for(var a in n){r=n[a];try{if("flash"===r||"both"===r){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===r}"web"!==r&&"both"!==r||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(e){s=e}if(o)break}if(!o)throw s;return i};a.setItem=function(e,t,n,r,i){b(g,arguments,i)},a.getItem=function(e,t,n,r){return b(y,arguments,r)},a.removeItem=function(e,t,n,r){b(v,arguments,r)},a.clearItems=function(e,t,n){b(m,arguments,n)},a.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var n=t.exec(e),r=null===n?null:{full:e,scheme:n[1],host:n[2],port:n[3],path:n[4]};return r&&(r.fullHost=r.host,r.port?80!==r.port&&"http"===r.scheme?r.fullHost+=":"+r.port:443!==r.port&&"https"===r.scheme&&(r.fullHost+=":"+r.port):"http"===r.scheme?r.port=80:"https"===r.scheme&&(r.port=443),r.full=r.scheme+"://"+r.fullHost),r};var _=null;a.getQueryVariables=function(e){var t,n=function(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i,o,s=n[r].indexOf("=");s>0?(i=n[r].substring(0,s),o=n[r].substring(s+1)):(i=n[r],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===_&&(_="undefined"!=typeof window&&window.location&&window.location.search?n(window.location.search.substring(1)):{}),t=_):t=n(e),t},a.parseFragment=function(e){var t=e,n="",r=e.indexOf("?");r>0&&(t=e.substring(0,r),n=e.substring(r+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:n,path:i,query:""===n?{}:a.getQueryVariables(n)}},a.makeRequest=function(e){var t=a.parseFragment(e),n={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,n){var r;return void 0===e?r=t.query:(r=t.query[e])&&void 0!==n&&(r=r[n]),r},getQueryLast:function(e,t){var r=n.getQuery(e);return r?r[r.length-1]:t}};return n},a.makeLink=function(e,t,n){e=jQuery.isArray(e)?e.join("/"):e;var r=jQuery.param(t||{});return n=n||"",e+(r.length>0?"?"+r:"")+(n.length>0?"#"+n:"")},a.setPath=function(e,t,n){if("object"==typeof e&&null!==e)for(var r=0,i=t.length;r<i;){var o=t[r++];if(r==i)e[o]=n;else{var s=o in e;(!s||s&&"object"!=typeof e[o]||s&&null===e[o])&&(e[o]={}),e=e[o]}}},a.getPath=function(e,t,n){for(var r=0,i=t.length,o=!0;o&&r<i&&"object"==typeof e&&null!==e;){var s=t[r++];(o=s in e)&&(e=e[s])}return o?e:n},a.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var n=0,r=t.length;n<r;){var i=t[n++];if(n==r)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},a.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},a.format=function(e){for(var t,n,r=/%./g,i=0,o=[],s=0;t=r.exec(e);){(n=e.substring(s,r.lastIndex-2)).length>0&&o.push(n),s=r.lastIndex;var a=t[0][1];switch(a){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+a+"?>")}}return o.push(e.substring(s)),o.join("")},a.formatNumber=function(e,t,n,r){var i=e,o=isNaN(t=Math.abs(t))?2:t,s=void 0===n?",":n,a=void 0===r?".":r,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+a:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?s+Math.abs(i-c).toFixed(o).slice(2):"")},a.formatSize=function(e){return e=e>=1073741824?a.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?a.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?a.formatNumber(e/1024,0)+" KiB":a.formatNumber(e,0)+" bytes"},a.bytesFromIP=function(e){return-1!==e.indexOf(".")?a.bytesFromIPv4(e):-1!==e.indexOf(":")?a.bytesFromIPv6(e):null},a.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=a.createBuffer(),n=0;n<e.length;++n){var r=parseInt(e[n],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()},a.bytesFromIPv6=function(e){for(var t=0,n=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t),r=a.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=a.hexToBytes(e[i]);o.length<2&&r.putByte(0),r.putBytes(o)}else r.fillWithByte(0,n),n=0;return r.getBytes()},a.bytesToIP=function(e){return 4===e.length?a.bytesToIPv4(e):16===e.length?a.bytesToIPv6(e):null},a.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t.join(".")},a.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],n=[],r=0,i=0;i<e.length;i+=2){for(var o=a.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=n[n.length-1],u=t.length;s&&u===s.end+1?(s.end=u,s.end-s.start>n[r].end-n[r].start&&(r=n.length-1)):n.push({start:u,end:u})}t.push(o)}if(n.length>0){var c=n[r];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},a.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in a&&!e.update)return t(null,a.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return a.cores=navigator.hardwareConcurrency,t(null,a.cores);if("undefined"==typeof Worker)return a.cores=1,t(null,a.cores);if("undefined"==typeof Blob)return a.cores=2,t(null,a.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),n=t+4;Date.now()<n;);self.postMessage({st:t,et:n})})}.toString(),")()"],{type:"application/javascript"}));!function e(r,i,o){if(0===i){var s=Math.floor(r.reduce(function(e,t){return e+t},0)/r.length);return a.cores=Math.max(1,s),URL.revokeObjectURL(n),t(null,a.cores)}!function(e,t){for(var r=[],i=[],o=0;o<e;++o){var s=new Worker(n);s.addEventListener("message",function(n){if(i.push(n.data),i.length===e){for(var o=0;o<e;++o)r[o].terminate();t(null,i)}}),r.push(s)}for(var o=0;o<e;++o)r[o].postMessage(o)}(o,function(t,n){r.push(function(e,t){for(var n=[],r=0;r<e;++r)for(var i=t[r],o=n[r]=[],s=0;s<e;++s)if(r!==s){var a=t[s];(i.st>a.st&&i.st<a.et||a.st>i.st&&a.st<i.et)&&o.push(s)}return n.reduce(function(e,t){return Math.max(e,t.length)},0)}(o,n)),e(r,i-1,o)})}([],5,16)}}).call(this,n(0),n(5).setImmediate,n(9).Buffer)},function(e,t,n){"use strict";e.exports=class{constructor(e){this.list=e.sort(),this.done=!1,this.left={};for(let t=0;t<e.length;++t)this.left[e[t]]=!0}hasNext(){return!this.done}next(){const e=this.list.slice();let t=null,n=0;const r=this.list.length;for(let e=0;e<r;++e){const i=this.list[e],o=this.left[i];(null===t||i>t)&&(o&&e>0&&i>this.list[e-1]||!o&&e<r-1&&i>this.list[e+1])&&(t=i,n=e)}if(null===t)this.done=!0;else{const e=this.left[t]?n-1:n+1;this.list[n]=this.list[e],this.list[e]=t;for(let e=0;e<r;++e)this.list[e]>t&&(this.left[this.list[e]]=!this.left[this.list[e]])}return e}}},function(e,t,n){"use strict";const r=n(48),i=n(83),o=n(85),s=n(50),a=n(15),u={subject:"s",object:"o",graph:"g"};e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new r("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e){const t=this;t.quads=e;const n={};for(const r of e)t.forEachComponent(r,e=>{if("BlankNode"!==e.termType)return;const i=e.value;i in t.blankNodeInfo?t.blankNodeInfo[i].quads.push(r):(n[i]=!0,t.blankNodeInfo[i]={quads:[r]})});let i=!0;for(;i;){i=!1,t.hashToBlankNodes={};for(let e in n){const n=t.hashFirstDegreeQuads(e);n in t.hashToBlankNodes?t.hashToBlankNodes[n].push(e):t.hashToBlankNodes[n]=[e]}const e=Object.keys(t.hashToBlankNodes).sort();for(let r=0;r<e.length;++r){const o=e[r],s=t.hashToBlankNodes[o];if(s.length>1)continue;const a=s[0];t.canonicalIssuer.getId(a),delete n[a],delete t.hashToBlankNodes[o],i=!0}}const o=Object.keys(t.hashToBlankNodes).sort();for(let e=0;e<o.length;++e){const n=[],i=o[e],s=t.hashToBlankNodes[i];for(let e=0;e<s.length;++e){const i=s[e];if(t.canonicalIssuer.hasId(i))continue;const o=new r("_:b");o.getId(i);const a=t.hashNDegreeQuads(i,o);n.push(a)}n.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0);for(let e=0;e<n.length;++e){const r=n[e];for(let e in r.issuer.existing)t.canonicalIssuer.getId(e)}}const a=[];for(let e=0;e<t.quads.length;++e){const n=t.quads[e];t.forEachComponent(n,e=>{"BlankNode"!==e.termType||e.value.startsWith(t.canonicalIssuer.prefix)||(e.value=t.canonicalIssuer.getId(e.value))}),a.push(s.serializeQuad(n))}return a.sort(),a.join("")}hashFirstDegreeQuads(e){const t=this,n=t.blankNodeInfo[e];if("hash"in n)return n.hash;const r=[],o=n.quads;for(let n=0;n<o.length;++n){const i=o[n],a={predicate:i.predicate};t.forEachComponent(i,(n,r)=>{a[r]=t.modifyFirstDegreeComponent(e,n,r)}),r.push(s.serializeQuad(a))}r.sort();const a=new i(t.hashAlgorithm);for(let e=0;e<r.length;++e)a.update(r[e]);return n.hash=a.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){const o=this;let s;s=o.canonicalIssuer.hasId(e)?o.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):o.hashFirstDegreeQuads(e);const a=new i(o.hashAlgorithm);return a.update(r),"g"!==r&&a.update(o.getRelatedPredicate(t)),a.update(s),a.digest()}hashNDegreeQuads(e,t){const n=this,r=new i(n.hashAlgorithm),s=n.createHashToRelated(e,t),a=Object.keys(s).sort();for(let e=0;e<a.length;++e){const i=a[e];r.update(i);let u,c="";const l=new o(s[i]);for(;l.hasNext();){const e=l.next();let r=t.clone(),i="";const o=[];let s=!1;for(let t=0;t<e.length;++t){const a=e[t];if(n.canonicalIssuer.hasId(a)?i+=n.canonicalIssuer.getId(a):(r.hasId(a)||o.push(a),i+=r.getId(a)),0!==c.length&&i.length>=c.length&&i>c){s=!0;break}}if(!s){for(let e=0;e<o.length;++e){const t=o[e],a=n.hashNDegreeQuads(t,r);if(i+=r.getId(t),i+="<"+a.hash+">",r=a.issuer,0!==c.length&&i.length>=c.length&&i>c){s=!0;break}}s||(0===c.length||i<c)&&(c=i,u=r)}}r.update(c),t=u}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:((t=a.clone(t)).value=t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t){const n=this,r={},i=n.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const s=i[o];for(let i in s){const o=s[i];if("predicate"===i||"BlankNode"!==o.termType||o.value===e)continue;const a=o.value,c=u[i],l=n.hashRelatedBlankNode(a,s,t,c);l in r?r[l].push(a):r[l]=[a]}}return r}forEachComponent(e,t){for(let n in e)"predicate"!==n&&t(e[n],n,e)}}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){(function(t){var r=n(40).xsd,i=String.fromCharCode,o="function"==typeof t?t:function(e){setTimeout(e,0)},s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,a={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},u=/[\x00-\x20<>\\"\{\}\|\^\`]/;function c(e){if(!(this instanceof c))return new c(e);if((e=e||{}).lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var t=this;this._tokenize=this.tokenize,this.tokenize=function(e,n){this._tokenize(e,function(e,r){!e&&/^(?:IRI|blank|literal|langcode|typeIRI|\.|eof)$/.test(r.type)?n&&n(e,r):n&&n(e||t._syntaxError(r.type,n=null))})}}this._n3Mode=!1!==e.n3,this._comments=!!e.comments}c.prototype={_iri:/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,_unescapedQuote:/^"([^"\\\r\n]+)"/,_unescapedApos:/^'([^'\\\r\n]+)'/,_singleQuote:/^"((?:[^"\\\r\n]|\\.)*)"(?=[^"])/,_singleApos:/^'((?:[^'\\\r\n]|\\.)*)'(?=[^'])/,_tripleQuote:/^"""([^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*)"""/,_tripleApos:/^'''([^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*)'''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,_variable:/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/i,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_comment:/#([^\n\r]*)/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(e,t){for(var n=this._input,i=this._comments;;){for(var o,s;o=this._newline.exec(n);)i&&(s=this._comment.exec(o[0]))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),n=n.substr(o[0].length,n.length),this._line++;if((o=this._whitespace.exec(n))&&(n=n.substr(o[0].length,n.length)),this._endOfFile.test(n))return t&&(i&&(s=this._comment.exec(n))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),e(n=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=n;var a=this._line,c="",l="",h="",f=n[0],d=null,p=0,g=!1;switch(f){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(p=1,c="^");break}if(this._previousMarker="^^","<"!==(n=n.substr(2))[0]){g=!0;break}case"<":if(d=this._unescapedIri.exec(n))c="IRI",l=d[1];else if(d=this._iri.exec(n)){if(null===(l=this._unescape(d[1]))||u.test(l))return v(this);c="IRI"}else this._n3Mode&&n.length>1&&"="===n[1]&&(c="inverse",p=2,l=">");break;case"_":((d=this._blank.exec(n))||t&&(d=this._blank.exec(n+" ")))&&(c="blank",h="_",l=d[1]);break;case'"':if(d=this._unescapedQuote.exec(n))l=d[1];else if(n.indexOf('"',1)>0&&((d=this._singleQuote.exec(n))?l=this._unescape(d[1]):(d=this._tripleQuote.exec(n))&&(l=d[1],this._line+=l.split(/\r\n|\r|\n/).length-1,l=this._unescape(l)),null===l))return v(this);null!==d&&(c="literal");break;case"'":if(d=this._unescapedApos.exec(n))l=d[1];else if(n.indexOf("'",1)>0&&((d=this._singleApos.exec(n))?l=this._unescape(d[1]):(d=this._tripleApos.exec(n))&&(l=d[1],this._line+=l.split(/\r\n|\r|\n/).length-1,l=this._unescape(l)),null===l))return v(this);null!==d&&(c="literal");break;case"?":this._n3Mode&&(d=this._variable.exec(n))&&(c="var",l=d[0]);break;case"@":"literal"===this._previousMarker&&(d=this._langcode.exec(n))?(c="langcode",l=d[1]):(d=this._keyword.exec(n))&&(c=d[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){c=".",p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(d=this._number.exec(n)||t&&(d=this._number.exec(n+" ")))&&(c="literal",l=d[0],h=d[1]?r.double:/^[+\-]?\d+$/.test(d[0])?r.integer:r.decimal);break;case"B":case"b":case"p":case"P":case"G":case"g":(d=this._sparqlKeyword.exec(n))?c=d[0].toUpperCase():g=!0;break;case"f":case"t":(d=this._boolean.exec(n))?(c="literal",l=d[0],h=r.boolean):g=!0;break;case"a":(d=this._shortPredicates.exec(n))?(c="abbreviation",l="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(c="abbreviation",">"!==n[1]?(p=1,l="="):(p=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":p=1,c=f;break;default:g=!0}if(g&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(d=this._prefix.exec(n))?((d=this._prefixed.exec(n))||t&&(d=this._prefixed.exec(n+" ")))&&(c="prefixed",h=d[1]||"",l=this._unescape(d[2])):(c="prefix",l=d[1]||"")),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?v(this):this._input=n;var y={line:a,type:c,value:l,prefix:h};e(null,y),this.previousToken=y,this._previousMarker=c,n=n.substr(p||d[0].length,n.length)}function v(t){e(t._syntaxError(/^\S*/.exec(n)[0]))}},_unescape:function(e){try{return e.replace(s,function(e,t,n,r){var o;if(t){if(o=parseInt(t,16),isNaN(o))throw new Error;return i(o)}if(n){if(o=parseInt(n,16),isNaN(o))throw new Error;return o<=65535?i(o):i(55296+(o-=65536)/1024,56320+(1023&o))}var s=a[r];if(!s)throw new Error;return s})}catch(e){return null}},_syntaxError:function(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t},tokenize:function(e,t){var n=this;if(this._line=1,"string"==typeof e){if(this._input=e,"function"!=typeof t){var r,i=[];if(this._tokenizeToEnd(function(e,t){e?r=e:i.push(t)},!0),r)throw r;return i}o(function(){n._tokenizeToEnd(t,!0)})}else this._input="","function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",function(e){null!==n._input&&(n._input+=e,n._tokenizeToEnd(t,!1))}),e.on("end",function(){null!==n._input&&n._tokenizeToEnd(t,!0)}),e.on("error",t)}},e.exports=c}).call(this,n(5).setImmediate)},function(e,t,n){var r=n(88),i=n(28),o=n(40),s=0,a=0;function u(e){if(!(this instanceof u))return new u(e);this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&l(this,e.factory);var t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",n="turtle"===t,i="trig"===t,o=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),c=o||s;(this._supportsNamedGraphs=!(n||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||i||o||a),c&&(this._resolveRelativeIRI=function(e){return""}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new r({lineMode:c,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}function c(){}function l(e,t){var n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(o.rdf.first),e.RDF_REST=n(o.rdf.rest),e.RDF_NIL=n(o.rdf.nil),e.N3_FORALL=n(o.r.forAll),e.N3_FORSOME=n(o.r.forSome),e.ABBREVIATIONS={a:n(o.rdf.type),"=":n(o.owl.sameAs),">":n(o.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}u._resetBlankNodeIds=function(){s=a=0},u.prototype={_blank:function(){return this._blankNode("b"+a++)},_setBase:function(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base=null},_saveContext:function(e,t,n,r,i){var o=this._n3Mode;this._contextStack.push({subject:n,predicate:r,object:i,graph:t,type:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))},_restoreContext:function(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)},_readInTopContext:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}},_readEntity:function(e,t){var n;switch(e.type){case"IRI":case"typeIRI":var r=this._resolveIRI(e.value);if(""===r)return this._error("Invalid IRI",e);n=this._namedNode(r);break;case"type":case"prefixed":var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'+e.prefix+':"',e);n=this._namedNode(i+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n},_readSubject:function(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blank(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blank(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject},_readObject:function(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blank()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blank()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()},_readPredicateOrNamedGraph:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)},_readBlankNodeHead:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))},_readBlankNodeTail:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()},_readPredicateAfterBlank:function(e){return"."!==e.type||this._contextStack.length?this._readPredicate(e):(this._subject=null,this._readPunctuation(e))},_readListItem:function(e){var t=null,n=null,r=this._subject,i=this._contextStack,o=i[i.length-1],s=this._readListItem;switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blank(),this.RDF_FIRST,this._subject=t=this._blank()),s=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blank(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(s=this._readPredicate,this._subject===this.RDF_NIL)return s}else if(s=this._getContextEndReader(),this._object===this.RDF_NIL)return s;n=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,s=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),s=this._getContextEndReader());break;default:if(void 0===(t=this._readEntity(e)))return}if(null===n&&(this._subject=n=this._blank()),null===r?null===o.predicate?o.subject=n:o.object=n:this._emit(r,this.RDF_REST,n,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return s},_readDataTypeOrLang:function(e){return this._completeLiteral(e,!1)},_readListItemDataTypeOrLang:function(e){return this._completeLiteral(e,!0)},_completeLiteral:function(e,t){switch(e.type){case"type":case"typeIRI":var n=this._readEntity(e);if(void 0===n)return;this._object=this._literal(this._literalValue,n),e=null;break;case"langcode":this._object=this._literal(this._literalValue,e.value),e=null;break;default:this._object=this._literal(this._literalValue)}return t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===e?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(e))},_readFormulaTail:function(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())},_readPunctuation:function(e){var t,n=this._subject,r=this._graph,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}if(null!==n){var o=this._predicate,s=this._object;i?this._emit(s,o,n,r):this._emit(n,o,s,r)}return t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object.id+'"',e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t},_readQuadPunctuation:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext},_readPrefix:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)},_readPrefixIRI:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation},_readBaseIRI:function(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blank(),this._readGraph)},_readDeclarationPunctuation:function(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext},_readQuantifierList:function(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blank(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blank(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier("b"+a++),this._readQuantifierPunctuation},_readQuantifierPunctuation:function(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))},_getPathReader:function(e){return this._afterPath=e,this._readPath},_readPath:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,n=t.length&&t[t.length-1];if(n&&"item"===n.type){var r=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}},_readForwardPath:function(e){var t,n,r=this._blank();if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath},_readBackwardPath:function(e){var t,n,r=this._blank();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(n=this._subject,this._subject=r):(n=this._object,this._object=r),this._emit(r,t,n,this._graph),this._readPath},_getContextEndReader:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}},_emit:function(e,t,n,r){this._callback(null,this._quad(e,t,n,r||this.DEFAULTGRAPH))},_error:function(e,t){var n=new Error(e+" on line "+t.line+".");n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=c},_resolveIRI:function(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)},_resolveRelativeIRI:function(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?"":this._removeDotSegments(this._basePath+e)}},_removeDotSegments:function(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t="",n=e.length,r=-1,i=-1,o=0,s="/";r<n;){switch(s){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<n&&"/"!==e[i];)r=i;break;case"?":case"#":r=n;break;case"/":if("."===e[r+1])switch(s=e[++r+1]){case"/":t+=e.substring(o,r-1),o=r+1;break;case void 0:case"?":case"#":return t+e.substring(o,r)+e.substr(r+1);case".":if(void 0===(s=e[++r+1])||"/"===s||"?"===s||"#"===s){if((o=(t+=e.substring(o,r-2)).lastIndexOf("/"))>=i&&(t=t.substr(0,o)),"/"!==s)return t+"/"+e.substr(r+1);o=r+1}}}s=e[++r]}return t+e.substring(o)},parse:function(e,t,n){var r=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b"+s+++"_",this._prefixCallback=n||c,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,o=[];if(this._callback=function(e,t){e?i=e:t&&o.push(t)},this._lexer.tokenize(e).every(function(e){return r._readCallback=r._readCallback(e)}),i)throw i;return o}this._callback=t,this._lexer.tokenize(e,function(e,t){null!==e?(r._callback(e),r._callback=c):r._readCallback&&(r._readCallback=r._readCallback(t))})}},l(u.prototype,i),e.exports=u},function(e,t,n){var r=n(40),i=n(28),o=i.defaultGraph(),s=r.rdf,a=r.xsd,u=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,c=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,l={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function h(e,t){if(!(this instanceof h))return new h(e,t);if(e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var n="";this._outputStream={write:function(e,t,r){n+=e,r&&r()},end:function(e){e&&e(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeQuad=this._writeQuadLine:(this._graph=o,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}function f(e){var t=l[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function d(e){this.id=e}h.prototype={get _inDefaultGraph(){return o.equals(this._graph)},_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeQuad:function(e,t,n,r,i){try{r.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(o.equals(r)?"":this._encodeIriOrBlank(r)+" {\n")),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(n),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i):this._write((null===this._subject?"":".\n")+this._encodeIriOrBlank(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(n),i)}catch(e){i&&i(e)}},_writeQuadLine:function(e,t,n,r,i){delete this._prefixMatch,this._write(this.quadToString(e,t,n,r),i)},quadToString:function(e,t,n,r){return this._encodeIriOrBlank(e)+" "+this._encodeIriOrBlank(t)+" "+this._encodeObject(n)+(r&&r.value?" "+this._encodeIriOrBlank(r)+".\n":".\n")},quadsToString:function(e){return e.map(function(e){return this.quadToString(e.subject,e.predicate,e.object,e.graph)},this).join("")},_encodeIriOrBlank:function(e){if("NamedNode"!==e.termType)return"id"in e?e.id:"_:"+e.value;var t=e.value;u.test(t)&&(t=t.replace(c,f));var n=this._prefixRegex.exec(t);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:t:"<"+t+">"},_encodeLiteral:function(e){var t=e.value;return u.test(t)&&(t=t.replace(c,f)),e.language?'"'+t+'"@'+e.language:e.datatype.value!==a.string?'"'+t+'"^^'+this._encodeIriOrBlank(e.datatype):'"'+t+'"'},_encodePredicate:function(e){return e.value===s.type?"a":this._encodeIriOrBlank(e)},_encodeObject:function(e){return"Literal"===e.termType?this._encodeLiteral(e):this._encodeIriOrBlank(e)},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addQuad:function(e,t,n,r,i){void 0===n?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof r?this._writeQuad(e,t,n,o,r):this._writeQuad(e,t,n,r||o,i)},addQuads:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])},addPrefix:function(e,t,n){var r={};r[e]=t,this.addPrefixes(r,n)},addPrefixes:function(e,t){var n=this._prefixIRIs,r=!1;for(var i in e){var o=e[i];"string"!=typeof o&&(o=o.value),/[#\/]$/.test(o)&&n[o]!==(i+=":")&&(r=!0,n[o]=i,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._write("@prefix "+i+" <"+o+">.\n"))}if(r){var s="",a="";for(var u in n)s+=s?"|"+u:u,a+=(a?"|":"")+n[u];s=s.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+a+")[^/]*$|^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(r?"\n":"",t)},blank:function(e,t){var n,r,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),r=i.length){case 0:return new d("[]");case 1:if(!((n=i[0]).object instanceof d))return new d("[ "+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object)+" ]");default:for(var o="[",s=0;s<r;s++)(n=i[s]).predicate.equals(e)?o+=", "+this._encodeObject(n.object):(o+=(s?";\n  ":"\n  ")+this._encodePredicate(n.predicate)+" "+this._encodeObject(n.object),e=n.predicate);return new d(o+"\n]")}},list:function(e){for(var t=e&&e.length||0,n=new Array(t),r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return new d("("+n.join(" ")+")")},_prefixRegex:/$0^/,end:function(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(n,r){t=null,e(n,r)};if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}},i.internal.Term.subclass(d),d.prototype.equals=function(){return!1},e.exports=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var s=function(e){function t(t,n){var r=e.call(this)||this;return r.saveCondition=t,r.followCondition=n,r}return r(t,e),t.prototype.updateNodeContext=function(e){this.nodeContext=e},t.prototype.updateNodeContextUpdateActionAction=function(e){this.nodeContextUpdateAction=e},t.prototype.query=function(){return i(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return void 0!==this.session.context&&null!==this.session.context||(void 0===this.nodeContext||null===this.nodeContext?this.session.context=new Array(this.session.nodes.length):this.session.context=this.nodeContext),this.session.leafnodes=[],this.session.leafcontext=[],e=this,[4,this.queryRecursive(this.session)];case 1:return e.session=t.sent(),this.session.nodes=this.session.leafnodes,this.session.context=this.session.leafcontext,delete this.session.leafnodes,delete this.session.leafcontext,[2,this.session]}})})},t.prototype.emitMember=function(e){return i(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:return[4,e.getMembers()];case 1:for(t=o.sent(),n=0,r=t;n<r.length;n++)i=r[n],0!==Object.keys(i).length&&this.emit("member",i);return[2]}})})},t.prototype.emitNode=function(e){return i(this,void 0,void 0,function(){return o(this,function(t){return this.emit("node",e),[2]})})},t.prototype.queryRecursive=function(e){return i(this,void 0,void 0,function(){var t,n,r,i,s,a,u,c,l,h,f,d,p,g,y;return o(this,function(o){switch(o.label){case 0:t=new Array,n=0,o.label=1;case 1:return n<e.getLength()?(r=e.nodes[n],i=e.context[n],this.saveCondition.check_condition(r,i)?(this.emitMember(r),this.emitNode(r),[4,r.getChildRelations()]):[3,3]):[3,11];case 2:0==o.sent().length&&(e.leafnodes.push(r),e.leafcontext.push(i),this.emit("leafnode",r)),o.label=3;case 3:return s=0,[4,r.getChildRelations()];case 4:a=o.sent(),o.label=5;case 5:return s<a.length?(u=a[s],c=0,[4,u.getChildren()]):[3,10];case 6:l=o.sent(),o.label=7;case 7:if(!(c<l.length))return[3,9];h=l[c],this.followCondition.check_condition(r,u,h,i)&&t.push([r,u,h,i]),o.label=8;case 8:return c++,[3,7];case 9:return s++,[3,5];case 10:return n++,[3,1];case 11:for(f=0,d=t;f<d.length;f++)y=d[f],null!=this.nodeContextUpdateAction&&null!=[y[3]]&&(y[3]=this.nodeContextUpdateAction(y[0],y[1],y[2],y[3]));if(0==t.length)return[2,e];for(e.nodes=[],e.context=[],p=0,g=t;p<g.length;p++)y=g[p],e.nodes.push(y[2]),e.context.push(y[3]);return[4,this.queryRecursive(e)];case 12:return[2,o.sent()]}})})},t}(n(53).default);t.default=s},function(e,t,n){!function(t,r){if("object"==typeof e&&"object"==typeof e.exports)e.exports=r(n(54));else if("object"==typeof navigator){if(!t.Terraformer)throw new Error("Terraformer.WKT requires the core Terraformer library. http://github.com/esri/terraformer");t.Terraformer.WKT=r(t.Terraformer)}}(this,function(e){var t={},n=function(){var e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,point:4,EOF:5,linestring:6,polygon:7,multipoint:8,multilinestring:9,multipolygon:10,coordinate:11,DOUBLE_TOK:12,ptarray:13,COMMA:14,ring_list:15,ring:16,"(":17,")":18,POINT:19,Z:20,ZM:21,M:22,EMPTY:23,point_untagged:24,polygon_list:25,polygon_untagged:26,point_list:27,LINESTRING:28,POLYGON:29,MULTIPOINT:30,MULTILINESTRING:31,MULTIPOLYGON:32,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",12:"DOUBLE_TOK",14:"COMMA",17:"(",18:")",19:"POINT",20:"Z",21:"ZM",22:"M",23:"EMPTY",28:"LINESTRING",29:"POLYGON",30:"MULTIPOINT",31:"MULTILINESTRING",32:"MULTIPOLYGON"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[11,2],[11,3],[11,4],[13,3],[13,1],[15,3],[15,1],[16,3],[4,4],[4,5],[4,5],[4,5],[4,2],[24,1],[24,3],[25,3],[25,1],[26,3],[27,3],[27,1],[6,4],[6,5],[6,5],[6,5],[6,2],[7,4],[7,5],[7,5],[7,5],[7,2],[8,4],[8,5],[8,5],[8,5],[8,2],[9,4],[9,5],[9,5],[9,5],[9,2],[10,4],[10,5],[10,5],[10,5],[10,2]],performAction:function(e,t,n,i,u,c,l){var h=c.length-1;switch(u){case 1:case 2:case 3:case 4:case 5:case 6:return c[h-1];case 7:this.$=new r([Number(c[h-1]),Number(c[h])]);break;case 8:this.$=new r([Number(c[h-2]),Number(c[h-1]),Number(c[h])]);break;case 9:this.$=new r([Number(c[h-3]),Number(c[h-2]),Number(c[h-1]),Number(c[h])]);break;case 10:this.$=c[h-2].addPoint(c[h]);break;case 11:this.$=c[h];break;case 12:this.$=c[h-2].addRing(c[h]);break;case 13:this.$=new s(c[h]);break;case 14:this.$=new o(c[h-1]);break;case 15:this.$={type:"Point",coordinates:c[h-1].data[0]};break;case 16:this.$={type:"Point",coordinates:c[h-1].data[0],properties:{z:!0}};break;case 17:this.$={type:"Point",coordinates:c[h-1].data[0],properties:{z:!0,m:!0}};break;case 18:this.$={type:"Point",coordinates:c[h-1].data[0],properties:{m:!0}};break;case 19:this.$={type:"Point",coordinates:[]};break;case 20:this.$=c[h];break;case 21:this.$=c[h-1];break;case 22:this.$=c[h-2].addPolygon(c[h]);break;case 23:this.$=new a(c[h]);break;case 24:this.$=c[h-1];break;case 25:this.$=c[h-2].addPoint(c[h]);break;case 26:this.$=c[h];break;case 27:this.$={type:"LineString",coordinates:c[h-1].data};break;case 28:this.$={type:"LineString",coordinates:c[h-1].data,properties:{z:!0}};break;case 29:this.$={type:"LineString",coordinates:c[h-1].data,properties:{m:!0}};break;case 30:this.$={type:"LineString",coordinates:c[h-1].data,properties:{z:!0,m:!0}};break;case 31:this.$={type:"LineString",coordinates:[]};break;case 32:this.$={type:"Polygon",coordinates:c[h-1].toJSON()};break;case 33:this.$={type:"Polygon",coordinates:c[h-1].toJSON(),properties:{z:!0}};break;case 34:this.$={type:"Polygon",coordinates:c[h-1].toJSON(),properties:{m:!0}};break;case 35:this.$={type:"Polygon",coordinates:c[h-1].toJSON(),properties:{z:!0,m:!0}};break;case 36:this.$={type:"Polygon",coordinates:[]};break;case 37:this.$={type:"MultiPoint",coordinates:c[h-1].data};break;case 38:this.$={type:"MultiPoint",coordinates:c[h-1].data,properties:{z:!0}};break;case 39:this.$={type:"MultiPoint",coordinates:c[h-1].data,properties:{m:!0}};break;case 40:this.$={type:"MultiPoint",coordinates:c[h-1].data,properties:{z:!0,m:!0}};break;case 41:this.$={type:"MultiPoint",coordinates:[]};break;case 42:this.$={type:"MultiLineString",coordinates:c[h-1].toJSON()};break;case 43:this.$={type:"MultiLineString",coordinates:c[h-1].toJSON(),properties:{z:!0}};break;case 44:this.$={type:"MultiLineString",coordinates:c[h-1].toJSON(),properties:{m:!0}};break;case 45:this.$={type:"MultiLineString",coordinates:c[h-1].toJSON(),properties:{z:!0,m:!0}};break;case 46:this.$={type:"MultiLineString",coordinates:[]};break;case 47:this.$={type:"MultiPolygon",coordinates:c[h-1].toJSON()};break;case 48:this.$={type:"MultiPolygon",coordinates:c[h-1].toJSON(),properties:{z:!0}};break;case 49:this.$={type:"MultiPolygon",coordinates:c[h-1].toJSON(),properties:{m:!0}};break;case 50:this.$={type:"MultiPolygon",coordinates:c[h-1].toJSON(),properties:{z:!0,m:!0}};break;case 51:this.$={type:"MultiPolygon",coordinates:[]}}},table:[{3:1,4:2,6:3,7:4,8:5,9:6,10:7,19:[1,8],28:[1,9],29:[1,10],30:[1,11],31:[1,12],32:[1,13]},{1:[3]},{5:[1,14]},{5:[1,15]},{5:[1,16]},{5:[1,17]},{5:[1,18]},{5:[1,19]},{17:[1,20],20:[1,21],21:[1,22],22:[1,23],23:[1,24]},{17:[1,25],20:[1,26],21:[1,28],22:[1,27],23:[1,29]},{17:[1,30],20:[1,31],21:[1,33],22:[1,32],23:[1,34]},{17:[1,35],20:[1,36],21:[1,38],22:[1,37],23:[1,39]},{17:[1,40],20:[1,41],21:[1,43],22:[1,42],23:[1,44]},{17:[1,45],20:[1,46],21:[1,48],22:[1,47],23:[1,49]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{11:51,12:[1,52],13:50},{17:[1,53]},{17:[1,54]},{17:[1,55]},{5:[2,19]},{11:58,12:[1,52],17:[1,59],24:57,27:56},{17:[1,60]},{17:[1,61]},{17:[1,62]},{5:[2,31]},{15:63,16:64,17:[1,65]},{17:[1,66]},{17:[1,67]},{17:[1,68]},{5:[2,36]},{11:58,12:[1,52],17:[1,59],24:57,27:69},{17:[1,70]},{17:[1,71]},{17:[1,72]},{5:[2,41]},{15:73,16:64,17:[1,65]},{17:[1,74]},{17:[1,75]},{17:[1,76]},{5:[2,46]},{17:[1,79],25:77,26:78},{17:[1,80]},{17:[1,81]},{17:[1,82]},{5:[2,51]},{14:[1,84],18:[1,83]},{14:[2,11],18:[2,11]},{12:[1,85]},{11:51,12:[1,52],13:86},{11:51,12:[1,52],13:87},{11:51,12:[1,52],13:88},{14:[1,90],18:[1,89]},{14:[2,26],18:[2,26]},{14:[2,20],18:[2,20]},{11:91,12:[1,52]},{11:58,12:[1,52],17:[1,59],24:57,27:92},{11:58,12:[1,52],17:[1,59],24:57,27:93},{11:58,12:[1,52],17:[1,59],24:57,27:94},{14:[1,96],18:[1,95]},{14:[2,13],18:[2,13]},{11:51,12:[1,52],13:97},{15:98,16:64,17:[1,65]},{15:99,16:64,17:[1,65]},{15:100,16:64,17:[1,65]},{14:[1,90],18:[1,101]},{11:58,12:[1,52],17:[1,59],24:57,27:102},{11:58,12:[1,52],17:[1,59],24:57,27:103},{11:58,12:[1,52],17:[1,59],24:57,27:104},{14:[1,96],18:[1,105]},{15:106,16:64,17:[1,65]},{15:107,16:64,17:[1,65]},{15:108,16:64,17:[1,65]},{14:[1,110],18:[1,109]},{14:[2,23],18:[2,23]},{15:111,16:64,17:[1,65]},{17:[1,79],25:112,26:78},{17:[1,79],25:113,26:78},{17:[1,79],25:114,26:78},{5:[2,15]},{11:115,12:[1,52]},{12:[1,116],14:[2,7],18:[2,7]},{14:[1,84],18:[1,117]},{14:[1,84],18:[1,118]},{14:[1,84],18:[1,119]},{5:[2,27]},{11:58,12:[1,52],17:[1,59],24:120},{18:[1,121]},{14:[1,90],18:[1,122]},{14:[1,90],18:[1,123]},{14:[1,90],18:[1,124]},{5:[2,32]},{16:125,17:[1,65]},{14:[1,84],18:[1,126]},{14:[1,96],18:[1,127]},{14:[1,96],18:[1,128]},{14:[1,96],18:[1,129]},{5:[2,37]},{14:[1,90],18:[1,130]},{14:[1,90],18:[1,131]},{14:[1,90],18:[1,132]},{5:[2,42]},{14:[1,96],18:[1,133]},{14:[1,96],18:[1,134]},{14:[1,96],18:[1,135]},{5:[2,47]},{17:[1,79],26:136},{14:[1,96],18:[1,137]},{14:[1,110],18:[1,138]},{14:[1,110],18:[1,139]},{14:[1,110],18:[1,140]},{14:[2,10],18:[2,10]},{12:[1,141],14:[2,8],18:[2,8]},{5:[2,16]},{5:[2,17]},{5:[2,18]},{14:[2,25],18:[2,25]},{14:[2,21],18:[2,21]},{5:[2,28]},{5:[2,29]},{5:[2,30]},{14:[2,12],18:[2,12]},{14:[2,14],18:[2,14]},{5:[2,33]},{5:[2,34]},{5:[2,35]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,43]},{5:[2,44]},{5:[2,45]},{14:[2,22],18:[2,22]},{14:[2,24],18:[2,24]},{5:[2,48]},{5:[2,49]},{5:[2,50]},{14:[2,9],18:[2,9]}],defaultActions:{14:[2,1],15:[2,2],16:[2,3],17:[2,4],18:[2,5],19:[2,6],24:[2,19],29:[2,31],34:[2,36],39:[2,41],44:[2,46],49:[2,51],83:[2,15],89:[2,27],95:[2,32],101:[2,37],105:[2,42],109:[2,47],117:[2,16],118:[2,17],119:[2,18],122:[2,28],123:[2,29],124:[2,30],127:[2,33],128:[2,34],129:[2,35],130:[2,38],131:[2,39],132:[2,40],133:[2,43],134:[2,44],135:[2,45],138:[2,48],139:[2,49],140:[2,50]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,u=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;i.push(l);var h=this.lexer.options&&this.lexer.options.ranges;function f(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,p,g,y,v,m,b,_,w,x={};;){if(g=n[n.length-1],this.defaultActions[g]?y=this.defaultActions[g]:(null!==d&&void 0!==d||(d=f()),y=o[g]&&o[g][d]),void 0===y||!y.length||!y[0]){var I="";if(!c){for(m in w=[],o[g])this.terminals_[m]&&m>2&&w.push("'"+this.terminals_[m]+"'");I=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(I,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:l,expected:w})}}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+d);switch(y[0]){case 1:n.push(d),r.push(this.lexer.yytext),i.push(this.lexer.yylloc),n.push(y[1]),d=null,p?(d=p,p=null):(u=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,l=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[y[1]][1],x.$=r[r.length-b],x._$={first_line:i[i.length-(b||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(b||1)].first_column,last_column:i[i.length-1].last_column},h&&(x._$.range=[i[i.length-(b||1)].range[0],i[i.length-1].range[1]]),void 0!==(v=this.performAction.call(x,s,u,a,this.yy,y[1],r,i)))return v;b&&(n=n.slice(0,-1*b*2),r=r.slice(0,-1*b),i=i.slice(0,-1*b)),n.push(this.productions_[y[1]][0]),r.push(x.$),i.push(x._$),_=o[n[n.length-2]][n[n.length-1]],n.push(_);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||t&&!(n[0].length>t[0].length)||(t=n,r=s,this.options.flex));s++);return t?((i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return 17;case 2:return 18;case 3:return 12;case 4:return 19;case 5:return 28;case 6:return 29;case 7:return 30;case 8:return 31;case 9:return 32;case 10:return 14;case 11:return 23;case 12:return 22;case 13:return 20;case 14:return 21;case 15:return 5;case 16:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:-?[0-9]+(\.[0-9]+)?([eE][\-\+]?[0-9]+)?)/,/^(?:POINT\b)/,/^(?:LINESTRING\b)/,/^(?:POLYGON\b)/,/^(?:MULTIPOINT\b)/,/^(?:MULTILINESTRING\b)/,/^(?:MULTIPOLYGON\b)/,/^(?:,)/,/^(?:EMPTY\b)/,/^(?:M\b)/,/^(?:Z\b)/,/^(?:ZM\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],inclusive:!0}}};return e}();function n(){this.yy={}}return e.lexer=t,n.prototype=e,e.Parser=n,new n}();function r(e){this.data=[e],this.type="PointArray"}function o(e){this.data=e,this.type="Ring"}function s(e){this.data=[e],this.type="RingList"}function a(e){this.data=[e],this.type="PolygonList"}function u(e){for(var t=[],n="",r=0;r<e.length;r++)t.push(e[r].join(" "));return n+="("+t.join(", ")+")"}return r.prototype.addPoint=function(e){return"PointArray"===e.type?this.data=this.data.concat(e.data):this.data.push(e),this},r.prototype.toJSON=function(){return this.data},o.prototype.toJSON=function(){for(var e=[],t=0;t<this.data.data.length;t++)e.push(this.data.data[t]);return e},s.prototype.addRing=function(e){return this.data.push(e),this},s.prototype.toJSON=function(){for(var e=[],t=0;t<this.data.length;t++)e.push(this.data[t].toJSON());return e.length,e},a.prototype.addPolygon=function(e){return this.data.push(e),this},a.prototype.toJSON=function(){for(var e=[],t=0;t<this.data.length;t++)e=e.concat([this.data[t].toJSON()]);return e},t.parser=n,t.Parser=n.Parser,t.parse=function(t){var r;try{r=n.parse(t)}catch(e){throw Error("Unable to parse: "+e)}return e.Primitive(r)},t.convert=function e(t){switch(t.type){case"Point":return function(e){var t="POINT ";return void 0===e.coordinates||0===e.coordinates.length?t+="EMPTY":(3===e.coordinates.length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates.length&&(t+="ZM "),t+="("+e.coordinates.join(" ")+")")}(t);case"LineString":return function(e){var t="LINESTRING ";return void 0===e.coordinates||0===e.coordinates.length||0===e.coordinates[0].length?t+="EMPTY":(3===e.coordinates[0].length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates[0].length&&(t+="ZM "),t+=u(e.coordinates))}(t);case"Polygon":return function(e){var t="POLYGON ";if(void 0===e.coordinates||0===e.coordinates.length||0===e.coordinates[0].length)return t+="EMPTY";3===e.coordinates[0][0].length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates[0][0].length&&(t+="ZM "),t+="(";for(var n=[],r=0;r<e.coordinates.length;r++)n.push(u(e.coordinates[r]));return t+=n.join(", "),t+=")"}(t);case"MultiPoint":return function(e){var t="MULTIPOINT ";return void 0===e.coordinates||0===e.coordinates.length||0===e.coordinates[0].length?t+="EMPTY":(3===e.coordinates[0].length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates[0].length&&(t+="ZM "),t+=u(e.coordinates))}(t);case"MultiLineString":return function(e){var t="MULTILINESTRING ";if(void 0===e.coordinates||0===e.coordinates.length||0===e.coordinates[0].length)return t+="EMPTY";3===e.coordinates[0][0].length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates[0][0].length&&(t+="ZM "),t+="(";for(var n=[],r=0;r<e.coordinates.length;r++)n.push(u(e.coordinates[r]));return t+=n.join(", "),t+=")"}(t);case"MultiPolygon":return function(e){var t="MULTIPOLYGON ";if(void 0===e.coordinates||0===e.coordinates.length||0===e.coordinates[0].length)return t+="EMPTY";3===e.coordinates[0][0][0].length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates[0][0][0].length&&(t+="ZM "),t+="(";for(var n=[],r=0;r<e.coordinates.length;r++){for(var i="(",o=[],s=0;s<e.coordinates[r].length;s++)o.push(u(e.coordinates[r][s]));i+=o.join(", "),i+=")",n.push(i)}return t+=n.join(", "),t+=")"}(t);case"GeometryCollection":var n=[];for(i=0;i<t.geometries.length;i++)n.push(e(t.geometries[i]));return"GEOMETRYCOLLECTION("+n.join(", ")+")";default:throw Error("Unknown Type: "+t.type)}},t})},function(e,t,n){"use strict";const r=n(189),i=n(56),o=n(94),s=n(96),a=n(58),u=n(17),c={subject:"s",object:"o",graph:"g"};e.exports=class extends r{constructor(e){super(e=e||{}),this.name="URDNA2015",this.options=Object.assign({},e),this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new i("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e,t){const n=this;let r;n.schedule.start=Date.now(),n.quads=e;const o={};n.waterfall([t=>{n.forEach(e,(e,t,r)=>{n.forEachComponent(e,t=>{if("BlankNode"!==t.termType)return;const r=t.value;r in n.blankNodeInfo?n.blankNodeInfo[r].quads.push(e):(o[r]=!0,n.blankNodeInfo[r]={quads:[e]})}),r()},t)},e=>{let t=!0;n.whilst(()=>t,e=>{t=!1,n.hashToBlankNodes={},n.waterfall([e=>{n.forEach(o,(e,t,r)=>{n.hashFirstDegreeQuads(t,(e,i)=>{if(e)return r(e);i in n.hashToBlankNodes?n.hashToBlankNodes[i].push(t):n.hashToBlankNodes[i]=[t],r()})},e)},e=>{const r=Object.keys(n.hashToBlankNodes).sort();n.forEach(r,(e,r,i)=>{const s=n.hashToBlankNodes[e];if(s.length>1)return i();const a=s[0];n.canonicalIssuer.getId(a),delete o[a],delete n.hashToBlankNodes[e],t=!0,i()},e)}],e)},e)},e=>{const t=Object.keys(n.hashToBlankNodes).sort();n.forEach(t,(e,t,r)=>{const o=[],s=n.hashToBlankNodes[e];n.waterfall([e=>{n.forEach(s,(e,t,r)=>{if(n.canonicalIssuer.hasId(e))return r();const s=new i("_:b");s.getId(e),n.hashNDegreeQuads(e,s,(e,t)=>{if(e)return r(e);o.push(t),r()})},e)},e=>{o.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0),n.forEach(o,(e,t,r)=>{for(let t in e.issuer.existing)n.canonicalIssuer.getId(t);r()},e)}],r)},e)},e=>{const t=[];n.waterfall([e=>{n.forEach(n.quads,(e,r,i)=>{n.forEachComponent(e,e=>{"BlankNode"!==e.termType||e.value.startsWith(n.canonicalIssuer.prefix)||(e.value=n.canonicalIssuer.getId(e.value))}),t.push(a.serializeQuad(e)),i()},e)},e=>(t.sort(),r=t.join(""),e())],e)}],e=>t(e,r))}hashFirstDegreeQuads(e,t){const n=this,r=n.blankNodeInfo[e];if("hash"in r)return t(null,r.hash);const i=[],s=r.quads;n.forEach(s,(t,r,o)=>{const s={predicate:t.predicate};n.forEachComponent(t,(t,r)=>{s[r]=n.modifyFirstDegreeComponent(e,t,r)}),i.push(a.serializeQuad(s)),o()},e=>{if(e)return t(e);i.sort();const s=new o(n.hashAlgorithm);for(let e=0;e<i.length;++e)s.update(i[e]);r.hash=s.digest(),t(null,r.hash)})}hashRelatedBlankNode(e,t,n,r,i){const s=this;let a;s.waterfall([t=>s.canonicalIssuer.hasId(e)?(a=s.canonicalIssuer.getId(e),t()):n.hasId(e)?(a=n.getId(e),t()):void s.hashFirstDegreeQuads(e,(e,n)=>{if(e)return t(e);a=n,t()})],e=>{if(e)return i(e);const n=new o(s.hashAlgorithm);return n.update(r),"g"!==r&&n.update(s.getRelatedPredicate(t)),n.update(a),i(null,n.digest())})}hashNDegreeQuads(e,t,n){const r=this;let i;const a=new o(r.hashAlgorithm);r.waterfall([n=>r.createHashToRelated(e,t,(e,t)=>{if(e)return n(e);i=t,n()}),e=>{const n=Object.keys(i).sort();r.forEach(n,(e,n,o)=>{a.update(e);let u,c="";const l=new s(i[e]);r.whilst(()=>l.hasNext(),e=>{const n=l.next();let i=t.clone(),o="";const s=[];r.waterfall([t=>{r.forEach(n,(t,n,a)=>{if(r.canonicalIssuer.hasId(t)?o+=r.canonicalIssuer.getId(t):(i.hasId(t)||s.push(t),o+=i.getId(t)),0!==c.length&&o.length>=c.length&&o>c)return e();a()},t)},t=>{r.forEach(s,(t,n,s)=>{r.hashNDegreeQuads(t,i,(n,r)=>n?s(n):(o+=i.getId(t),o+="<"+r.hash+">",i=r.issuer,0!==c.length&&o.length>=c.length&&o>c?e():void s()))},t)},e=>{(0===c.length||o<c)&&(c=o,u=i),e()}],e)},e=>{if(e)return o(e);a.update(c),t=u,o()})},e)}],e=>{n(e,{hash:a.digest(),issuer:t})})}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:((t=u.clone(t)).value=t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t,n){const r=this,i={},o=r.blankNodeInfo[e].quads;r.forEach(o,(n,o,s)=>{r.forEach(n,(o,s,a)=>{if("predicate"===s||"BlankNode"!==o.termType||o.value===e)return a();const u=o.value,l=c[s];r.hashRelatedBlankNode(u,n,t,l,(e,t)=>{if(e)return a(e);t in i?i[t].push(u):i[t]=[u],a()})},s)},e=>n(e,i))}forEachComponent(e,t){for(let n in e)"predicate"!==n&&t(e[n],n,e)}}},function(e,t,n){"use strict";const r=n(29);n(57),n(190),n(192),e.exports=class{constructor(e){this.md=r.md[e].create()}update(e){this.md.update(e,"utf8")}digest(){return this.md.digest().toHex()}}},function(e,t,n){(function(t,r,i){var o=n(29),s=n(191),a=e.exports=o.util=o.util||{};function u(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function c(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(a.isArrayBuffer(e)||a.isArrayBufferView(e))if(void 0!==i&&e instanceof i)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var n=0;n<t.length;++n)this.putByte(t[n])}}else(e instanceof c||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==t&&t.nextTick&&!t.browser)return a.nextTick=t.nextTick,void(a.setImmediate="function"==typeof r?r:a.nextTick);if("function"==typeof r)return a.setImmediate=function(){return r.apply(void 0,arguments)},void(a.nextTick=function(e){return r(e)});if(a.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",n=[];a.setImmediate=function(t){n.push(t),1===n.length&&window.postMessage(e,"*")},window.addEventListener("message",function(t){if(t.source===window&&t.data===e){t.stopPropagation();var r=n.slice();n.length=0,r.forEach(function(e){e()})}},!0)}if("undefined"!=typeof MutationObserver){var i=Date.now(),o=!0,s=document.createElement("div");n=[];new MutationObserver(function(){var e=n.slice();n.length=0,e.forEach(function(e){e()})}).observe(s,{attributes:!0});var u=a.setImmediate;a.setImmediate=function(e){Date.now()-i>15?(i=Date.now(),u(e)):(n.push(e),1===n.length&&s.setAttribute("a",o=!o))}}a.nextTick=a.setImmediate}(),a.isNodejs=void 0!==t&&t.versions&&t.versions.node,a.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},a.isArrayBufferView=function(e){return e&&a.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},a.ByteBuffer=c,a.ByteStringBuffer=c;a.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},a.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var n=this.data;t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return this.data=n,this._optimizeConstructedString(t),this},a.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},a.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(a.encodeUtf8(e))},a.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},a.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},a.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},a.ByteStringBuffer.prototype.putInt=function(e,t){u(t);var n="";do{t-=8,n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)},a.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},a.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},a.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},a.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},a.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},a.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},a.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},a.ByteStringBuffer.prototype.getInt=function(e){u(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},a.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},a.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},a.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},a.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},a.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteStringBuffer.prototype.copy=function(){var e=a.createBuffer(this.data);return e.read=this.read,e},a.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},a.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0"),e+=n.toString(16)}return e},a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())},a.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var n=a.isArrayBuffer(e),r=a.isArrayBufferView(e);if(n||r)return this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},a.DataBuffer.prototype.length=function(){return this.write-this.read},a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},a.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var n=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),r=new Uint8Array(this.length()+t);return r.set(n),this.data=new DataView(r.buffer),this},a.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},a.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var n=0;n<t;++n)this.data.setUint8(e);return this},a.DataBuffer.prototype.putBytes=function(e,t){if(a.isArrayBufferView(e)){var n=(r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-r.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(r),this.write+=n,this}if(a.isArrayBuffer(e)){var r=new Uint8Array(e);return this.accommodate(r.byteLength),new Uint8Array(this.data.buffer).set(r,this.write),this.write+=r.byteLength,this}if(e instanceof a.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&a.isArrayBufferView(e.data)){r=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(r.byteLength),new Uint8Array(e.data.byteLength,this.write).set(r),this.write+=r.byteLength,this}if(e instanceof a.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=a.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=a.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},a.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},a.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},a.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},a.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},a.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},a.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},a.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},a.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},a.DataBuffer.prototype.putInt=function(e,t){u(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},a.DataBuffer.prototype.putSignedInt=function(e,t){return u(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},a.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},a.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},a.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},a.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},a.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},a.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},a.DataBuffer.prototype.getInt=function(e){u(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},a.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},a.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},a.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},a.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},a.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)},a.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},a.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},a.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},a.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var n=this.data.getUint8(t);n<16&&(e+="0"),e+=n.toString(16)}return e},a.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return a.binary.raw.encode(t);if("hex"===e)return a.binary.hex.encode(t);if("base64"===e)return a.binary.base64.encode(t);if("utf8"===e)return a.text.utf8.decode(t);if("utf16"===e)return a.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},a.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=a.encodeUtf8(e)),new a.ByteBuffer(e)},a.fillString=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return n},a.xorBytes=function(e,t,n){for(var r="",i="",o="",s=0,a=0;n>0;--n,++s)i=e.charCodeAt(s)^t.charCodeAt(s),a>=10&&(r+=o,o="",a=0),o+=String.fromCharCode(i),++a;return r+=o},a.hexToBytes=function(e){var t="",n=0;for(!0&e.length&&(n=1,t+=String.fromCharCode(parseInt(e[0],16)));n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},a.bytesToHex=function(e){return a.createBuffer(e).toHex()},a.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],f="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";a.encode64=function(e,t){for(var n,r,i,o="",s="",a=0;a<e.length;)n=e.charCodeAt(a++),r=e.charCodeAt(a++),i=e.charCodeAt(a++),o+=l.charAt(n>>2),o+=l.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=l.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":l.charAt(63&i)),t&&o.length>t&&(s+=o.substr(0,t)+"\r\n",o=o.substr(t));return s+=o},a.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,n,r,i,o="",s=0;s<e.length;)t=h[e.charCodeAt(s++)-43],n=h[e.charCodeAt(s++)-43],r=h[e.charCodeAt(s++)-43],i=h[e.charCodeAt(s++)-43],o+=String.fromCharCode(t<<2|n>>4),64!==r&&(o+=String.fromCharCode((15&n)<<4|r>>2),64!==i&&(o+=String.fromCharCode((3&r)<<6|i)));return o},a.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},a.decodeUtf8=function(e){return decodeURIComponent(escape(e))},a.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:s.encode,decode:s.decode}},a.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},a.binary.raw.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},a.binary.hex.encode=a.bytesToHex,a.binary.hex.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=n=n||0;for(1&e.length&&(i=1,r[o++]=parseInt(e[0],16));i<e.length;i+=2)r[o++]=parseInt(e.substr(i,2),16);return t?o-n:r},a.binary.base64.encode=function(e,t){for(var n,r,i,o="",s="",a=0;a<e.byteLength;)n=e[a++],r=e[a++],i=e[a++],o+=l.charAt(n>>2),o+=l.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=l.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":l.charAt(63&i)),t&&o.length>t&&(s+=o.substr(0,t)+"\r\n",o=o.substr(t));return s+=o},a.binary.base64.decode=function(e,t,n){var r,i,o,s,a=t;a||(a=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,c=n=n||0;u<e.length;)r=h[e.charCodeAt(u++)-43],i=h[e.charCodeAt(u++)-43],o=h[e.charCodeAt(u++)-43],s=h[e.charCodeAt(u++)-43],a[c++]=r<<2|i>>4,64!==o&&(a[c++]=(15&i)<<4|o>>2,64!==s&&(a[c++]=(3&o)<<6|s));return t?c-n:a.subarray(0,c)},a.binary.base58.encode=function(e,t){return a.binary.baseN.encode(e,f,t)},a.binary.base58.decode=function(e,t){return a.binary.baseN.decode(e,f,t)},a.text={utf8:{},utf16:{}},a.text.utf8.encode=function(e,t,n){e=a.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},a.text.utf8.decode=function(e){return a.decodeUtf8(String.fromCharCode.apply(null,e))},a.text.utf16.encode=function(e,t,n){var r=t;r||(r=new Uint8Array(2*e.length));for(var i=new Uint16Array(r.buffer),o=n=n||0,s=n,a=0;a<e.length;++a)i[s++]=e.charCodeAt(a),o+=2;return t?o-n:r},a.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},a.deflate=function(e,t,n){if(t=a.decode64(e.deflate(a.encode64(t)).rval),n){var r=2;32&t.charCodeAt(1)&&(r=6),t=t.substring(r,t.length-4)}return t},a.inflate=function(e,t,n){var r=e.inflate(a.encode64(t)).rval;return null===r?null:a.decode64(r)};var d=function(e,t,n){if(!e)throw new Error("WebStorage not available.");var r;if(null===n?r=e.removeItem(t):(n=a.encode64(JSON.stringify(n)),r=e.setItem(t,n)),void 0!==r&&!0!==r.rval){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}},p=function(e,t){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(t);if(e.init)if(null===n.rval){if(n.error){var r=new Error(n.error.message);throw r.id=n.error.id,r.name=n.error.name,r}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(a.decode64(n))),n},g=function(e,t,n,r){var i=p(e,t);null===i&&(i={}),i[n]=r,d(e,t,i)},y=function(e,t,n){var r=p(e,t);return null!==r&&(r=n in r?r[n]:null),r},v=function(e,t,n){var r=p(e,t);if(null!==r&&n in r){delete r[n];var i=!0;for(var o in r){i=!1;break}i&&(r=null),d(e,t,r)}},m=function(e,t){d(e,t,null)},b=function(e,t,n){var r,i=null;void 0===n&&(n=["web","flash"]);var o=!1,s=null;for(var a in n){r=n[a];try{if("flash"===r||"both"===r){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===r}"web"!==r&&"both"!==r||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(e){s=e}if(o)break}if(!o)throw s;return i};a.setItem=function(e,t,n,r,i){b(g,arguments,i)},a.getItem=function(e,t,n,r){return b(y,arguments,r)},a.removeItem=function(e,t,n,r){b(v,arguments,r)},a.clearItems=function(e,t,n){b(m,arguments,n)},a.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var n=t.exec(e),r=null===n?null:{full:e,scheme:n[1],host:n[2],port:n[3],path:n[4]};return r&&(r.fullHost=r.host,r.port?80!==r.port&&"http"===r.scheme?r.fullHost+=":"+r.port:443!==r.port&&"https"===r.scheme&&(r.fullHost+=":"+r.port):"http"===r.scheme?r.port=80:"https"===r.scheme&&(r.port=443),r.full=r.scheme+"://"+r.fullHost),r};var _=null;a.getQueryVariables=function(e){var t,n=function(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i,o,s=n[r].indexOf("=");s>0?(i=n[r].substring(0,s),o=n[r].substring(s+1)):(i=n[r],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===_&&(_="undefined"!=typeof window&&window.location&&window.location.search?n(window.location.search.substring(1)):{}),t=_):t=n(e),t},a.parseFragment=function(e){var t=e,n="",r=e.indexOf("?");r>0&&(t=e.substring(0,r),n=e.substring(r+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:n,path:i,query:""===n?{}:a.getQueryVariables(n)}},a.makeRequest=function(e){var t=a.parseFragment(e),n={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,n){var r;return void 0===e?r=t.query:(r=t.query[e])&&void 0!==n&&(r=r[n]),r},getQueryLast:function(e,t){var r=n.getQuery(e);return r?r[r.length-1]:t}};return n},a.makeLink=function(e,t,n){e=jQuery.isArray(e)?e.join("/"):e;var r=jQuery.param(t||{});return n=n||"",e+(r.length>0?"?"+r:"")+(n.length>0?"#"+n:"")},a.setPath=function(e,t,n){if("object"==typeof e&&null!==e)for(var r=0,i=t.length;r<i;){var o=t[r++];if(r==i)e[o]=n;else{var s=o in e;(!s||s&&"object"!=typeof e[o]||s&&null===e[o])&&(e[o]={}),e=e[o]}}},a.getPath=function(e,t,n){for(var r=0,i=t.length,o=!0;o&&r<i&&"object"==typeof e&&null!==e;){var s=t[r++];(o=s in e)&&(e=e[s])}return o?e:n},a.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var n=0,r=t.length;n<r;){var i=t[n++];if(n==r)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},a.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},a.format=function(e){for(var t,n,r=/%./g,i=0,o=[],s=0;t=r.exec(e);){(n=e.substring(s,r.lastIndex-2)).length>0&&o.push(n),s=r.lastIndex;var a=t[0][1];switch(a){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+a+"?>")}}return o.push(e.substring(s)),o.join("")},a.formatNumber=function(e,t,n,r){var i=e,o=isNaN(t=Math.abs(t))?2:t,s=void 0===n?",":n,a=void 0===r?".":r,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+a:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?s+Math.abs(i-c).toFixed(o).slice(2):"")},a.formatSize=function(e){return e=e>=1073741824?a.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?a.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?a.formatNumber(e/1024,0)+" KiB":a.formatNumber(e,0)+" bytes"},a.bytesFromIP=function(e){return-1!==e.indexOf(".")?a.bytesFromIPv4(e):-1!==e.indexOf(":")?a.bytesFromIPv6(e):null},a.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=a.createBuffer(),n=0;n<e.length;++n){var r=parseInt(e[n],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()},a.bytesFromIPv6=function(e){for(var t=0,n=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t),r=a.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=a.hexToBytes(e[i]);o.length<2&&r.putByte(0),r.putBytes(o)}else r.fillWithByte(0,n),n=0;return r.getBytes()},a.bytesToIP=function(e){return 4===e.length?a.bytesToIPv4(e):16===e.length?a.bytesToIPv6(e):null},a.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t.join(".")},a.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],n=[],r=0,i=0;i<e.length;i+=2){for(var o=a.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=n[n.length-1],u=t.length;s&&u===s.end+1?(s.end=u,s.end-s.start>n[r].end-n[r].start&&(r=n.length-1)):n.push({start:u,end:u})}t.push(o)}if(n.length>0){var c=n[r];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},a.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in a&&!e.update)return t(null,a.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return a.cores=navigator.hardwareConcurrency,t(null,a.cores);if("undefined"==typeof Worker)return a.cores=1,t(null,a.cores);if("undefined"==typeof Blob)return a.cores=2,t(null,a.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),n=t+4;Date.now()<n;);self.postMessage({st:t,et:n})})}.toString(),")()"],{type:"application/javascript"}));!function e(r,i,o){if(0===i){var s=Math.floor(r.reduce(function(e,t){return e+t},0)/r.length);return a.cores=Math.max(1,s),URL.revokeObjectURL(n),t(null,a.cores)}!function(e,t){for(var r=[],i=[],o=0;o<e;++o){var s=new Worker(n);s.addEventListener("message",function(n){if(i.push(n.data),i.length===e){for(var o=0;o<e;++o)r[o].terminate();t(null,i)}}),r.push(s)}for(var o=0;o<e;++o)r[o].postMessage(o)}(o,function(t,n){r.push(function(e,t){for(var n=[],r=0;r<e;++r)for(var i=t[r],o=n[r]=[],s=0;s<e;++s)if(r!==s){var a=t[s];(i.st>a.st&&i.st<a.et||a.st>i.st&&a.st<i.et)&&o.push(s)}return n.reduce(function(e,t){return Math.max(e,t.length)},0)}(o,n)),e(r,i-1,o)})}([],5,16)}}).call(this,n(0),n(5).setImmediate,n(9).Buffer)},function(e,t,n){"use strict";e.exports=class{constructor(e){this.list=e.sort(),this.done=!1,this.left={};for(let t=0;t<e.length;++t)this.left[e[t]]=!0}hasNext(){return!this.done}next(){const e=this.list.slice();let t=null,n=0;const r=this.list.length;for(let e=0;e<r;++e){const i=this.list[e],o=this.left[i];(null===t||i>t)&&(o&&e>0&&i>this.list[e-1]||!o&&e<r-1&&i>this.list[e+1])&&(t=i,n=e)}if(null===t)this.done=!0;else{const e=this.left[t]?n-1:n+1;this.list[n]=this.list[e],this.list[e]=t;for(let e=0;e<r;++e)this.list[e]>t&&(this.left[this.list[e]]=!this.left[this.list[e]])}return e}}},function(e,t,n){"use strict";const r=n(56),i=n(94),o=n(96),s=n(58),a=n(17),u={subject:"s",object:"o",graph:"g"};e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new r("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e){const t=this;t.quads=e;const n={};for(const r of e)t.forEachComponent(r,e=>{if("BlankNode"!==e.termType)return;const i=e.value;i in t.blankNodeInfo?t.blankNodeInfo[i].quads.push(r):(n[i]=!0,t.blankNodeInfo[i]={quads:[r]})});let i=!0;for(;i;){i=!1,t.hashToBlankNodes={};for(let e in n){const n=t.hashFirstDegreeQuads(e);n in t.hashToBlankNodes?t.hashToBlankNodes[n].push(e):t.hashToBlankNodes[n]=[e]}const e=Object.keys(t.hashToBlankNodes).sort();for(let r=0;r<e.length;++r){const o=e[r],s=t.hashToBlankNodes[o];if(s.length>1)continue;const a=s[0];t.canonicalIssuer.getId(a),delete n[a],delete t.hashToBlankNodes[o],i=!0}}const o=Object.keys(t.hashToBlankNodes).sort();for(let e=0;e<o.length;++e){const n=[],i=o[e],s=t.hashToBlankNodes[i];for(let e=0;e<s.length;++e){const i=s[e];if(t.canonicalIssuer.hasId(i))continue;const o=new r("_:b");o.getId(i);const a=t.hashNDegreeQuads(i,o);n.push(a)}n.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0);for(let e=0;e<n.length;++e){const r=n[e];for(let e in r.issuer.existing)t.canonicalIssuer.getId(e)}}const a=[];for(let e=0;e<t.quads.length;++e){const n=t.quads[e];t.forEachComponent(n,e=>{"BlankNode"!==e.termType||e.value.startsWith(t.canonicalIssuer.prefix)||(e.value=t.canonicalIssuer.getId(e.value))}),a.push(s.serializeQuad(n))}return a.sort(),a.join("")}hashFirstDegreeQuads(e){const t=this,n=t.blankNodeInfo[e];if("hash"in n)return n.hash;const r=[],o=n.quads;for(let n=0;n<o.length;++n){const i=o[n],a={predicate:i.predicate};t.forEachComponent(i,(n,r)=>{a[r]=t.modifyFirstDegreeComponent(e,n,r)}),r.push(s.serializeQuad(a))}r.sort();const a=new i(t.hashAlgorithm);for(let e=0;e<r.length;++e)a.update(r[e]);return n.hash=a.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){const o=this;let s;s=o.canonicalIssuer.hasId(e)?o.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):o.hashFirstDegreeQuads(e);const a=new i(o.hashAlgorithm);return a.update(r),"g"!==r&&a.update(o.getRelatedPredicate(t)),a.update(s),a.digest()}hashNDegreeQuads(e,t){const n=this,r=new i(n.hashAlgorithm),s=n.createHashToRelated(e,t),a=Object.keys(s).sort();for(let e=0;e<a.length;++e){const i=a[e];r.update(i);let u,c="";const l=new o(s[i]);for(;l.hasNext();){const e=l.next();let r=t.clone(),i="";const o=[];let s=!1;for(let t=0;t<e.length;++t){const a=e[t];if(n.canonicalIssuer.hasId(a)?i+=n.canonicalIssuer.getId(a):(r.hasId(a)||o.push(a),i+=r.getId(a)),0!==c.length&&i.length>=c.length&&i>c){s=!0;break}}if(!s){for(let e=0;e<o.length;++e){const t=o[e],a=n.hashNDegreeQuads(t,r);if(i+=r.getId(t),i+="<"+a.hash+">",r=a.issuer,0!==c.length&&i.length>=c.length&&i>c){s=!0;break}}s||(0===c.length||i<c)&&(c=i,u=r)}}r.update(c),t=u}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:((t=a.clone(t)).value=t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t){const n=this,r={},i=n.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const s=i[o];for(let i in s){const o=s[i];if("predicate"===i||"BlankNode"!==o.termType||o.value===e)continue;const a=o.value,c=u[i],l=n.hashRelatedBlankNode(a,s,t,c);l in r?r[l].push(a):r[l]=[a]}}return r}forEachComponent(e,t){for(let n in e)"predicate"!==n&&t(e[n],n,e)}}},function(e,t,n){!function(t,r){if("object"==typeof e&&"object"==typeof e.exports)e.exports=r(n(32));else if("object"==typeof navigator){if(!t.Terraformer)throw new Error("Terraformer.WKT requires the core Terraformer library. http://github.com/esri/terraformer");t.Terraformer.WKT=r(t.Terraformer)}}(this,function(e){var t={},n=function(){var e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,point:4,EOF:5,linestring:6,polygon:7,multipoint:8,multilinestring:9,multipolygon:10,coordinate:11,DOUBLE_TOK:12,ptarray:13,COMMA:14,ring_list:15,ring:16,"(":17,")":18,POINT:19,Z:20,ZM:21,M:22,EMPTY:23,point_untagged:24,polygon_list:25,polygon_untagged:26,point_list:27,LINESTRING:28,POLYGON:29,MULTIPOINT:30,MULTILINESTRING:31,MULTIPOLYGON:32,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",12:"DOUBLE_TOK",14:"COMMA",17:"(",18:")",19:"POINT",20:"Z",21:"ZM",22:"M",23:"EMPTY",28:"LINESTRING",29:"POLYGON",30:"MULTIPOINT",31:"MULTILINESTRING",32:"MULTIPOLYGON"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[11,2],[11,3],[11,4],[13,3],[13,1],[15,3],[15,1],[16,3],[4,4],[4,5],[4,5],[4,5],[4,2],[24,1],[24,3],[25,3],[25,1],[26,3],[27,3],[27,1],[6,4],[6,5],[6,5],[6,5],[6,2],[7,4],[7,5],[7,5],[7,5],[7,2],[8,4],[8,5],[8,5],[8,5],[8,2],[9,4],[9,5],[9,5],[9,5],[9,2],[10,4],[10,5],[10,5],[10,5],[10,2]],performAction:function(e,t,n,i,u,c,l){var h=c.length-1;switch(u){case 1:case 2:case 3:case 4:case 5:case 6:return c[h-1];case 7:this.$=new r([Number(c[h-1]),Number(c[h])]);break;case 8:this.$=new r([Number(c[h-2]),Number(c[h-1]),Number(c[h])]);break;case 9:this.$=new r([Number(c[h-3]),Number(c[h-2]),Number(c[h-1]),Number(c[h])]);break;case 10:this.$=c[h-2].addPoint(c[h]);break;case 11:this.$=c[h];break;case 12:this.$=c[h-2].addRing(c[h]);break;case 13:this.$=new s(c[h]);break;case 14:this.$=new o(c[h-1]);break;case 15:this.$={type:"Point",coordinates:c[h-1].data[0]};break;case 16:this.$={type:"Point",coordinates:c[h-1].data[0],properties:{z:!0}};break;case 17:this.$={type:"Point",coordinates:c[h-1].data[0],properties:{z:!0,m:!0}};break;case 18:this.$={type:"Point",coordinates:c[h-1].data[0],properties:{m:!0}};break;case 19:this.$={type:"Point",coordinates:[]};break;case 20:this.$=c[h];break;case 21:this.$=c[h-1];break;case 22:this.$=c[h-2].addPolygon(c[h]);break;case 23:this.$=new a(c[h]);break;case 24:this.$=c[h-1];break;case 25:this.$=c[h-2].addPoint(c[h]);break;case 26:this.$=c[h];break;case 27:this.$={type:"LineString",coordinates:c[h-1].data};break;case 28:this.$={type:"LineString",coordinates:c[h-1].data,properties:{z:!0}};break;case 29:this.$={type:"LineString",coordinates:c[h-1].data,properties:{m:!0}};break;case 30:this.$={type:"LineString",coordinates:c[h-1].data,properties:{z:!0,m:!0}};break;case 31:this.$={type:"LineString",coordinates:[]};break;case 32:this.$={type:"Polygon",coordinates:c[h-1].toJSON()};break;case 33:this.$={type:"Polygon",coordinates:c[h-1].toJSON(),properties:{z:!0}};break;case 34:this.$={type:"Polygon",coordinates:c[h-1].toJSON(),properties:{m:!0}};break;case 35:this.$={type:"Polygon",coordinates:c[h-1].toJSON(),properties:{z:!0,m:!0}};break;case 36:this.$={type:"Polygon",coordinates:[]};break;case 37:this.$={type:"MultiPoint",coordinates:c[h-1].data};break;case 38:this.$={type:"MultiPoint",coordinates:c[h-1].data,properties:{z:!0}};break;case 39:this.$={type:"MultiPoint",coordinates:c[h-1].data,properties:{m:!0}};break;case 40:this.$={type:"MultiPoint",coordinates:c[h-1].data,properties:{z:!0,m:!0}};break;case 41:this.$={type:"MultiPoint",coordinates:[]};break;case 42:this.$={type:"MultiLineString",coordinates:c[h-1].toJSON()};break;case 43:this.$={type:"MultiLineString",coordinates:c[h-1].toJSON(),properties:{z:!0}};break;case 44:this.$={type:"MultiLineString",coordinates:c[h-1].toJSON(),properties:{m:!0}};break;case 45:this.$={type:"MultiLineString",coordinates:c[h-1].toJSON(),properties:{z:!0,m:!0}};break;case 46:this.$={type:"MultiLineString",coordinates:[]};break;case 47:this.$={type:"MultiPolygon",coordinates:c[h-1].toJSON()};break;case 48:this.$={type:"MultiPolygon",coordinates:c[h-1].toJSON(),properties:{z:!0}};break;case 49:this.$={type:"MultiPolygon",coordinates:c[h-1].toJSON(),properties:{m:!0}};break;case 50:this.$={type:"MultiPolygon",coordinates:c[h-1].toJSON(),properties:{z:!0,m:!0}};break;case 51:this.$={type:"MultiPolygon",coordinates:[]}}},table:[{3:1,4:2,6:3,7:4,8:5,9:6,10:7,19:[1,8],28:[1,9],29:[1,10],30:[1,11],31:[1,12],32:[1,13]},{1:[3]},{5:[1,14]},{5:[1,15]},{5:[1,16]},{5:[1,17]},{5:[1,18]},{5:[1,19]},{17:[1,20],20:[1,21],21:[1,22],22:[1,23],23:[1,24]},{17:[1,25],20:[1,26],21:[1,28],22:[1,27],23:[1,29]},{17:[1,30],20:[1,31],21:[1,33],22:[1,32],23:[1,34]},{17:[1,35],20:[1,36],21:[1,38],22:[1,37],23:[1,39]},{17:[1,40],20:[1,41],21:[1,43],22:[1,42],23:[1,44]},{17:[1,45],20:[1,46],21:[1,48],22:[1,47],23:[1,49]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{11:51,12:[1,52],13:50},{17:[1,53]},{17:[1,54]},{17:[1,55]},{5:[2,19]},{11:58,12:[1,52],17:[1,59],24:57,27:56},{17:[1,60]},{17:[1,61]},{17:[1,62]},{5:[2,31]},{15:63,16:64,17:[1,65]},{17:[1,66]},{17:[1,67]},{17:[1,68]},{5:[2,36]},{11:58,12:[1,52],17:[1,59],24:57,27:69},{17:[1,70]},{17:[1,71]},{17:[1,72]},{5:[2,41]},{15:73,16:64,17:[1,65]},{17:[1,74]},{17:[1,75]},{17:[1,76]},{5:[2,46]},{17:[1,79],25:77,26:78},{17:[1,80]},{17:[1,81]},{17:[1,82]},{5:[2,51]},{14:[1,84],18:[1,83]},{14:[2,11],18:[2,11]},{12:[1,85]},{11:51,12:[1,52],13:86},{11:51,12:[1,52],13:87},{11:51,12:[1,52],13:88},{14:[1,90],18:[1,89]},{14:[2,26],18:[2,26]},{14:[2,20],18:[2,20]},{11:91,12:[1,52]},{11:58,12:[1,52],17:[1,59],24:57,27:92},{11:58,12:[1,52],17:[1,59],24:57,27:93},{11:58,12:[1,52],17:[1,59],24:57,27:94},{14:[1,96],18:[1,95]},{14:[2,13],18:[2,13]},{11:51,12:[1,52],13:97},{15:98,16:64,17:[1,65]},{15:99,16:64,17:[1,65]},{15:100,16:64,17:[1,65]},{14:[1,90],18:[1,101]},{11:58,12:[1,52],17:[1,59],24:57,27:102},{11:58,12:[1,52],17:[1,59],24:57,27:103},{11:58,12:[1,52],17:[1,59],24:57,27:104},{14:[1,96],18:[1,105]},{15:106,16:64,17:[1,65]},{15:107,16:64,17:[1,65]},{15:108,16:64,17:[1,65]},{14:[1,110],18:[1,109]},{14:[2,23],18:[2,23]},{15:111,16:64,17:[1,65]},{17:[1,79],25:112,26:78},{17:[1,79],25:113,26:78},{17:[1,79],25:114,26:78},{5:[2,15]},{11:115,12:[1,52]},{12:[1,116],14:[2,7],18:[2,7]},{14:[1,84],18:[1,117]},{14:[1,84],18:[1,118]},{14:[1,84],18:[1,119]},{5:[2,27]},{11:58,12:[1,52],17:[1,59],24:120},{18:[1,121]},{14:[1,90],18:[1,122]},{14:[1,90],18:[1,123]},{14:[1,90],18:[1,124]},{5:[2,32]},{16:125,17:[1,65]},{14:[1,84],18:[1,126]},{14:[1,96],18:[1,127]},{14:[1,96],18:[1,128]},{14:[1,96],18:[1,129]},{5:[2,37]},{14:[1,90],18:[1,130]},{14:[1,90],18:[1,131]},{14:[1,90],18:[1,132]},{5:[2,42]},{14:[1,96],18:[1,133]},{14:[1,96],18:[1,134]},{14:[1,96],18:[1,135]},{5:[2,47]},{17:[1,79],26:136},{14:[1,96],18:[1,137]},{14:[1,110],18:[1,138]},{14:[1,110],18:[1,139]},{14:[1,110],18:[1,140]},{14:[2,10],18:[2,10]},{12:[1,141],14:[2,8],18:[2,8]},{5:[2,16]},{5:[2,17]},{5:[2,18]},{14:[2,25],18:[2,25]},{14:[2,21],18:[2,21]},{5:[2,28]},{5:[2,29]},{5:[2,30]},{14:[2,12],18:[2,12]},{14:[2,14],18:[2,14]},{5:[2,33]},{5:[2,34]},{5:[2,35]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,43]},{5:[2,44]},{5:[2,45]},{14:[2,22],18:[2,22]},{14:[2,24],18:[2,24]},{5:[2,48]},{5:[2,49]},{5:[2,50]},{14:[2,9],18:[2,9]}],defaultActions:{14:[2,1],15:[2,2],16:[2,3],17:[2,4],18:[2,5],19:[2,6],24:[2,19],29:[2,31],34:[2,36],39:[2,41],44:[2,46],49:[2,51],83:[2,15],89:[2,27],95:[2,32],101:[2,37],105:[2,42],109:[2,47],117:[2,16],118:[2,17],119:[2,18],122:[2,28],123:[2,29],124:[2,30],127:[2,33],128:[2,34],129:[2,35],130:[2,38],131:[2,39],132:[2,40],133:[2,43],134:[2,44],135:[2,45],138:[2,48],139:[2,49],140:[2,50]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,u=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;i.push(l);var h=this.lexer.options&&this.lexer.options.ranges;function f(){var e;return"number"!=typeof(e=t.lexer.lex()||1)&&(e=t.symbols_[e]||e),e}"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,p,g,y,v,m,b,_,w,x={};;){if(g=n[n.length-1],this.defaultActions[g]?y=this.defaultActions[g]:(null!==d&&void 0!==d||(d=f()),y=o[g]&&o[g][d]),void 0===y||!y.length||!y[0]){var I="";if(!c){for(m in w=[],o[g])this.terminals_[m]&&m>2&&w.push("'"+this.terminals_[m]+"'");I=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(I,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:l,expected:w})}}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+d);switch(y[0]){case 1:n.push(d),r.push(this.lexer.yytext),i.push(this.lexer.yylloc),n.push(y[1]),d=null,p?(d=p,p=null):(u=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,l=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[y[1]][1],x.$=r[r.length-b],x._$={first_line:i[i.length-(b||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(b||1)].first_column,last_column:i[i.length-1].last_column},h&&(x._$.range=[i[i.length-(b||1)].range[0],i[i.length-1].range[1]]),void 0!==(v=this.performAction.call(x,s,u,a,this.yy,y[1],r,i)))return v;b&&(n=n.slice(0,-1*b*2),r=r.slice(0,-1*b),i=i.slice(0,-1*b)),n.push(this.productions_[y[1]][0]),r.push(x.$),i.push(x._$),_=o[n[n.length-2]][n[n.length-1]],n.push(_);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,r,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||t&&!(n[0].length>t[0].length)||(t=n,r=s,this.options.flex));s++);return t?((i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return 17;case 2:return 18;case 3:return 12;case 4:return 19;case 5:return 28;case 6:return 29;case 7:return 30;case 8:return 31;case 9:return 32;case 10:return 14;case 11:return 23;case 12:return 22;case 13:return 20;case 14:return 21;case 15:return 5;case 16:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:-?[0-9]+(\.[0-9]+)?([eE][\-\+]?[0-9]+)?)/,/^(?:POINT\b)/,/^(?:LINESTRING\b)/,/^(?:POLYGON\b)/,/^(?:MULTIPOINT\b)/,/^(?:MULTILINESTRING\b)/,/^(?:MULTIPOLYGON\b)/,/^(?:,)/,/^(?:EMPTY\b)/,/^(?:M\b)/,/^(?:Z\b)/,/^(?:ZM\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],inclusive:!0}}};return e}();function n(){this.yy={}}return e.lexer=t,n.prototype=e,e.Parser=n,new n}();function r(e){this.data=[e],this.type="PointArray"}function o(e){this.data=e,this.type="Ring"}function s(e){this.data=[e],this.type="RingList"}function a(e){this.data=[e],this.type="PolygonList"}function u(e){for(var t=[],n="",r=0;r<e.length;r++)t.push(e[r].join(" "));return n+="("+t.join(", ")+")"}return r.prototype.addPoint=function(e){return"PointArray"===e.type?this.data=this.data.concat(e.data):this.data.push(e),this},r.prototype.toJSON=function(){return this.data},o.prototype.toJSON=function(){for(var e=[],t=0;t<this.data.data.length;t++)e.push(this.data.data[t]);return e},s.prototype.addRing=function(e){return this.data.push(e),this},s.prototype.toJSON=function(){for(var e=[],t=0;t<this.data.length;t++)e.push(this.data[t].toJSON());return e.length,e},a.prototype.addPolygon=function(e){return this.data.push(e),this},a.prototype.toJSON=function(){for(var e=[],t=0;t<this.data.length;t++)e=e.concat([this.data[t].toJSON()]);return e},t.parser=n,t.Parser=n.Parser,t.parse=function(t){var r;try{r=n.parse(t)}catch(e){throw Error("Unable to parse: "+e)}return e.Primitive(r)},t.convert=function e(t){switch(t.type){case"Point":return function(e){var t="POINT ";return void 0===e.coordinates||0===e.coordinates.length?t+="EMPTY":(3===e.coordinates.length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates.length&&(t+="ZM "),t+="("+e.coordinates.join(" ")+")")}(t);case"LineString":return function(e){var t="LINESTRING ";return void 0===e.coordinates||0===e.coordinates.length||0===e.coordinates[0].length?t+="EMPTY":(3===e.coordinates[0].length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates[0].length&&(t+="ZM "),t+=u(e.coordinates))}(t);case"Polygon":return function(e){var t="POLYGON ";if(void 0===e.coordinates||0===e.coordinates.length||0===e.coordinates[0].length)return t+="EMPTY";3===e.coordinates[0][0].length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates[0][0].length&&(t+="ZM "),t+="(";for(var n=[],r=0;r<e.coordinates.length;r++)n.push(u(e.coordinates[r]));return t+=n.join(", "),t+=")"}(t);case"MultiPoint":return function(e){var t="MULTIPOINT ";return void 0===e.coordinates||0===e.coordinates.length||0===e.coordinates[0].length?t+="EMPTY":(3===e.coordinates[0].length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates[0].length&&(t+="ZM "),t+=u(e.coordinates))}(t);case"MultiLineString":return function(e){var t="MULTILINESTRING ";if(void 0===e.coordinates||0===e.coordinates.length||0===e.coordinates[0].length)return t+="EMPTY";3===e.coordinates[0][0].length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates[0][0].length&&(t+="ZM "),t+="(";for(var n=[],r=0;r<e.coordinates.length;r++)n.push(u(e.coordinates[r]));return t+=n.join(", "),t+=")"}(t);case"MultiPolygon":return function(e){var t="MULTIPOLYGON ";if(void 0===e.coordinates||0===e.coordinates.length||0===e.coordinates[0].length)return t+="EMPTY";3===e.coordinates[0][0][0].length?e.properties&&!0===e.properties.m?t+="M ":t+="Z ":4===e.coordinates[0][0][0].length&&(t+="ZM "),t+="(";for(var n=[],r=0;r<e.coordinates.length;r++){for(var i="(",o=[],s=0;s<e.coordinates[r].length;s++)o.push(u(e.coordinates[r][s]));i+=o.join(", "),i+=")",n.push(i)}return t+=n.join(", "),t+=")"}(t);case"GeometryCollection":var n=[];for(i=0;i<t.geometries.length;i++)n.push(e(t.geometries[i]));return"GEOMETRYCOLLECTION("+n.join(", ")+")";default:throw Error("Unknown Type: "+t.type)}},t})},function(e,t,n){"use strict";n.r(t);var r=n(32),i=n(98);const o=n(100),s=n(188);var a;window.onload=function(e){!async function(){await h.addCollection("https://amoryhoste.com/bikes/stations.jsonld"),await h.addCollection("https://dexagod.github.io/collections/streetnames.jsonld"),a=L.map("map",{zoomControl:!1}).setView([50.95,6.68],8),L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoicnViZW5kZWRlY2tlciIsImEiOiJjamxpMGt4YWYwN2JpM3BsbG5sNWtoMnowIn0.iSu3huC-hUJimNgsIbEhAA",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox.streets"}).addTo(a),l=new L.FeatureGroup,a.addLayer(l),c=new L.FeatureGroup,a.addLayer(c),u=new L.MarkerClusterGroup({spiderfyOnMaxZoom:!1,chunkedLoading:!0,disableClusteringAtZoom:12}),a.addLayer(u),L.control.zoom({position:"topright"}).addTo(a);var e=new L.Control.Draw({position:"topright",draw:{circle:!1,polyline:!1,marker:!1,circlemarker:!1,polygon:!1}});e.setStyle,a.addControl(e),L.Control.RemoveAll=L.Control.extend({options:{position:"topright"},onAdd:function(e){var t=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar");L.DomEvent.addListener(t,"click",L.DomEvent.stopPropagation).addListener(t,"click",L.DomEvent.preventDefault).addListener(t,"click",function(){l.clearLayers(),c.clearLayers(),u.clearLayers()});var n=L.DomUtil.create("a","leaflet-draw-edit-remove",t);return n.title="Remove All Polygons",n.href="#",t}});var t=new L.Control.RemoveAll;a.addControl(t),a.on("draw:created",async function(e){g(),p(),l.clearLayers();e.layerType;var t=e.layer,n=new Wkt.Wkt;t.setStyle({fillOpacity:.1,opacity:.2}),l.addLayer(t),n.fromObject(t);var r=n.write();console.log(r),b(r)}),a.on("draw:edited",function(e){for(g(),p();e.hasOwnProperty("layers")||e.hasOwnProperty("_layers");)e=e.hasOwnProperty("layers")?e.layers:e._layers;var t=e[Object.keys(e)[0]],n=new Wkt.Wkt;n.fromObject(t);var r=n.write();console.log(r),b(r)}),v("Test1",{attr1:"val1",attr2:"val2TESTLANGESTRINgnizenfzoanefrdoiaznoz"}),v("Test2",{attr1:"val1",attr2:"val2TESTLANGESTRINgnizenfzoanefrdoiaznoz"}),v("Test3",{attr1:"val1",attr2:"val2TESTLANGESTRINgnizenfzoanefrdoiaznoz"}),function(e){var t=-1,n="";function r(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),t>=e.length&&(t=0),t<0&&(t=e.length-1),e[t].classList.add("autocomplete-active")}e.addEventListener("input",async function(e){let t=e.target.value;if(console.log("INPUT"),console.log(e.inputType),console.log("old",n),console.log("new",t),t.startsWith(n)){console.log("same word");let e=t.slice(n.length);m=await _(e,m)}else console.log("other word"),m=await _(t);n=t}),e.addEventListener("keydown",function(e){var n=document.getElementById("autocomplete-items");n&&(n=n.getElementsByTagName("div")),40==e.keyCode?(console.log("DOWN"),t++,r(n)):38==e.keyCode?(console.log("UP"),t--,r(n)):13==e.keyCode&&(console.log("ENTER"),e.preventDefault(),t>-1&&n&&n[t].click())}),document.addEventListener("click",function(t){!function(t){for(var n=document.getElementsByClassName("autocomplete-items"),r=0;r<n.length;r++)t!=n[r]&&t!=e&&n[r].parentNode.removeChild(n[r])}(t.target)})}(document.getElementById("searchInput"))}()};var u,c,l,h=new o.TreeClient,f={},d=[];function p(){f={},u.clearLayers()}function g(){c.clearLayers()}function y(e,t="#000000"){var n={color:t,weight:1,fillOpacity:.05,opacity:.2};L.geoJSON(function(e){var t=new Wkt.Wkt;return t.read(e),t.toJson()}(e),{style:n}).addTo(c)}function v(e,t){let n=document.getElementById("autocomplete-items"),r=document.createElement("div"),i=document.createElement("h3");for(var o in r.className="sidebarItem",i.className="sidebarItemTitle",i.innerHTML=e,r.appendChild(i),t){let e=document.createElement("p");e.className="sidebarItemP",e.innerHTML=o+": "+t[o],r.appendChild(e)}r.onclick=function(t){console.log("U CLICKED THIS",e)},n.appendChild(r)}var m=null;async function b(e,t=null){let n,a,c;console.log(e);try{n=i.parse(e),a=new r.Primitive(n),c=new o.LocationQuery(e)}catch(t){console.err("Input: "+e+" could not be parsed as geojson wktstring")}return c.on("member",async function(e){let t=await s.fromRDF(e),n="";n=(t=t[0]).hasOwnProperty("http://example.com/terms#name")&&t.hasOwnProperty("http://www.w3.org/2003/01/geo/wgs84_pos#address")?t["http://example.com/terms#name"][0]["@value"]+"\n"+t["http://www.w3.org/2003/01/geo/wgs84_pos#address"][0]["@value"]:t.hasOwnProperty("http://example.com/terms#name")?t["http://example.com/terms#name"][0]["@value"]:t.hasOwnProperty("http://www.w3.org/2003/01/geo/wgs84_pos#address")?t["http://www.w3.org/2003/01/geo/wgs84_pos#address"][0]["@value"]:"Bike";let i=t["http://www.w3.org/2003/01/geo/wgs84_pos#long"][0]["@value"],o=t["http://www.w3.org/2003/01/geo/wgs84_pos#lat"][0]["@value"];var c=new r.Point(i,o);if(a.contains(c)){!function(e,t,n=null){if(e in f){if(-1!=f[e].indexOf(t))return;f[e].push(t)}else f[e]=[t];u.addLayer(L.marker([t,e],n))}(i,o,{riseOnHover:!0,title:n})}}),c.on("leafnode",async function(e){y(e.value,"#e52222")}),c.on("node",async function(e){y(e.value,"#356829")}),console.log("STARTING"),t=h.executeQuery(c),d.push(t),t.then(function(e){for(var t=0;t<e.nodes.length;t++)console.log(e.nodes[t])}),t}async function _(e,t=null){console.log("QUERYING",e);let n=new o.SearchStringQuery(e);return n.on("member",async function(e){console.log("member");let t=await s.fromRDF(e);console.log(t)}),n.on("leafnode",async function(e){console.log("leafnode"),console.log(e)}),n.on("node",async function(e){console.log("node"),console.log(e)}),console.log(t),t=await h.executeQuery(n,t),d.push(t),console.log("returnsession"),console.log(t),t}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(101);t.TreeClient=r.default;var i=n(53);t.Query=i.default;var o=n(91);t.SingleQuery=o.default;var s=n(179);t.LocationQuery=s.default;var a=n(183);t.SearchStringQuery=a.default},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var o=n(102),s=n(33),a=function(){function e(e,t){this.collections={},s.default.getInstance(e,t)}return e.prototype.addCollection=function(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return[4,s.default.getInstance().getCollection(e)];case 1:return t=n.sent(),this.collections[e]=t,[2]}})})},e.prototype.deleteCollection=function(e){delete this.collections[e]},e.prototype.createSession=function(){return r(this,void 0,void 0,function(){var e,t,n,r;return i(this,function(i){switch(i.label){case 0:e=[],t=Object.keys(this.collections),n=0,i.label=1;case 1:return n<t.length?[4,this.collections[t[n]].getViews()]:[3,4];case 2:r=i.sent(),e=e.concat(r),i.label=3;case 3:return n++,[3,1];case 4:return[2,new o.default(e)]}})})},e.prototype.executeQuery=function(e,t){return void 0===t&&(t=null),r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return null!==t?[3,2]:[4,this.createSession()];case 1:t=n.sent(),n.label=2;case 2:return e.set_session(t),[2,e.query()]}})})},e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e){this.nodes=e,void 0!==this.context&&null!==this.context||(this.context=[]);for(var t=0;t<e.length;t++)this.context.push({})}return e.prototype.updateNodeContext=function(e){for(var t=0;t<this.nodes.length;t++)e.updateContext(this.nodes[t],this.context[t])},e.prototype.isEmpty=function(){return 0==this.nodes.length},e.prototype.getLength=function(){return this.nodes.length},e.prototype.getNodes=function(){return this.nodes},e}();t.default=r},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},s=!1,a=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;r=function(t){var n=a.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var s={callback:e,args:t};return o[i]=s,r(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(s)setTimeout(l,0,e);else{var t=o[e];if(t){s=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),s=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(0))},function(e,t,n){
/*! @license ©2013 Ruben Verborgh, 2016 Pieter Colpaert - Data Science Lab / iMinds / Ghent University */
var r=n(62),i=n(63),o=n(123),s=n(4),a=n(36),u=n(19);function c(e,t){u.call(this),this._accept=e||"application/ld+json;q=1.0",this._customHeaders=t||{}}s.inherits(c,u),c.prototype.get=function(e){return this.request(e,"GET")},c.prototype.request=function(e,t){this.emit("request",e);var n=t||"GET",s=this,u=r.defer(),c=a.parse(e),l={Accept:this._accept};if(Object.keys(s._customHeaders).length>0)for(let[e,t]of Object.entries(s._customHeaders))l[e]=t;var h={hostname:c.hostname,port:c.port,path:c.path,headers:l,withCredentials:!1,method:n},f=function(t){var n=t,r=[],i=0;n.on("data",function(e){i+=e.length,r.push(e)}),t.on("error",function(e){p(e)}),n.on("end",function(){s.emit("downloaded",{url:e,totalBytes:i}),p(null,t,r.join(""))})},d={};function p(t,n,r){var i;if(i=d._xhr?d._xhr.responseURL:d._fetchResponse.url,s.emit("response",i),t)return u.reject(new Error(t));if(n.statusCode>=500)return u.reject(new Error("Request failed: "+e));var o=/^[^;]+/.exec(n.headers["content-type"]||"text/html")[0];u.resolve({url:i,type:o,body:r,status:n.statusCode})}return"https:"===c.protocol?d=o.request(h,f):"http:"===c.protocol?d=i.request(h,f):console.error("Only http or https supported. Not "+c.protocol),d.on("error",function(e){u.reject(e)}),d.end(null),u.promise},c.prototype.cancelAll=function(){},e.exports=c},function(e,t,n){(function(t,r,i){var o=n(65),s=n(8),a=n(66),u=n(22),c=n(114),l=a.IncomingMessage,h=a.readyStates;var f=e.exports=function(e){var n,r=this;u.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){r.setHeader(t,e.headers[t])});var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}(n,i),r._fetchTimer=null,r.on("finish",function(){r._onFinish()})};s(f,u.Writable),f.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===d.indexOf(n)&&(this._headers[n]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,s=e._headers,a=null;"GET"!==n.method&&"HEAD"!==n.method&&(a=o.arraybuffer?c(t.concat(e._body)):o.blobConstructor?new r.Blob(e._body.map(function(e){return c(e)}),{type:(s["content-type"]||{}).value||""}):t.concat(e._body).toString());var u=[];if(Object.keys(s).forEach(function(e){var t=s[e].name,n=s[e].value;Array.isArray(n)?n.forEach(function(e){u.push([t,e])}):u.push([t,n])}),"fetch"===e._mode){var l=null;if(o.abortController){var f=new AbortController;l=f.signal,e._fetchAbortController=f,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:u,body:a||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:l}).then(function(t){e._fetchResponse=t,e._connect()},function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var d=e._xhr=new r.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}"responseType"in d&&(d.responseType=e._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(d.timeout=n.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),u.forEach(function(e){d.setRequestHeader(e[0],e[1])}),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{d.send(a)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}}}},f.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},f.prototype._write=function(e,t,n){this._body.push(e),n()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),u.Writable.prototype.end.call(this,e,t,n)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(9).Buffer,n(1),n(0))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=c(e),r=n[0],s=n[1],a=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,s)),u=0,l=s>0?r-4:r,h=0;h<l;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=255&t;2===s&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,a[u++]=255&t);1===s&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,a[u++]=t>>8&255,a[u++]=255&t);return a},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(h(e,s,s+16383>a?a:s+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function h(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(l(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*g}},function(e,t){},function(e,t,n){"use strict";var r=n(35).Buffer,i=n(111);function o(e,t,n){e.copy(t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)o(n.data,t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(1))},function(e,t,n){"use strict";e.exports=o;var r=n(71),i=n(23);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(8),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var r=n(9).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;i<n;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,n){(function(e,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=36,l=1,h=26,f=38,d=700,p=72,g=128,y="-",v=/^xn--/,m=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-l,x=Math.floor,I=String.fromCharCode;function N(e){throw new RangeError(_[e])}function j(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function S(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+j((e=e.replace(b,".")).split("."),t).join(".")}function k(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function T(e){return j(e,function(e){var t="";return e>65535&&(t+=I((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=I(e)}).join("")}function E(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function O(e,t,n){var r=0;for(e=n?x(e/d):e>>1,e+=x(e/t);e>w*h>>1;r+=c)e=x(e/w);return x(r+(w+1)*e/(e+f))}function R(e){var t,n,r,i,o,s,a,f,d,v,m=[],b=e.length,_=0,w=g,I=p;for((n=e.lastIndexOf(y))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&N("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<b;){for(o=_,s=1,a=c;i>=b&&N("invalid-input"),((f=E(e.charCodeAt(i++)))>=c||f>x((u-_)/s))&&N("overflow"),_+=f*s,!(f<(d=a<=I?l:a>=I+h?h:a-I));a+=c)s>x(u/(v=c-d))&&N("overflow"),s*=v;I=O(_-o,t=m.length+1,0==o),x(_/t)>u-w&&N("overflow"),w+=x(_/t),_%=t,m.splice(_++,0,w)}return T(m)}function A(e){var t,n,r,i,o,s,a,f,d,v,m,b,_,w,j,S=[];for(b=(e=k(e)).length,t=g,n=0,o=p,s=0;s<b;++s)(m=e[s])<128&&S.push(I(m));for(r=i=S.length,i&&S.push(y);r<b;){for(a=u,s=0;s<b;++s)(m=e[s])>=t&&m<a&&(a=m);for(a-t>x((u-n)/(_=r+1))&&N("overflow"),n+=(a-t)*_,t=a,s=0;s<b;++s)if((m=e[s])<t&&++n>u&&N("overflow"),m==t){for(f=n,d=c;!(f<(v=d<=o?l:d>=o+h?h:d-o));d+=c)j=f-v,w=c-v,S.push(I(C(v+j%w,0))),f=x(j/w);S.push(I(C(f,0))),o=O(n,_,r==i),n=0,++r}++n,++t}return S.join("")}a={version:"1.4.1",ucs2:{decode:k,encode:T},decode:R,encode:A,toASCII:function(e){return S(e,function(e){return m.test(e)?"xn--"+A(e):e})},toUnicode:function(e){return S(e,function(e){return v.test(e)?R(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(118)(e),n(1))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(121),t.encode=t.stringify=n(122)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,d,p,g=e[l].replace(a,"%20"),y=g.indexOf(n);y>=0?(h=g.substr(0,y),f=g.substr(y+1)):(h=g,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),function(s){var a=encodeURIComponent(r(s))+n;return i(e[s])?o(e[s],function(e){return a+encodeURIComponent(r(e))}).join(t):a+encodeURIComponent(r(e[s]))}).join(t):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){var r=n(63),i=n(36),o=e.exports;for(var s in r)r.hasOwnProperty(s)&&(o[s]=r[s]);function a(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=a(e),r.request.call(this,e,t)},o.get=function(e,t){return e=a(e),r.get.call(this,e,t)}},function(e,t,n){var r={"./N3DataFactory":20,"./N3DataFactory.js":20,"./N3Lexer":44,"./N3Lexer.js":44,"./N3Parser":45,"./N3Parser.js":45,"./N3Store":72,"./N3Store.js":72,"./N3StreamParser":73,"./N3StreamParser.js":73,"./N3StreamWriter":74,"./N3StreamWriter.js":74,"./N3Util":75,"./N3Util.js":75,"./N3Writer":46,"./N3Writer.js":46};function i(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=124},function(e,t,n){e.exports=n(42)},function(e,t,n){e.exports=n(14)},function(e,t,n){e.exports=n(22).Transform},function(e,t,n){e.exports=n(22).PassThrough},function(e,t,n){const r={join:n(76)},i=n(130),o=n(131).DataFactory;e.exports=class{constructor(e){this.factory=e||o,this.ns={RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"},this.nodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},this.bnodes={},this.why=null,this.reify=!1}getAttributeNodeNS(e,t,n){var r=null;if(e.getAttributeNodeNS)r=e.getAttributeNodeNS(t,n);else for(var i,o=e.attributes,s=0;s<o.length;++s)if((i=o[s]).namespaceURI===t&&(i.prefix?i.prefix+":"+n:n)===i.nodeName){r=i;break}return r}parse(e,t,n,r){r?n=this.factory.namedNode(n):(r=n,n=this.factory.defaultGraph()),this.writeTriple=((e,t,n,i)=>{r(this.factory.quad(e,t,n,i))}),this.finalize=(()=>{r(null)});var o,s=e.childNodes;if(this.cleanParser(),e.nodeType===this.nodeType.DOCUMENT){for(var a=0;a<s.length;a++)if(s[a].nodeType===this.nodeType.ELEMENT){o=s[a];break}}else{if(e.nodeType!==this.nodeType.ELEMENT)throw new Error("RDFXMLProcessor: can't find root in "+t+". Halting. ");o=e}this.why=n;var u=new i(this);this.base=t,u.base=t,u.lang=null,this.parseDOM(this.buildFrame(u,o))}parseDOM(e){for(var t,n=function(e){var t="";if(null==e.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(e.nodeName.indexOf(":")>=0?t+=e.nodeName.split(":")[1]:t+=e.nodeName),t}.bind(this),i=!0;e.parent;){var o=e.element,s=o.attributes;if(o.nodeType===this.nodeType.TEXT||o.nodeType===this.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(this.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(o.nodeValue);else if(n(o)!==this.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),(e=this.buildFrame(e,e.element)).parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(n(o)),this.reify&&(t=this.getAttributeNodeNS(o,this.ns.RDF,"ID"))&&(e.rdfid=t.nodeValue,o.removeAttributeNode(t));var a=this.getAttributeNodeNS(o,this.ns.RDF,"parseType"),u=this.getAttributeNodeNS(o,this.ns.RDF,"datatype");if(u&&(e.datatype=u.nodeValue,o.removeAttributeNode(u)),a){var c=a.nodeValue;"Literal"===c?(e.datatype=this.ns.RDF+"XMLLiteral",(e=this.buildFrame(e)).addLiteral(o.childNodes),i=!1):"Resource"===c?((e=this.buildFrame(e,e.element)).parent.element=null,e.addBNode()):"Collection"===c&&((e=this.buildFrame(e,e.element)).parent.element=null,e.addCollection()),o.removeAttributeNode(a)}if(0!==s.length){var l=this.getAttributeNodeNS(o,this.ns.RDF,"resource"),h=this.getAttributeNodeNS(o,this.ns.RDF,"nodeID");e=this.buildFrame(e),l?(e.addNode(l.nodeValue),o.removeAttributeNode(l)):h?(e.addBNode(h.nodeValue),o.removeAttributeNode(h)):e.addBNode();for(var f=s.length-1;f>=0;f--){var d=this.buildFrame(e);d.addArc(n(s[f])),n(s[f])===this.ns.RDF+"type"?this.buildFrame(d).addNode(s[f].nodeValue):this.buildFrame(d).addLiteral(s[f].nodeValue)}}else 0===o.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var p=this.getAttributeNodeNS(o,this.ns.RDF,"about");if(t=this.getAttributeNodeNS(o,this.ns.RDF,"ID"),p&&t)throw new Error("RDFXMLProcessor: "+o.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!p&&t)e.addNode("#"+t.nodeValue),o.removeAttributeNode(t);else if(null==p&&null==t){var g=this.getAttributeNodeNS(o,this.ns.RDF,"nodeID");g?(e.addBNode(g.nodeValue),o.removeAttributeNode(g)):e.addBNode()}else e.addNode(p.nodeValue),o.removeAttributeNode(p);var y=this.getAttributeNodeNS(o,this.ns.RDF,"type");this.ns.RDF+"Description"!==n(o)&&(y={nodeValue:n(o)}),null!=y&&(this.writeTriple(e.node,this.factory.namedNode(this.ns.RDF+"type"),this.factory.namedNode(r.join(y.nodeValue,e.base)),this.why),y.nodeName&&o.removeAttributeNode(y));for(var v=s.length-1;v>=0;v--)this.writeTriple(e.node,this.factory.namedNode(n(s[v])),this.factory.literal(s[v].nodeValue,e.lang),this.why)}for(o=e.element;e.parent;){for(var m=e;null==o;)o=(e=e.parent).element;var b=o.childNodes&&o.childNodes[e.lastChild];if(b&&i){if((b.nodeType===this.nodeType.ELEMENT||b.nodeType===this.nodeType.TEXT||b.nodeType===this.nodeType.CDATA_SECTION)&&(b.nodeType!==this.nodeType.TEXT&&b.nodeType!==this.nodeType.CDATA_SECTION||1===o.childNodes.length)){e.lastChild++,e=this.buildFrame(m,o.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;o=e.element,i=!0}}}this.finalize()}cleanParser(){this.bnodes={},this.why=null}buildFrame(e,t){var n=new i(this,e,t);if(e&&(n.base=e.base,n.lang=e.lang),!t||t.nodeType===this.nodeType.TEXT||t.nodeType===this.nodeType.CDATA_SECTION)return n;var o=t.attributes,s=t.getAttributeNode("xml:base");null!=s&&(n.base=s.nodeValue,t.removeAttribute("xml:base"));var a=t.getAttributeNode("xml:lang");null!=a&&(n.lang=a.nodeValue,t.removeAttribute("xml:lang"));for(var u=o.length-1;u>=0;u--)if("xml"===o[u].nodeName.substr(0,3)){if("xmlns:"===o[u].name.slice(0,6)){var c=o[u].nodeValue;this.base&&(c=r.join(c,this.base))}t.removeAttributeNode(o[u])}return n}}},function(e,t,n){const r={join:n(76)};e.exports=class{constructor(e,t,n){this.ns=e.ns,this.NODE=1,this.ARC=2,this.parent=t,this.parser=e,this.factory=e.factory,this.element=n,this.lastChild=0,this.base=null,this.lang=null,this.node=null,this.nodeType=null,this.listIndex=1,this.rdfid=null,this.datatype=null,this.collection=!1,this.restTriple=null}terminateFrame(){this.collection&&this.parser.writeTriple(this.parser.restTriple.s,this.parser.restTriple.p,this.ns.RDF+"nil",this.parser.restTriple.g)}addSymbol(e,t){t=r.join(t,this.base),this.node=this.factory.namedNode(t),this.nodeType=e}loadTriple(){if(this.parent.parent.collection){this.parser.restTriple&&this.parser.writeTriple(this.parser.restTriple.s,this.parser.restTriple.p,this.parser.restTriple.o,this.parser.restTriple.g),this.parser.writeTriple(this.parent.parent.node,this.ns.RDF+"first",this.node,this.parser.why);var e=this.factory.blankNode();this.parser.restTriple={s:this.parent.parent.node,p:this.ns.RDF+"rest",o:e,g:this.parser.why},this.parent.parent.node=e}else this.parser.writeTriple(this.parent.parent.node,this.parent.node,this.node,this.parser.why);if(null!=this.parent.rdfid){var t=this.factory.namedNode(r.join("#"+this.parent.rdfid,this.base));this.parser.writeTriple(t,this.factory.namedNode(this.ns.RDF+"type"),this.factory.namedNode(this.ns.RDF+"Statement"),this.parser.why),this.parser.writeTriple(t,this.factory.namedNode(this.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.parser.writeTriple(t,this.factory.namedNode(this.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.parser.writeTriple(t,this.factory.namedNode(this.ns.RDF+"object"),this.node,this.parser.why)}}isTripleToLoad(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE}addNode(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()}addCollection(){this.nodeType=this.NODE,this.node=this.factory.blankNode(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()}addCollectionArc(){this.nodeType=this.ARC}addBNode(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.factory.blankNode():this.node=this.factory.blankNode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}addArc(e){e===this.ns.RDF+"li"&&(e=this.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,e)}addLiteral(e){this.parent.datatype?this.node=this.factory.literal(e,"",this.parent.datatype):this.node=this.factory.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},function(e,t,n){e.exports={DataFactory:n(24),Lexer:n(77),Parser:n(78),Writer:n(79),Store:n(132),StreamParser:n(133),StreamWriter:n(134),Util:n(135)}},function(e,t,n){var r=n(24),i=r.internal.toId,o=r.internal.fromId;function s(e,t){if(!(this instanceof s))return new s(e,t);this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._factory=t.factory||r,e&&this.addQuads(e)}function a(e){return"string"==typeof e||e instanceof String}s.prototype={get size(){var e=this._size;if(null!==e)return e;e=0;var t,n,r=this._graphs;for(var i in r)for(var o in t=r[i].subjects)for(var s in n=t[o])e+=Object.keys(n[s]).length;return this._size=e},_addToIndex:function(e,t,n,r){var i=e[t]||(e[t]={}),o=i[n]||(i[n]={}),s=r in o;return s||(o[r]=null),!s},_removeFromIndex:function(e,t,n,r){var i,o=e[t],s=o[n];for(i in delete s[r],s)return;for(i in delete o[n],o)return;delete e[t]},_findInIndex:function(e,t,n,r,i,s,a,u,c,l){var h,f,d,p=!t+!n+!r>1?Object.keys(this._ids):this._entities;for(var g in t&&((h=e,e={})[t]=h[t]),e){var y=p[g];if(f=e[g])for(var v in n&&((h=f,f={})[n]=h[n]),f){var m=p[v];if(d=f[v])for(var b=(r?r in d?[r]:[]:Object.keys(d)),_=0;_<b.length;_++){var w={subject:null,predicate:null,object:null};w[i]=o(y,this._factory),w[s]=o(m,this._factory),w[a]=o(p[b[_]],this._factory);var x=this._factory.quad(w.subject,w.predicate,w.object,o(u,this._factory));if(l)l.push(x);else if(c(x))return!0}}}return l},_loop:function(e,t){for(var n in e)t(n)},_loopByKey0:function(e,t,n){var r,i;if(r=e[t])for(i in r)n(i)},_loopByKey1:function(e,t,n){var r;for(r in e)e[r][t]&&n(r)},_loopBy2Keys:function(e,t,n,r){var i,o,s;if((i=e[t])&&(o=i[n]))for(s in o)r(s)},_countInIndex:function(e,t,n,r){var i,o,s,a=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in n&&((i=o,o={})[n]=i[n]),o)(s=o[c])&&(r?r in s&&a++:a+=Object.keys(s).length);return a},_getGraphs:function(e){if(!a(e))return this._graphs;var t={};return t[e]=this._graphs[e],t},_uniqueEntities:function(e){var t=Object.create(null),n=this._entities;return function(r){r in t||(t[r]=!0,e(o(n[r])))}},addQuad:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=i(e),t=i(t),n=i(n),r=i(r);var o=this._graphs[r];o||(o=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(o));var s=this._ids,a=this._entities;e=s[e]||(s[a[++this._id]=e]=this._id),t=s[t]||(s[a[++this._id]=t]=this._id),n=s[n]||(s[a[++this._id]=n]=this._id);var u=this._addToIndex(o.subjects,e,t,n);return this._addToIndex(o.predicates,t,n,e),this._addToIndex(o.objects,n,e,t),this._size=null,u},addQuads:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])},import:function(e){var t=this;return e.on("data",function(e){t.addQuad(e)}),e},removeQuad:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=i(e),t=i(t),n=i(n),r=i(r);var o,s,a,u=this._ids,c=this._graphs;if(!((e=u[e])&&(t=u[t])&&(n=u[n])&&(o=c[r])&&(s=o.subjects[e])&&(a=s[t])&&n in a))return!1;for(e in this._removeFromIndex(o.subjects,e,t,n),this._removeFromIndex(o.predicates,t,n,e),this._removeFromIndex(o.objects,n,e,t),null!==this._size&&this._size--,o.subjects)return!0;return delete c[r],!0},removeQuads:function(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])},remove:function(e){var t=this;return e.on("data",function(e){t.removeQuad(e)}),e},getQuads:function(e,t,n,r){e=e&&i(e),t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c,l=[],h=this._getGraphs(r),f=this._ids;if(a(e)&&!(s=f[e])||a(t)&&!(u=f[t])||a(n)&&!(c=f[n]))return l;for(var d in h)(o=h[d])&&(s?c?this._findInIndex(o.objects,c,s,u,"object","subject","predicate",d,null,l):this._findInIndex(o.subjects,s,u,null,"subject","predicate","object",d,null,l):u?this._findInIndex(o.predicates,u,c,null,"predicate","object","subject",d,null,l):c?this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d,null,l):this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d,null,l));return l},countQuads:function(e,t,n,r){e=e&&i(e),t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c,l=0,h=this._getGraphs(r),f=this._ids;if(a(e)&&!(s=f[e])||a(t)&&!(u=f[t])||a(n)&&!(c=f[n]))return 0;for(var d in h)(o=h[d])&&(l+=e?n?this._countInIndex(o.objects,c,s,u):this._countInIndex(o.subjects,s,u,c):t?this._countInIndex(o.predicates,u,c,s):this._countInIndex(o.objects,c,s,u));return l},forEach:function(e,t,n,r,i){this.some(function(t){return e(t),!1},t,n,r,i)},every:function(e,t,n,r,i){var o=!1,s=!this.some(function(t){return o=!0,!e(t)},t,n,r,i);return o&&s},some:function(e,t,n,r,o){t=t&&i(t),n=n&&i(n),r=r&&i(r),o=o&&i(o);var s,u,c,l,h=this._getGraphs(o),f=this._ids;if(a(t)&&!(u=f[t])||a(n)&&!(c=f[n])||a(r)&&!(l=f[r]))return!1;for(var d in h)if(s=h[d])if(u){if(l){if(this._findInIndex(s.objects,l,u,c,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(s.subjects,u,c,null,"subject","predicate","object",d,e,null))return!0}else if(c){if(this._findInIndex(s.predicates,c,l,null,"predicate","object","subject",d,e,null))return!0}else if(l){if(this._findInIndex(s.objects,l,null,null,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",d,e,null))return!0;return!1},getSubjects:function(e,t,n){var r=[];return this.forSubjects(function(e){r.push(e)},e,t,n),r},forSubjects:function(e,t,n,r){t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(a(t)&&!(s=c[t])||a(n)&&!(u=c[n])))for(r in l)(o=l[r])&&(s?u?this._loopBy2Keys(o.predicates,s,u,e):this._loopByKey1(o.subjects,s,e):u?this._loopByKey0(o.objects,u,e):this._loop(o.subjects,e))},getPredicates:function(e,t,n){var r=[];return this.forPredicates(function(e){r.push(e)},e,t,n),r},forPredicates:function(e,t,n,r){t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(a(t)&&!(s=c[t])||a(n)&&!(u=c[n])))for(r in l)(o=l[r])&&(s?u?this._loopBy2Keys(o.objects,u,s,e):this._loopByKey0(o.subjects,s,e):u?this._loopByKey1(o.predicates,u,e):this._loop(o.predicates,e))},getObjects:function(e,t,n){var r=[];return this.forObjects(function(e){r.push(e)},e,t,n),r},forObjects:function(e,t,n,r){t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(a(t)&&!(s=c[t])||a(n)&&!(u=c[n])))for(r in l)(o=l[r])&&(s?u?this._loopBy2Keys(o.subjects,s,u,e):this._loopByKey1(o.objects,s,e):u?this._loopByKey0(o.predicates,u,e):this._loop(o.objects,e))},getGraphs:function(e,t,n){var r=[];return this.forGraphs(function(e){r.push(e)},e,t,n),r},forGraphs:function(e,t,n,r){for(var i in this._graphs)this.some(function(t){return e(t.graph),!0},t,n,r,i)},createBlankNode:function(e){var t,n;if(e)for(t=e="_:"+e,n=1;this._ids[t];)t=e+n++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}},e.exports=s},function(e,t,n){var r=n(21).Transform,i=n(4),o=n(78);function s(e){if(!(this instanceof s))return new s(e);r.call(this,{decodeStrings:!0}),this._readableState.objectMode=!0;var t,n,i=this;new o(e).parse({on:function(e,r){switch(e){case"data":t=r;break;case"end":n=r}}},function(e,t){e&&i.emit("error",e)||t&&i.push(t)},function(e,t){i.emit("prefix",e,t)}),this._transform=function(e,n,r){t(e),r()},this._flush=function(e){n(),e()}}i.inherits(s,r),s.prototype.import=function(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),this},e.exports=s},function(e,t,n){var r=n(21).Transform,i=n(4),o=n(79);function s(e){if(!(this instanceof s))return new s(e);r.call(this,{encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,n=this._writer=new o({write:function(e,n,r){t.push(e),r&&r()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,r){n.addQuad(e,r)},this._flush=function(e){n.end(e)}}i.inherits(s,r),s.prototype.import=function(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),e.on("prefix",function(e,n){t._writer.addPrefix(e,n)}),this},e.exports=s},function(e,t,n){var r=n(24),i={isNamedNode:function(e){return!!e&&"NamedNode"===e.termType},isBlankNode:function(e){return!!e&&"BlankNode"===e.termType},isLiteral:function(e){return!!e&&"Literal"===e.termType},isVariable:function(e){return!!e&&"Variable"===e.termType},isDefaultGraph:function(e){return!!e&&"DefaultGraph"===e.termType},inDefaultGraph:function(e){return i.isDefaultGraph(e.graph)},prefix:function(e,t){return i.prefixes({"":e},t)("")},prefixes:function(e,t){var n=Object.create(null);for(var i in e)o(i,e[i]);function o(e,r){if("string"==typeof r){var i=Object.create(null);n[e]=function(e){return i[e]||(i[e]=t.namedNode(r+e))}}else if(!(e in n))throw new Error("Unknown prefix: "+e);return n[e]}return t=t||r,o}};e.exports=i},function(e,t,n){function r(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function a(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function u(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new c,o=n.domBuilder||new i,a=n.errorHandler,u=n.locator,l=n.xmlns||{},h={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),r.errorHandler=function(e,t,n){if(!e){if(t instanceof i)return t;e=t}var r={},o=e instanceof Function;function a(t){var i=e[t];!i&&o&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+s(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}(a,o,u),r.domBuilder=n.domBuilder||o,/\/x?html?$/.test(t)&&(h.nbsp=" ",h.copy="©",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,l,h):r.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,s=i.createElementNS(e,n||t),a=r.length;u(this,s),this.currentElement=s,this.locator&&o(this.locator,s);for(var c=0;c<a;c++){e=r.getURI(c);var l=r.getValue(c),h=(n=r.getQName(c),i.createAttributeNS(e,n));this.locator&&o(r.getLocator(c),h),h.value=h.nodeValue=l,s.setAttributeNode(h)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,n),u(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=a.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&o(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=a.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&o(this.locator,r),u(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&o(this.locator,i),u(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,s(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,s(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,s(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){i.prototype[e]=function(){return null}});var c=n(137).XMLReader,l=t.DOMImplementation=n(80).DOMImplementation;t.XMLSerializer=n(80).XMLSerializer,t.DOMParser=r},function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$"),o=0,s=1,a=2,u=3,c=4,l=5,h=6,f=7;function d(){}function p(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function g(e,t,n,r,i,d){for(var p,g=++t,y=o;;){var v=e.charAt(g);switch(v){case"=":if(y===s)p=e.slice(t,g),y=u;else{if(y!==a)throw new Error("attribute equal must after attrName");y=u}break;case"'":case'"':if(y===u||y===s){if(y===s&&(d.warning('attribute value must after "="'),p=e.slice(t,g)),t=g+1,!((g=e.indexOf(v,t))>0))throw new Error("attribute value no end '"+v+"' match");m=e.slice(t,g).replace(/&#?\w+;/g,i),n.add(p,m,t-1),y=l}else{if(y!=c)throw new Error('attribute value must after "="');m=e.slice(t,g).replace(/&#?\w+;/g,i),n.add(p,m,t),d.warning('attribute "'+p+'" missed start quot('+v+")!!"),t=g+1,y=l}break;case"/":switch(y){case o:n.setTagName(e.slice(t,g));case l:case h:case f:y=f,n.closed=!0;case c:case s:case a:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return d.error("unexpected end of input"),y==o&&n.setTagName(e.slice(t,g)),g;case">":switch(y){case o:n.setTagName(e.slice(t,g));case l:case h:case f:break;case c:case s:"/"===(m=e.slice(t,g)).slice(-1)&&(n.closed=!0,m=m.slice(0,-1));case a:y===a&&(m=p),y==c?(d.warning('attribute "'+m+'" missed quot(")!!'),n.add(p,m.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&m.match(/^(?:disabled|checked|selected)$/i)||d.warning('attribute "'+m+'" missed value!! "'+m+'" instead!!'),n.add(m,m,t));break;case u:throw new Error("attribute value missed!!")}return g;case"":v=" ";default:if(v<=" ")switch(y){case o:n.setTagName(e.slice(t,g)),y=h;break;case s:p=e.slice(t,g),y=a;break;case c:var m=e.slice(t,g).replace(/&#?\w+;/g,i);d.warning('attribute "'+m+'" missed quot(")!!'),n.add(p,m,t);case l:y=h}else switch(y){case a:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&p.match(/^(?:disabled|checked|selected)$/i)||d.warning('attribute "'+p+'" missed value!! "'+p+'" instead2!!'),n.add(p,p,t),t=g,y=s;break;case l:d.warning('attribute space is required"'+p+'"!!');case h:y=s,t=g;break;case u:y=c,t=g;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}g++}}function y(e,t,n){for(var r=e.tagName,i=null,o=e.length;o--;){var s=e[o],a=s.qName,u=s.value;if((f=a.indexOf(":"))>0)var c=s.prefix=a.slice(0,f),l=a.slice(f+1),h="xmlns"===c&&l;else l=a,c=null,h="xmlns"===a&&"";s.localName=l,!1!==h&&(null==i&&(i={},b(n,n={})),n[h]=i[h]=u,s.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(h,u))}for(o=e.length;o--;){(c=(s=e[o]).prefix)&&("xml"===c&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(s.uri=n[c||""]))}var f;(f=r.indexOf(":"))>0?(c=e.prefix=r.slice(0,f),l=e.localName=r.slice(f+1)):(c=null,l=e.localName=r);var d=e.uri=n[c||""];if(t.startElement(d,l,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(d,l,r),i)for(c in i)t.endPrefixMapping(c)}function v(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),s=e.substring(t+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,r),i.characters(s,0,s.length),o)}return t+1}function m(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function b(e,t){for(var n in e)t[n]=e[n]}function _(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var o=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var a=o[1][0],u=s>3&&/^public$/i.test(o[2][0])&&o[3][0],c=s>4&&o[4][0],l=o[s-1];return n.startDTD(a,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),c&&c.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),l.index+l[0].length}}return-1}function w(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function x(e){}function I(e,t){return e.__proto__=t,e}d.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),b(t,t={}),function(e,t,n,r,i){function o(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function s(t){if(t>b){var n=e.substring(b,t).replace(/&#?\w+;/g,o);h&&a(b),r.characters(n,0,t-b),b=t}}function a(t,n){for(;t>=c&&(n=l.exec(e));)u=n.index,c=u+n[0].length,h.lineNumber++;h.columnNumber=t-u+1}var u=0,c=0,l=/.*(?:\r\n?|\n)|.*$/g,h=r.locator,f=[{currentNSMap:t}],d={},b=0;for(;;){try{var I=e.indexOf("<",b);if(I<0){if(!e.substr(b).match(/^\s*$/)){var N=r.doc,j=N.createTextNode(e.substr(b));N.appendChild(j),r.currentElement=j}return}switch(I>b&&s(I),e.charAt(I+1)){case"/":var S=e.indexOf(">",I+3),k=e.substring(I+2,S),T=f.pop();S<0?(k=e.substring(I+2).replace(/[\s<].*/,""),i.error("end tag name: "+k+" is not complete:"+T.tagName),S=I+1+k.length):k.match(/\s</)&&(k=k.replace(/[\s<].*/,""),i.error("end tag name: "+k+" maybe not complete"),S=I+1+k.length);var E=T.localNSMap,C=T.tagName==k,O=C||T.tagName&&T.tagName.toLowerCase()==k.toLowerCase();if(O){if(r.endElement(T.uri,T.localName,k),E)for(var R in E)r.endPrefixMapping(R);C||i.fatalError("end tag name: "+k+" is not match the current start tagName:"+T.tagName)}else f.push(T);S++;break;case"?":h&&a(I),S=w(e,I,r);break;case"!":h&&a(I),S=_(e,I,r,i);break;default:h&&a(I);var A=new x,L=f[f.length-1].currentNSMap,S=g(e,I,A,L,o,i),P=A.length;if(!A.closed&&m(e,S,A.tagName,d)&&(A.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),h&&P){for(var D=p(h,{}),M=0;M<P;M++){var B=A[M];a(B.offset),B.locator=p(h,{})}r.locator=D,y(A,r,L)&&f.push(A),r.locator=h}else y(A,r,L)&&f.push(A);"http://www.w3.org/1999/xhtml"!==A.uri||A.closed?S++:S=v(e,S,A.tagName,o,r)}}catch(e){i.error("element parse error: "+e),S=-1}S>b?b=S:s(Math.max(I,b)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},x.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},I({},I.prototype)instanceof I||(I=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=d},function(e,t,n){const r=n(81),{DataFactory:i}=n(43),{namedNode:o,blankNode:s,literal:a,defaultGraph:u,quad:c}=i;e.exports=class{constructor(e){this.documentIRI=e.documentIRI}addEqualsMethodToQuad(e){return e.equals=i.internal.Quad.prototype.equals,"NamedNode"===e.subject.termType&&(e.subject.equals=i.internal.NamedNode.prototype.equals),"BlankNode"===e.subject.termType&&(e.subject.equals=i.internal.BlankNode.prototype.equals),"NamedNode"===e.predicate.termType&&(e.predicate.equals=i.internal.NamedNode.prototype.equals),"BlankNode"===e.predicate.termType&&(e.predicate.equals=i.internal.BlankNode.prototype.equals),"NamedNode"===e.object.termType&&(e.object.equals=i.internal.NamedNode.prototype.equals),"BlankNode"===e.object.termType&&(e.object.equals=i.internal.BlankNode.prototype.equals),"Literal"===e.object.termType&&(e.object.equals=i.internal.Literal.prototype.equals),"NamedNode"===e.graph.termType&&(e.graph.equals=i.internal.NamedNode.prototype.equals),"BlankNode"===e.graph.termType&&(e.graph.equals=i.internal.BlankNode.prototype.equals),"DefaultGraph"===e.graph.termType&&(e.graph.equals=i.internal.DefaultGraph.prototype.equals),e}parse(e,t){r.toRDF(JSON.parse(e),{base:this.documentIRI},(e,n)=>{for(var r in n){var i=n[r];t(null,this.addEqualsMethodToQuad(i)),r==n.length-1&&t(null,null)}e&&t(e)})}}},function(e,t,n){"use strict";const r=n(15);e.exports=class{constructor({maxCallStackDepth:e=500,maxTotalCallStackDepth:t=4294967295,timeSlice:n=10}={}){this.schedule={},this.schedule.MAX_DEPTH=e,this.schedule.MAX_TOTAL_DEPTH=t,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice=n}doWork(e,t){const n=this.schedule;if(n.totalDepth>=n.MAX_TOTAL_DEPTH)return t(new Error("Maximum total call stack depth exceeded; canonicalization aborting."));!function i(){if(n.depth===n.MAX_DEPTH)return n.depth=0,n.running=!1,r.nextTick(i);const o=Date.now();if(n.running||(n.start=Date.now(),n.deadline=n.start+n.timeSlice),o<n.deadline)return n.running=!0,n.depth++,n.totalDepth++,e((e,r)=>{n.depth--,n.totalDepth--,t(e,r)});n.depth=0,n.running=!1,r.setImmediate(i)}()}forEach(e,t,n){const r=this;let i,o,s=0;if(Array.isArray(e))o=e.length,i=(()=>s!==o&&(i.value=e[s++],i.key=s,!0));else{const t=Object.keys(e);o=t.length,i=(()=>s!==o&&(i.key=t[s++],i.value=e[i.key],!0))}!function e(o){return o?n(o):i()?r.doWork(()=>t(i.value,i.key,e)):void n()}()}waterfall(e,t){const n=this;n.forEach(e,(e,t,r)=>n.doWork(e,r),t)}whilst(e,t,n){const r=this;!function i(o){return o?n(o):e()?void r.doWork(t,i):n()}()}}},function(e,t,n){var r=n(25);n(49),n(84);var i=e.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=i,i.create=function(){s||(o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),s=!0);var e=null,t=r.util.createBuffer(),n=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,s){"utf8"===s&&(o=r.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(o),a(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var s=r.util.createBuffer();s.putBytes(t.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)l+=(u=8*i.fullMessageLength[h+1])/4294967296>>>0,s.putInt32(l>>>0),l=u>>>0;s.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};a(f,n,s);var d=r.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d},i};var o=null,s=!1;function a(e,t,n){for(var r,i,o,s,a,u,c,l=n.length();l>=64;){for(i=e.h0,o=e.h1,s=e.h2,a=e.h3,u=e.h4,c=0;c<16;++c)r=n.getInt32(),t[c]=r,r=(i<<5|i>>>27)+(a^o&(s^a))+u+1518500249+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<20;++c)r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,t[c]=r,r=(i<<5|i>>>27)+(a^o&(s^a))+u+1518500249+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<32;++c)r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,t[c]=r,r=(i<<5|i>>>27)+(o^s^a)+u+1859775393+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<40;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(o^s^a)+u+1859775393+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<60;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(o&s|a&(o^s))+u+2400959708+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<80;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(o^s^a)+u+3395469782+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+s|0,e.h3=e.h3+a|0,e.h4=e.h4+u|0,l-=64}}},function(e,t,n){(function(t){var n={};e.exports=n;var r={};n.encode=function(e,t,n){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==n&&"number"!=typeof n)throw new TypeError('"maxline" must be a number.');var r="";if(e instanceof Uint8Array){var i=0,o=t.length,s=t.charAt(0),a=[0];for(i=0;i<e.length;++i){for(var u=0,c=e[i];u<a.length;++u)c+=a[u]<<8,a[u]=c%o,c=c/o|0;for(;c>0;)a.push(c%o),c=c/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)r+=s;for(i=a.length-1;i>=0;--i)r+=t[a[i]]}else r=function(e,t){var n=0,r=t.length,i=t.charAt(0),o=[0];for(n=0;n<e.length();++n){for(var s=0,a=e.at(n);s<o.length;++s)a+=o[s]<<8,o[s]=a%r,a=a/r|0;for(;a>0;)o.push(a%r),a=a/r|0}var u="";for(n=0;0===e.at(n)&&n<e.length()-1;++n)u+=i;for(n=o.length-1;n>=0;--n)u+=t[o[n]];return u}(e,t);if(n){var l=new RegExp(".{1,"+n+"}","g");r=r.match(l).join("\r\n")}return r},n.decode=function(e,n){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof n)throw new TypeError('"alphabet" must be a string.');var i=r[n];if(!i){i=r[n]=[];for(var o=0;o<n.length;++o)i[n.charCodeAt(o)]=o}e=e.replace(/\s/g,"");var s=n.length,a=n.charAt(0),u=[0];for(o=0;o<e.length;o++){var c=i[e.charCodeAt(o)];if(void 0===c)return;for(var l=0,h=c;l<u.length;++l)h+=u[l]*s,u[l]=255&h,h>>=8;for(;h>0;)u.push(255&h),h>>=8}for(var f=0;e[f]===a&&f<e.length-1;++f)u.push(0);return void 0!==t?t.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this,n(9).Buffer)},function(e,t,n){var r=n(25);n(49),n(84);var i=e.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=i,i.create=function(){s||(o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var e=null,t=r.util.createBuffer(),n=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,s){"utf8"===s&&(o=r.util.encodeUtf8(o));var a=o.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=a[1],a[1]=a[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(o),u(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var s=r.util.createBuffer();s.putBytes(t.bytes());var a,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)l+=(a=8*i.fullMessageLength[h+1])/4294967296>>>0,s.putInt32(l>>>0),l=a>>>0;s.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(f,n,s);var d=r.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d.putInt32(f.h5),d.putInt32(f.h6),d.putInt32(f.h7),d},i};var o=null,s=!1,a=null;function u(e,t,n){for(var r,i,o,s,u,c,l,h,f,d,p,g,y,v=n.length();v>=64;){for(u=0;u<16;++u)t[u]=n.getInt32();for(;u<64;++u)r=((r=t[u-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,i=((i=t[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=r+t[u-7]+i+t[u-16]|0;for(c=e.h0,l=e.h1,h=e.h2,f=e.h3,d=e.h4,p=e.h5,g=e.h6,y=e.h7,u=0;u<64;++u)o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=c&l|h&(c^l),r=y+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(g^d&(p^g))+a[u]+t[u],y=g,g=p,p=d,d=f+r>>>0,f=h,h=l,l=c,c=r+(i=o+s)>>>0;e.h0=e.h0+c|0,e.h1=e.h1+l|0,e.h2=e.h2+h|0,e.h3=e.h3+f|0,e.h4=e.h4+d|0,e.h5=e.h5+p|0,e.h6=e.h6+g|0,e.h7=e.h7+y|0,v-=64}}},function(e,t,n){"use strict";const r=n(82),i=n(15);e.exports=class extends r{constructor(e){super(e),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:((t=i.clone(t)).value="name"===n?"_:g":t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t,n){const r=this,i={},o=r.blankNodeInfo[e].quads;r.forEach(o,(n,o,s)=>{let a,u;if("BlankNode"===n.subject.termType&&n.subject.value!==e)u=n.subject.value,a="p";else{if("BlankNode"!==n.object.termType||n.object.value===e)return s();u=n.object.value,a="r"}r.hashRelatedBlankNode(u,n,t,a,(e,t)=>{if(e)return s(e);t in i?i[t].push(u):i[t]=[u],s()})},e=>n(e,i))}}},function(e,t,n){"use strict";const r=n(86),i=n(15);e.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:((t=i.clone(t)).value="name"===n?"_:g":t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=this,r={},i=n.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const s=i[o];let a,u;if("BlankNode"===s.subject.termType&&s.subject.value!==e)u=s.subject.value,a="p";else{if("BlankNode"!==s.object.termType||s.object.value===e)continue;u=s.object.value,a="r"}const c=n.hashRelatedBlankNode(u,s,t,a);c in r?r[c].push(u):r[c]=[u]}return r}}},function(e,t){},function(e,t,n){"use strict";e.exports=n(47).NQuads},function(e,t,n){"use strict";const{RDF_LANGSTRING:r,RDF_PLAIN_LITERAL:i,RDF_OBJECT:o,RDF_XML_LITERAL:s,XSD_STRING:a}=n(26);let u;function c(){return"undefined"==typeof XMLSerializer?n(51).XMLSerializer:XMLSerializer}u="undefined"!=typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},e.exports=class{parse(e){const t={"@default":[]},n=e.getSubjects();for(let l=0;l<n.length;++l){const h=n[l];if(null===h)continue;const f=e.getSubjectTriples(h);if(null===f)continue;const d=f.predicates;for(const e in d){const n=d[e].objects;for(let l=0;l<n.length;++l){const f=n[l],d={};0===h.indexOf("_:")?d.subject={type:"blank node",value:h}:d.subject={type:"IRI",value:h},0===e.indexOf("_:")?d.predicate={type:"blank node",value:e}:d.predicate={type:"IRI",value:e};let p=f.value;if(f.type===s){const e=new(c());p="";for(let t=0;t<f.value.length;t++)f.value[t].nodeType===u.ELEMENT_NODE?p+=e.serializeToString(f.value[t]):f.value[t].nodeType===u.TEXT_NODE&&(p+=f.value[t].nodeValue)}d.object={},f.type===o?0===f.value.indexOf("_:")?d.object.type="blank node":d.object.type="IRI":(d.object.type="literal",f.type===i?f.language?(d.object.datatype=r,d.object.language=f.language):d.object.datatype=a:d.object.datatype=f.type),d.object.value=p,t["@default"].push(d)}}}return t}}},function(e,t,n){"use strict";const r=n(11),{isArray:i,isObject:o,isEmptyObject:s,isString:a}=n(6),{isList:u,isValue:c,isGraph:l}=n(10),{expandIri:h,getContextValue:f,isKeyword:d,process:p}=n(16),{isAbsolute:g}=n(27),{addValue:y,validateTypeValue:v,getValues:m}=n(2),b={};function _(e,t){const n=[],o=Object.keys(t).sort();for(const s of o){const o=h(e,s,{vocab:!0});let u=t[s];i(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!a(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==o&&(i["@language"]=s.toLowerCase()),n.push(i)}}return n}function w({activeCtx:e,options:t,activeProperty:n,value:r,expansionMap:o,asGraph:s,indexKey:a}){const u=[],c=Object.keys(r).sort();for(let d of c){const c=f(e,d,"@context");c&&(e=p({activeCtx:e,localCtx:c,options:t}));let g=r[d];i(g)||(g=[g]);const y=h(e,d,{vocab:!0});"@id"===a?d=h(e,d,{base:!0}):"@type"===a&&(d=y),g=b.expand({activeCtx:e,activeProperty:n,element:g,options:t,insideList:!1,expansionMap:o});for(let e of g)s&&!l(e)&&(e={"@graph":[e]}),"@type"===a?"@none"===y||(e["@type"]?e["@type"]=[d].concat(e["@type"]):e["@type"]=[d]):"@none"===y||a in e||(e[a]=d),u.push(e)}return u}e.exports=b,b.expand=(({activeCtx:e,activeProperty:t=null,element:n,options:x={},insideList:I=!1,expansionMap:N=(()=>void 0)})=>{if(null===n||void 0===n)return null;if("@default"===t&&(x=Object.assign({},x,{isFrame:!1})),!i(n)&&!o(n)){if(!I&&(null===t||"@graph"===h(e,t,{vocab:!0}))){const r=N({unmappedValue:n,activeCtx:e,activeProperty:t,options:x,insideList:I});return void 0===r?null:r}return function({activeCtx:e,activeProperty:t,value:n}){if(null===n||void 0===n)return null;const r=h(e,t,{vocab:!0});if("@id"===r)return h(e,n,{base:!0});if("@type"===r)return h(e,n,{vocab:!0,base:!0});const i=f(e,t,"@type");if(("@id"===i||"@graph"===r)&&a(n))return{"@id":h(e,n,{base:!0})};if("@vocab"===i&&a(n))return{"@id":h(e,n,{vocab:!0,base:!0})};if(d(r))return n;const o={};if(i&&!["@id","@vocab"].includes(i))o["@type"]=i;else if(a(n)){const n=f(e,t,"@language");null!==n&&(o["@language"]=n)}["boolean","number","string"].includes(typeof n)||(n=n.toString());return o["@value"]=n,o}({activeCtx:e,activeProperty:t,value:n})}if(i(n)){let o=[];const s=f(e,t,"@container")||[];I=I||s.includes("@list");for(let s=0;s<n.length;++s){let a=b.expand({activeCtx:e,activeProperty:t,element:n[s],options:x,expansionMap:N});if(I&&(i(a)||u(a)))throw new r("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null===a&&void 0===(a=N({unmappedValue:n[s],activeCtx:e,activeProperty:t,parent:n,index:s,options:x,expandedParent:o,insideList:I}))||(i(a)?o=o.concat(a):o.push(a))}return o}"@context"in n&&(e=p({activeCtx:e,localCtx:n["@context"],options:x}));let j=Object.keys(n).sort();for(const t of j){if("@type"===h(e,t,{vocab:!0})){const r=[].concat(n[t]);for(const t of r){const n=f(e,t,"@context");n&&(e=p({activeCtx:e,localCtx:n,options:x}))}}}const S=h(e,t,{vocab:!0});let k={};!function e({activeCtx:t,activeProperty:n,expandedActiveProperty:m,element:x,expandedParent:I,options:N={},insideList:j,expansionMap:S}){const k=Object.keys(x).sort();const T=[];for(const e of k){let k,E=x[e];if("@context"===e)continue;let C=h(t,e,{vocab:!0});if((null===C||!g(C)&&!d(C))&&void 0===(C=S({unmappedProperty:e,activeCtx:t,activeProperty:n,parent:x,options:N,insideList:j,value:E,expandedParent:I})))continue;if(d(C)){if("@reverse"===m)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:E});if(C in I)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:C})}if("@id"===C){if(!a(E)){if(!N.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:E});if(o(E)){if(!s(E))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:E})}else{if(!i(E))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:E});if(!E.every(e=>a(e)))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:E})}}y(I,"@id",[].concat(E).map(e=>a(e)?h(t,e,{base:!0}):e),{propertyIsArray:N.isFrame});continue}if("@type"===C){v(E),y(I,"@type",[].concat(E).map(e=>a(e)?h(t,e,{base:!0,vocab:!0}):e),{propertyIsArray:N.isFrame});continue}if("@graph"===C&&!o(E)&&!i(E))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:E});if("@value"===C){if((o(E)||i(E))&&!N.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:E});y(I,"@value",E,{propertyIsArray:N.isFrame});continue}if("@language"===C){if(null===E)continue;if(!a(E)&&!N.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:E});E=[].concat(E).map(e=>a(e)?e.toLowerCase():e),y(I,"@language",E,{propertyIsArray:N.isFrame});continue}if("@index"===C){if(!a(E))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:E});y(I,"@index",E);continue}if("@reverse"===C){if(!o(E))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:E});if("@reverse"in(k=b.expand({activeCtx:t,activeProperty:"@reverse",element:E,options:N,expansionMap:S})))for(const e in k["@reverse"])y(I,e,k["@reverse"][e],{propertyIsArray:!0});let e=I["@reverse"]||null;for(const t in k){if("@reverse"===t)continue;null===e&&(e=I["@reverse"]={}),y(e,t,[],{propertyIsArray:!0});const n=k[t];for(let i=0;i<n.length;++i){const o=n[i];if(c(o)||u(o))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});y(e,t,o,{propertyIsArray:!0})}}continue}if("@nest"===C){T.push(e);continue}let O=t;const R=f(t,e,"@context");R&&(O=p({activeCtx:t,localCtx:R,options:N}));const A=f(O,e,"@container")||[];if(A.includes("@language")&&o(E))k=_(O,E);else if(A.includes("@index")&&o(E)){const t=A.includes("@graph");k=w({activeCtx:O,options:N,activeProperty:e,value:E,expansionMap:S,asGraph:t,indexKey:"@index"})}else if(A.includes("@id")&&o(E)){const t=A.includes("@graph");k=w({activeCtx:O,options:N,activeProperty:e,value:E,expansionMap:S,asGraph:t,indexKey:"@id"})}else if(A.includes("@type")&&o(E))k=w({activeCtx:O,options:N,activeProperty:e,value:E,expansionMap:S,asGraph:!1,indexKey:"@type"});else{const t="@list"===C;if(t||"@set"===C){let e=n;if(t&&"@graph"===m&&(e=null),k=b.expand({activeCtx:O,activeProperty:e,element:E,options:N,insideList:t,expansionMap:S}),t&&u(k))throw new r("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}else k=b.expand({activeCtx:O,activeProperty:e,element:E,options:N,insideList:!1,expansionMap:S})}if(null===k&&"@value"!==C&&void 0===(k=S({unmappedValue:E,expandedProperty:C,activeCtx:O,activeProperty:n,parent:x,options:N,insideList:j,key:e,expandedParent:I})))continue;if("@list"!==C&&!u(k)&&A.includes("@list")&&(k={"@list":k=i(k)?k:[k]}),!A.includes("@graph")||A.some(e=>"@id"===e||"@index"===e)||l(k)||(k={"@graph":k=[].concat(k)}),O.mappings[e]&&O.mappings[e].reverse){const e=I["@reverse"]=I["@reverse"]||{};i(k)||(k=[k]);for(let t=0;t<k.length;++t){const n=k[t];if(c(n)||u(n))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});y(e,C,n,{propertyIsArray:!0})}continue}const L=!["@index","@id","@type","@value","@language"].includes(C);y(I,C,k,{propertyIsArray:L})}for(const s of T){const a=i(x[s])?x[s]:[x[s]];for(const i of a){if(!o(i)||Object.keys(i).some(e=>"@value"===h(t,e,{vocab:!0})))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});e({activeCtx:t,activeProperty:n,expandedActiveProperty:m,element:i,expandedParent:I,options:N,insideList:j,expansionMap:S})}}}({activeCtx:e,activeProperty:t,expandedActiveProperty:S,element:n,expandedParent:k,options:x,insideList:I,expansionMap:N});let T=(j=Object.keys(k)).length;if("@value"in k){if("@type"in k&&"@language"in k)throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:k});let i=T-1;if("@type"in k&&(i-=1),"@index"in k&&(i-=1),"@language"in k&&(i-=1),0!==i)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:k});const o=null===k["@value"]?[]:[].concat(k["@value"]),u=m(k,"@type");if(0===o.length){const r=N({unmappedValue:k,activeCtx:e,activeProperty:t,element:n,options:x,insideList:I});k=void 0!==r?r:null}else{if(!o.every(e=>a(e)||s(e))&&"@language"in k)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:k});if(!u.every(e=>g(e)&&!(a(e)&&0===e.indexOf("_:"))||s(e)))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:k})}}else if("@type"in k&&!i(k["@type"]))k["@type"]=[k["@type"]];else if("@set"in k||"@list"in k){if(T>1&&!(2===T&&"@index"in k))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:k});"@set"in k&&(k=k["@set"],T=(j=Object.keys(k)).length)}else if(1===T&&"@language"in k){const r=N(k,{unmappedValue:k,activeCtx:e,activeProperty:t,element:n,options:x,insideList:I});k=void 0!==r?r:null}if(o(k)&&!x.keepFreeFloatingNodes&&!I&&(null===t||"@graph"===S)&&(0===T||"@value"in k||"@list"in k||1===T&&"@id"in k)){const r=N({unmappedValue:k,activeCtx:e,activeProperty:t,element:n,options:x,insideList:I});k=void 0!==r?r:null}return k})},function(e,t,n){"use strict";const{clone:r}=n(2);e.exports=class{constructor(e=100){this.order=[],this.cache=new Map,this.size=e}get(e,t){const n=this.cache.get(e);if(n){const e=JSON.stringify(t);return n.get(e)||null}return null}set(e,t,n){if(this.order.length===this.size){const e=this.order.shift();this.cache.get(e.activeCtx).delete(e.localCtx)}const i=JSON.stringify(t);this.order.push({activeCtx:e,localCtx:i});let o=this.cache.get(e);o||(o=new Map,this.cache.set(e,o)),o.set(i,r(n))}}},function(e,t,n){"use strict";const{isSubjectReference:r}=n(10),{createMergedNodeMap:i}=n(39),o={};e.exports=o,o.flatten=(e=>{const t=i(e),n=[],o=Object.keys(t).sort();for(let e=0;e<o.length;++e){const i=t[o[e]];r(i)||n.push(i)}return n})},function(e,t,n){"use strict";const r=n(10),i=n(6),o=n(2),{RDF_LIST:s,RDF_FIRST:a,RDF_REST:u,RDF_NIL:c,RDF_TYPE:l,XSD_BOOLEAN:h,XSD_DOUBLE:f,XSD_INTEGER:d,XSD_STRING:p}=n(26),g={};function y(e,t){if(e.termType.endsWith("Node"))return{"@id":e.value};const n={"@value":e.value};if(e.language)n["@language"]=e.language;else{let r=e.datatype.value;if(r||(r=p),t){if(r===h)"true"===n["@value"]?n["@value"]=!0:"false"===n["@value"]&&(n["@value"]=!1);else if(i.isNumeric(n["@value"]))if(r===d){const e=parseInt(n["@value"],10);e.toFixed(0)===n["@value"]&&(n["@value"]=e)}else r===f&&(n["@value"]=parseFloat(n["@value"]));[h,d,f,p].includes(r)||(n["@type"]=r)}else r!==p&&(n["@type"]=r)}return n}e.exports=g,g.fromRDF=(async(e,{useRdfType:t=!1,useNativeTypes:n=!1})=>{const h={},f={"@default":h},d={};for(const r of e){const e="DefaultGraph"===r.graph.termType?"@default":r.graph.value;e in f||(f[e]={}),"@default"===e||e in h||(h[e]={"@id":e});const i=f[e],s=r.subject.value,a=r.predicate.value,u=r.object;s in i||(i[s]={"@id":s});const p=i[s],g=u.termType.endsWith("Node");if(!g||u.value in i||(i[u.value]={"@id":u.value}),a===l&&!t&&g){o.addValue(p,"@type",u.value,{propertyIsArray:!0});continue}const v=y(u,n);if(o.addValue(p,a,v,{propertyIsArray:!0}),g)if(u.value===c){const e=i[u.value];"usages"in e||(e.usages=[]),e.usages.push({node:p,property:a,value:v})}else u.value in d?d[u.value]=!1:d[u.value]={node:p,property:a,value:v}}for(const e in f){const t=f[e];if(!(c in t))continue;const n=t[c];if(n.usages){for(let e of n.usages){let n=e.node,o=e.property,l=e.value;const h=[],f=[];let p=Object.keys(n).length;for(;o===u&&i.isObject(d[n["@id"]])&&i.isArray(n[a])&&1===n[a].length&&i.isArray(n[u])&&1===n[u].length&&(3===p||4===p&&i.isArray(n["@type"])&&1===n["@type"].length&&n["@type"][0]===s)&&(h.push(n[a][0]),f.push(n["@id"]),n=(e=d[n["@id"]]).node,o=e.property,l=e.value,p=Object.keys(n).length,r.isBlankNode(n)););if(o===a){if(n["@id"]===c)continue;l=t[l["@id"]][u][0],h.pop(),f.pop()}delete l["@id"],l["@list"]=h.reverse();for(const e of f)delete t[e]}delete n.usages}}const p=[],g=Object.keys(h).sort();for(const e of g){const t=h[e];if(e in f){const n=t["@graph"]=[],i=f[e],o=Object.keys(i).sort();for(const e of o){const t=i[e];r.isSubjectReference(t)||n.push(t)}}r.isSubjectReference(t)||p.push(t)}return p})},function(e,t,n){"use strict";const{createNodeMap:r}=n(39),{isKeyword:i}=n(16),o=n(10),s=n(6),a=n(2),{RDF_FIRST:u,RDF_REST:c,RDF_NIL:l,RDF_TYPE:h,RDF_LANGSTRING:f,XSD_BOOLEAN:d,XSD_DOUBLE:p,XSD_INTEGER:g,XSD_STRING:y}=n(26),{isAbsolute:v}=n(27),m={};function b(e,t,n,r,s){const a=Object.keys(t).sort();for(let u=0;u<a.length;++u){const c=a[u],l=t[c],f=Object.keys(l).sort();for(let t of f){const a=l[t];if("@type"===t)t=h;else if(i(t))continue;for(const i of a){const a={termType:c.startsWith("_:")?"BlankNode":"NamedNode",value:c};if(!v(c))continue;const u={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(v(t)&&("BlankNode"!==u.termType||s.produceGeneralizedRdf))if(o.isList(i))_(i["@list"],r,a,u,e,n);else{const t=w(i);t&&e.push({subject:a,predicate:u,object:t,graph:n})}}}}}function _(e,t,n,r,i,o){const s={termType:"NamedNode",value:u},a={termType:"NamedNode",value:c},h={termType:"NamedNode",value:l};for(const u of e){const e={termType:"BlankNode",value:t.getId()};i.push({subject:n,predicate:r,object:e,graph:o}),n=e,r=s;const c=w(u);c&&i.push({subject:n,predicate:r,object:c,graph:o}),r=a}i.push({subject:n,predicate:r,object:h,graph:o})}function w(e){const t={};if(o.isValue(e)){t.termType="Literal",t.value=void 0,t.datatype={termType:"NamedNode"};let n=e["@value"];const r=e["@type"]||null;s.isBoolean(n)?(t.value=n.toString(),t.datatype.value=r||d):s.isDouble(n)||r===p?(s.isDouble(n)||(n=parseFloat(n)),t.value=n.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t.datatype.value=r||p):s.isNumber(n)?(t.value=n.toFixed(0),t.datatype.value=r||g):"@language"in e?(t.value=n,t.datatype.value=r||f,t.language=e["@language"]):(t.value=n,t.datatype.value=r||y)}else{const n=s.isObject(e)?e["@id"]:e;t.termType=n.startsWith("_:")?"BlankNode":"NamedNode",t.value=n}return"NamedNode"!==t.termType||v(t.value)?t:null}e.exports=m,m.toRDF=((e,t)=>{const n=new a.IdentifierIssuer("_:b"),i={"@default":{}};r(e,i,"@default",n);const o=[],s=Object.keys(i).sort();for(const e of s){let r;if("@default"===e)r={termType:"DefaultGraph",value:""};else{if(!v(e))continue;(r=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=e}b(o,i[e],r,n,t)}return o})},function(e,t,n){"use strict";const{isKeyword:r}=n(16),i=n(10),o=n(6),s=n(2),a=n(11),{createNodeMap:u,mergeNodeMapGraphs:c}=n(39),l={};function h(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function f(e,t,n){for(let r=n.length-1;r>=0;--r){const i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function d(e,t,n){const r="@"+n;let i=r in e?e[r][0]:t[n];return"embed"===n&&(!0===i?i="@last":!1===i?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function p(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new a("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function g(e,t,n,a){let u=!0,c=!1;for(const l in n){let h=!1;const f=s.getValues(t,l),d=0===s.getValues(n,l).length;if(r(l)){if("@id"!==l&&"@type"!==l)continue;if(u=!1,"@id"===l){if(n["@id"].length>=0&&!o.isEmptyObject(n["@id"][0]))return n["@id"].includes(f[0]);h=!0;continue}if("@type"in n)if(d){if(f.length>0)return!1;h=!0}else{if(1!==n["@type"].length||!o.isEmptyObject(n["@type"][0])){for(const e of n["@type"])if(f.some(t=>t===e))return!0;return!1}h=f.length>0}}const g=s.getValues(n,l)[0];let y=!1;if(g&&(p([g]),y="@default"in g),u=!1,0!==f.length||!y){if(f.length>0&&d)return!1;if(void 0===g){if(f.length>0)return!1;h=!0}else if(o.isObject(g))h=f.length>0;else if(i.isValue(g))h=f.some(e=>b(g,e));else if(i.isSubject(g)||i.isSubjectReference(g))h=f.some(t=>m(e,g,t,a));else if(i.isList(g)){const t=g["@list"][0];if(i.isList(f[0])){const n=f[0]["@list"];i.isValue(t)?h=n.some(e=>b(t,e)):(i.isSubject(t)||i.isSubjectReference(t))&&(h=n.some(n=>m(e,t,n,a)))}else h=!1}if(!h&&a.requireAll)return!1;c=c||h}}return u||c}function y(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,a=r.property,u={"@id":t};if(o.isArray(i)){for(let e=0;e<i.length;++e)if(s.compareValues(i[e],u)){i[e]=u;break}}else{const e=o.isArray(i[a]);s.removeValue(i,a,u,{propertyIsArray:e}),s.addValue(i,a,u,{propertyIsArray:e})}const c=e=>{const t=Object.keys(n);for(const r of t)r in n&&o.isObject(n[r].parent)&&n[r].parent["@id"]===e&&(delete n[r],c(r))};c(t)}function v(e,t,n){o.isObject(e)?s.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function m(e,t,n,r){if(!("@id"in n))return!1;const i=e.subjects[n["@id"]];return i&&g(e,i,t,r)}function b(e,t){const n=t["@value"],r=t["@type"],i=t["@language"],s=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],u=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===s.length&&0===a.length&&0===u.length||!(!s.includes(n)&&!o.isEmptyObject(s[0]))&&(!!(!r&&0===a.length||a.includes(r)||r&&o.isEmptyObject(a[0]))&&!!(!i&&0===u.length||u.includes(i)||i&&o.isEmptyObject(u[0])))}e.exports=l,l.frameMergedOrDefault=((e,t,n)=>{const r={options:n,graph:"@default",graphMap:{"@default":{}},graphStack:[],subjectStack:[],link:{},bnodeMap:{}},i=new s.IdentifierIssuer("_:b");u(e,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=c(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const o=[];return l.frame(r,Object.keys(r.subjects).sort(),t,o),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(e=>1===r.bnodeMap[e].length)),o}),l.frame=((e,t,n,a,u=null)=>{p(n),n=n[0];const c=e.options,m={embed:d(n,c,"embed"),explicit:d(n,c,"explicit"),requireAll:d(n,c,"requireAll")},_=function(e,t,n,r){const i={};for(const o of t){const t=e.graphMap[e.graph][o];g(e,t,n,r)&&(i[o]=t)}return i}(e,t,n,m),w=Object.keys(_).sort();for(const t of w){const p=_[t];if("@link"===m.embed&&t in e.link){v(a,u,e.link[t]);continue}null===u?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{};const g={};if(g["@id"]=t,0===t.indexOf("_:")&&s.addValue(e.bnodeMap,t,g,{propertyIsArray:!0}),e.link[t]=g,"@never"===m.embed||f(p,e.graph,e.subjectStack))v(a,u,g);else{if("@last"===m.embed&&(t in e.uniqueEmbeds[e.graph]&&y(e,t),e.uniqueEmbeds[e.graph][t]={parent:a,property:u}),e.subjectStack.push({subject:p,graph:e.graph}),t in e.graphMap){let r=!1,i=null;"@graph"in n?(i=n["@graph"][0],o.isObject(i)||(i={}),r=!("@merged"===t||"@default"===t)):(r="@merged"!==e.graph,i={}),r&&(e.graphStack.push(e.graph),e.graph=t,l.frame(e,Object.keys(e.graphMap[t]).sort(),[i],g,"@graph"),e.graph=e.graphStack.pop)}for(const t of Object.keys(p).sort())if(r(t)){if(g[t]=s.clone(p[t]),"@type"===t)for(const t of p["@type"])0===t.indexOf("_:")&&s.addValue(e.bnodeMap,t,g,{propertyIsArray:!0})}else if(!m.explicit||t in n)for(let r of p[t]){const o=t in n?n[t]:h(m);if(i.isList(r)){const o={"@list":[]};v(g,t,o);const a=r["@list"];for(const u in a)if(r=a[u],i.isSubjectReference(r)){const i=t in n?n[t][0]["@list"]:h(m);l.frame(e,[r["@id"]],i,o,"@list")}else v(o,"@list",s.clone(r))}else i.isSubjectReference(r)?l.frame(e,[r["@id"]],o,g,t):b(o[0],r)&&v(g,t,s.clone(r))}for(const e of Object.keys(n).sort()){if(r(e))continue;const t=n[e][0]||{};if(!(d(t,c,"omitDefault")||e in g)){let n="@null";"@default"in t&&(n=s.clone(t["@default"])),o.isArray(n)||(n=[n]),g[e]=[{"@preserve":n}]}}if("@reverse"in n)for(const r of Object.keys(n["@reverse"]).sort()){const i=n["@reverse"][r];for(const n of Object.keys(e.subjects)){s.getValues(e.subjects[n],r).some(e=>e["@id"]===t)&&(g["@reverse"]=g["@reverse"]||{},s.addValue(g["@reverse"],r,[],{propertyIsArray:!0}),l.frame(e,[n],i,g["@reverse"][r],u))}}v(a,u,g),e.subjectStack.pop()}}})},function(e,t,n){"use strict";const r=n(11),{isArray:i,isObject:o,isString:s}=n(6),{isList:a,isValue:u,isGraph:c,isSimpleGraph:l,isSubjectReference:h}=n(10),{expandIri:f,getContextValue:d,isKeyword:p,process:g}=n(16),{removeBase:y}=n(27),{addValue:v,compareShortestLeast:m}=n(2),b={};function _(e,t){if("@nest"!==f(e,t,{vocab:!0}))throw new r("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=b,b.compact=(({activeCtx:e,activeProperty:t=null,element:n,options:s={},compactionMap:f=(()=>void 0)})=>{if(i(n)){let r=[];for(let i=0;i<n.length;++i){let o=b.compact({activeCtx:e,activeProperty:t,element:n[i],options:s,compactionMap:f});null===o&&void 0===(o=f({unmappedValue:n[i],activeCtx:e,activeProperty:t,parent:n,index:i,options:s}))||r.push(o)}if(s.compactArrays&&1===r.length){0===(d(e,t,"@container")||[]).length&&(r=r[0])}return r}const y=d(e,t,"@context");if(y&&(e=g({activeCtx:e,localCtx:y,options:s})),o(n)){if(s.link&&"@id"in n&&n["@id"]in s.link){const e=s.link[n["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===n)return e[t].compacted}if(u(n)||h(n)){const r=b.compactValue({activeCtx:e,activeProperty:t,value:n});return s.link&&h(n)&&(n["@id"]in s.link||(s.link[n["@id"]]=[]),s.link[n["@id"]].push({expanded:n,compacted:r})),r}const y="@reverse"===t,m={};s.link&&"@id"in n&&(n["@id"]in s.link||(s.link[n["@id"]]=[]),s.link[n["@id"]].push({expanded:n,compacted:m}));const w=n["@type"]||[];for(const t of w){const n=b.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!0}}),r=d(e,n,"@context");r&&(e=g({activeCtx:e,localCtx:r,options:s}))}const x=Object.keys(n).sort();for(const h of x){const g=n[h];if("@id"!==h&&"@type"!==h)if("@reverse"!==h)if("@preserve"!==h)if("@index"!==h)if("@graph"!==h&&"@list"!==h&&p(h)){const t=b.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});v(m,t,g)}else{if(!i(g))throw new r("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===g.length){const t=b.compactIri({activeCtx:e,iri:h,value:g,relativeTo:{vocab:!0},reverse:y}),n=t in e.mappings?e.mappings[t]["@nest"]:null;let r=m;n&&(_(e,n),o(m[n])||(m[n]={}),r=m[n]),v(r,t,g,{propertyIsArray:!0})}for(const t of g){const n=b.compactIri({activeCtx:e,iri:h,value:t,relativeTo:{vocab:!0},reverse:y}),p=n in e.mappings?e.mappings[n]["@nest"]:null;let g=m;p&&(_(e,p),o(m[p])||(m[p]={}),g=m[p]);const w=d(e,n,"@container")||[],x=c(t),I=a(t);let N;I?N=t["@list"]:x&&(N=t["@graph"]);let j=b.compact({activeCtx:e,activeProperty:n,element:I||x?N:t,options:s,compactionMap:f});if(I)if(i(j)||(j=[j]),w.includes("@list")){if(n in g)throw new r('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"})}else j={[b.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:j},"@index"in t&&(j[b.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]);if(x)if(w.includes("@graph")&&(w.includes("@id")||w.includes("@index")&&l(t))){let r;n in g?r=g[n]:g[n]=r={};const i=(w.includes("@id")?t["@id"]:t["@index"])||b.compactIri({activeCtx:e,iri:"@none",vocab:!0});v(r,i,j,{propertyIsArray:!s.compactArrays||w.includes("@set")})}else w.includes("@graph")&&l(t)?v(g,n,j,{propertyIsArray:!s.compactArrays||w.includes("@set")}):(i(j)&&1===j.length&&s.compactArrays&&(j=j[0]),j={[b.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:j},"@id"in t&&(j[b.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(j[b.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),v(g,n,j,{propertyIsArray:!s.compactArrays||w.includes("@set")}));else if(w.includes("@language")||w.includes("@index")||w.includes("@id")||w.includes("@type")){let r,i;if(n in g?r=g[n]:g[n]=r={},w.includes("@language"))u(j)&&(j=j["@value"]),i=t["@language"];else if(w.includes("@index"))i=t["@index"];else if(w.includes("@id")){const t=b.compactIri({activeCtx:e,iri:"@id",vocab:!0});i=j[t],delete j[t]}else if(w.includes("@type")){const t=b.compactIri({activeCtx:e,iri:"@type",vocab:!0});let n;switch([i,...n]=[].concat(j[t]||[]),n.length){case 0:delete j[t];break;case 1:j[t]=n[0];break;default:j[t]=n}}i||(i=b.compactIri({activeCtx:e,iri:"@none",vocab:!0})),v(r,i,j,{propertyIsArray:w.includes("@set")})}else{const e=!s.compactArrays||w.includes("@set")||w.includes("@list")||i(j)&&0===j.length||"@list"===h||"@graph"===h;v(g,n,j,{propertyIsArray:e})}}}else{if((d(e,t,"@container")||[]).includes("@index"))continue;const n=b.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});v(m,n,g)}else{const n=b.compact({activeCtx:e,activeProperty:t,element:g,options:s,compactionMap:f});i(n)&&0===n.length||v(m,h,n)}else{const t=b.compact({activeCtx:e,activeProperty:"@reverse",element:g,options:s,compactionMap:f});for(const n in t)if(e.mappings[n]&&e.mappings[n].reverse){const r=t[n],i=(d(e,n,"@container")||[]).includes("@set")||!s.compactArrays;v(m,n,r,{propertyIsArray:i}),delete t[n]}if(Object.keys(t).length>0){const n=b.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});v(m,n,t)}}else{let t=[].concat(g).map(t=>b.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:"@type"===h}}));1===t.length&&(t=t[0]);const n=b.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}}),r=i(t)&&0===g.length;v(m,n,t,{propertyIsArray:r})}}return m}return n}),b.compactIri=(({activeCtx:e,iri:t,value:n=null,relativeTo:r={vocab:!1},reverse:i=!1})=>{if(null===t)return t;const s=e.getInverse();if(p(t)&&t in s&&"@none"in s[t]&&"@type"in s[t]["@none"]&&"@none"in s[t]["@none"]["@type"])return s[t]["@none"]["@type"]["@none"];if(r.vocab&&t in s){const r=e["@language"]||"@none",s=[];o(n)&&"@index"in n&&!("@graph"in n)&&s.push("@index","@index@set"),o(n)&&"@preserve"in n&&(n=n["@preserve"][0]),c(n)?("@index"in n&&s.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&s.push("@graph@id","@graph@id@set"),s.push("@graph","@graph@set","@set"),"@index"in n||s.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||s.push("@graph@id","@graph@id@set")):o(n)&&!u(n)&&s.push("@id","@id@set","@type","@set@type");let l="@language",f="@null";if(i)l="@type",f="@reverse",s.push("@set");else if(a(n)){"@index"in n||s.push("@list");const e=n["@list"];if(0===e.length)l="@any",f="@none";else{let t=0===e.length?r:null,n=null;for(let r=0;r<e.length;++r){const i=e[r];let o="@none",s="@none";if(u(i)?"@language"in i?o=i["@language"]:"@type"in i?s=i["@type"]:o="@null":s="@id",null===t?t=o:o!==t&&u(i)&&(t="@none"),null===n?n=s:s!==n&&(n="@none"),"@none"===t&&"@none"===n)break}t=t||"@none","@none"!==(n=n||"@none")?(l="@type",f=n):f=t}}else u(n)?"@language"in n&&!("@index"in n)?(s.push("@language","@language@set"),f=n["@language"]):"@type"in n&&(l="@type",f=n["@type"]):(l="@type",f="@id"),s.push("@set");s.push("@none"),!o(n)||"@index"in n||s.push("@index","@index@set"),u(n)&&1===Object.keys(n).length&&s.push("@language","@language@set");const d=function(e,t,n,r,i,o){null===o&&(o="@null");const s=[];if("@id"!==o&&"@reverse"!==o||!h(n))s.push(o);else{"@reverse"===o&&s.push("@reverse");const t=b.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});t in e.mappings&&e.mappings[t]&&e.mappings[t]["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}s.push("@none");const a=e.inverse[t];for(let e=0;e<r.length;++e){const t=r[e];if(!(t in a))continue;const n=a[t][i];for(let e=0;e<s.length;++e){const t=s[e];if(t in n)return n[t]}}return null}(e,t,n,s,l,f);if(null!==d)return d}if(r.vocab&&"@vocab"in e){const n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){const r=t.substr(n.length);if(!(r in e.mappings))return r}}let l=null;const f=[];let d=e.fastCurieMap;const g=t.length-1;for(let e=0;e<g&&t[e]in d;++e)""in(d=d[t[e]])&&f.push(d[""][0]);for(let r=f.length-1;r>=0;--r){const i=f[r],o=i.terms;for(const r of o){const o=r+":"+t.substr(i.iri.length);e.mappings[r]._prefix&&(!(o in e.mappings)||null===n&&e.mappings[o]["@id"]===t)&&(null===l||m(o,l)<0)&&(l=o)}}return null!==l?l:r.vocab?t:y(e["@base"],t)}),b.compactValue=(({activeCtx:e,activeProperty:t,value:n})=>{if(u(n)){const r=d(e,t,"@type"),i=d(e,t,"@language"),o=d(e,t,"@container")||[],a="@index"in n&&!o.includes("@index");if(!a&&(n["@type"]===r||n["@language"]===i))return n["@value"];const u=Object.keys(n).length,c=1===u||2===u&&"@index"in n&&!a,l="@language"in e,h=s(n["@value"]),f=e.mappings[t]&&null===e.mappings[t]["@language"];if(c&&(!l||!h||f))return n["@value"];const p={};return a&&(p[b.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?p[b.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=b.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(p[b.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),p[b.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],p}const r=f(e,t,{vocab:!0}),i=d(e,t,"@type"),o=b.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===i}});return"@id"===i||"@vocab"===i||"@graph"===r?o:{[b.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:o}}),
/**
 * Removes the @preserve keywords as the last step of the compaction
 * algorithm when it is running on framed output.
 *
 * @param ctx the active context used to compact the input.
 * @param input the framed, compacted output.
 * @param options the compaction options used.
 *
 * @return the resulting output.
 */
b.removePreserve=((e,t,n)=>{if(i(t)){const r=[];for(let i=0;i<t.length;++i){const o=b.removePreserve(e,t[i],n);null!==o&&r.push(o)}t=r}else if(o(t)){
// remove @preserve
if("@preserve"in t)return"@null"===t["@preserve"]?null:t["@preserve"];if(u(t))return t;if(a(t))return t["@list"]=b.removePreserve(e,t["@list"],n),t;const r=b.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});if(r in t){const e=t[r];if(e in n.link){const r=n.link[e].indexOf(t);if(-1!==r)return n.link[e][r];n.link[e].push(t)}else n.link[e]=[t]}const o=b.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}});for(const s in t){if(s===r&&n.bnodesToClear.includes(t[s])){delete t[r];continue}let a=b.removePreserve(e,t[s],n);const u=d(e,s,"@container")||[];n.compactArrays&&i(a)&&1===a.length&&0===u.length&&s!==o&&(a=a[0]),t[s]=a}}return t})},function(e,t,n){"use strict";const{parseLinkHeader:r,buildHeaders:i}=n(2),{LINK_HEADER_REL:o}=n(26),s=n(11),a=n(52);e.exports=(({secure:e,strictSSL:t=!0,maxRedirects:u=-1,request:c,headers:l={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{l=i(l),c=c||n(51);const h=n(51);return(new a).wrapLoader(function(n){return async function n(i,a){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let f=null;if(null!==f)return f;let d;try{d=await function(e,t){return new Promise((n,r)=>{e(t,(e,t,i)=>{e?r(e):n({res:t,body:i})})})}(c,{url:i,headers:l,strictSSL:t,followRedirect:!1})}catch(e){throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}const{res:p,body:g}=d;f={contextUrl:null,documentUrl:i,document:g||null};const y=h.STATUS_CODES[p.statusCode];if(p.statusCode>=400)throw new s("URL could not be dereferenced: "+y,"jsonld.InvalidUrl",{code:"loading document failed",url:i,httpStatusCode:p.statusCode});if(p.headers.link&&"application/ld+json"!==p.headers["content-type"]){const e=r(p.headers.link)[o];if(Array.isArray(e))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});e&&(f.contextUrl=e.target)}if(p.statusCode>=300&&p.statusCode<400&&p.headers.location){if(a.length===u)throw new s("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:i,httpStatusCode:p.statusCode,redirects:a});if(-1!==a.indexOf(i))throw new s("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:i,httpStatusCode:p.statusCode,redirects:a});return a.push(i),n(p.headers.location,a)}a.push(i);return f}(n,[])})})},function(e,t,n){"use strict";const{parseLinkHeader:r,buildHeaders:i}=n(2),{LINK_HEADER_REL:o}=n(26),s=n(11),a=n(52),u=/(^|(\r\n))link:/i;e.exports=(({secure:e,headers:t={},xhr:n}={headers:{}})=>{return t=i(t),(new a).wrapLoader(async function(i){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let a;try{a=await function(e,t,n){const r=new(e=e||XMLHttpRequest);return new Promise((e,i)=>{r.onload=(()=>e(r)),r.onerror=(e=>i(e)),r.open("GET",t,!0);for(const e in n)r.setRequestHeader(e,n[e]);r.send()})}(n,i,t)}catch(e){throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}if(a.status>=400)throw new s("URL could not be dereferenced: "+a.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:a.status});const c={contextUrl:null,documentUrl:i,document:a.response},l=a.getResponseHeader("Content-Type");let h;u.test(a.getAllResponseHeaders())&&(h=a.getResponseHeader("Link"));if(h&&"application/ld+json"!==l){if(h=r(h)[o],Array.isArray(h))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});h&&(c.contextUrl=h.target)}return c})})},function(e,t,n){"use strict";e.exports=(e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t})},function(e,t,n){var r=n(159).RDFaProcessor;const{DataFactory:i}=n(43),{namedNode:o,blankNode:s,literal:a,defaultGraph:u,quad:c}=i;e.exports=class{constructor(e){this.documentIRI=e.documentIRI}parse(e,t){try{var n=new r;n.onTriple=function(e){t(null,e)},n.process(e,{baseURI:this.documentIRI})}catch(e){t(e)}}}},function(e,t,n){e.exports={RDFaProcessor:n(160)}},function(e,t,n){var r=n(161);const{DataFactory:i}=n(162);e.exports=class{constructor(e,t){this.uriresolver=new r,this.factory=t||i,this.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",this.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",this.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",this.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",this.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",this.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",this.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",this.NCNAME=new RegExp("^"+this.nameStartChar+this.nameChar+"*$"),this.target=e||{graph:{subjects:{},prefixes:{},terms:{}}},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}newBlankNode(){return this.blankCounter++,"_:"+this.blankCounter}trim(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}tokenize(e){return this.trim(e).split(/\s+/)}parseSafeCURIEOrCURIEOrURI(e,t,n){return"["==(e=this.trim(e)).charAt(0)&&"]"==e.charAt(e.length-1)?0==(e=(e=e.substring(1,e.length-1)).trim(e)).length?null:"_:"==e?this.theOne:this.parseCURIE(e,t,n):this.parseCURIEOrURI(e,t,n)}parseCURIE(e,t,n){var r=e.indexOf(":");if(r>=0){var i,o=e.substring(0,r);if(""==o)return(i=t[""])?i+e.substring(r+1):null;if("_"==o)return"_:"+e.substring(r+1);if(this.NCNAME.test(o)&&(i=t[o]))return i+e.substring(r+1)}return null}parseCURIEOrURI(e,t,n){var r=this.parseCURIE(e,t,n);return r||this.resolveAndNormalize(n,e)}parsePredicate(e,t,n,r,i,o){if(""==e)return null;var s=this.parseTermOrCURIEOrAbsURI(e,t,o?null:n,r,i);return s&&0==s.indexOf("_:")?null:s}parseTermOrCURIEOrURI(e,t,n,r,i){e=this.trim(e);var o=this.parseCURIE(e,r,i);if(o)return o;var s=n[e];return s||((s=n[e.toLowerCase()])?s:t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(i,e))}parseTermOrCURIEOrAbsURI(e,t,n,r,i){e=this.trim(e);var o=this.parseCURIE(e,r,i);if(o)return o;if(n){if(t&&!this.absURIRE.exec(e))return t+e;var s=n[e];if(s)return s;if(s=n[e.toLowerCase()])return s}return this.absURIRE.exec(e)?this.resolveAndNormalize(i,e):null}resolveAndNormalize(e,t){var n=e.resolve(t),r=this.uriresolver.parseURI(n);return r.normalize(),r.spec}parsePrefixMappings(e,t){for(var n=this.tokenize(e),r=null,i=0;i<n.length;i++)":"==n[i][n[i].length-1]?r=n[i].substring(0,n[i].length-1):r&&(t[r]=this.target.baseURI?this.target.baseURI.resolve(n[i]):n[i],r=null)}copyMappings(e){var t={};for(var n in e)t[n]=e[n];return t}ancestorPath(e){for(var t="";e&&9!=e.nodeType;)t="/"+e.localName+t,e=e.parentNode;return t}setContext(e){if("html"==e.localName&&"XHTML+RDFa 1.1"==e.getAttribute("version"))this.setXHTMLContext();else if("html"==e.localName||"http://www.w3.org/1999/xhtml"==e.namespaceURI)if(e.ownerDocument.doctype){var t=e.ownerDocument;"-//W3C//DTD XHTML+RDFa 1.0//EN"==t.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"==t.doctype.systemId?this.setHTMLContext():"-//W3C//DTD XHTML+RDFa 1.1//EN"==t.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"==t.doctype.systemId?this.setXHTMLContext():this.setHTMLContext()}else this.setHTMLContext();else this.setXMLContext()}setInitialContext(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.target.graph.prefixes.as="https://www.w3.org/ns/activitystreams#",this.target.graph.prefixes.dqv="http://www.w3.org/ns/dqv#",this.target.graph.prefixes.duv="https://www.w3.org/TR/vocab-duv#",this.target.graph.prefixes.cat="http://www.w3.org/ns/dcat#",this.target.graph.prefixes.qb="http://purl.org/linked-data/cube#",this.target.graph.prefixes.grddl="http://www.w3.org/2003/g/data-view#",this.target.graph.prefixes.ldp="http://www.w3.org/ns/ldp#",this.target.graph.prefixes.oa="http://www.w3.org/ns/oa#",this.target.graph.prefixes.ma="http://www.w3.org/ns/ma-ont#",this.target.graph.prefixes.owl="http://www.w3.org/2002/07/owl#",this.target.graph.prefixes.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",this.target.graph.prefixes.rdfa="http://www.w3.org/ns/rdfa#",this.target.graph.prefixes.rdfs="http://www.w3.org/2000/01/rdf-schema#",this.target.graph.prefixes.rif="http://www.w3.org/2007/rif#",this.target.graph.prefixes.rr="http://www.w3.org/ns/r2rml#",this.target.graph.prefixes.skos="http://www.w3.org/2004/02/skos/core#",this.target.graph.prefixes.skosxl="http://www.w3.org/2008/05/skos-xl#",this.target.graph.prefixes.wdr="http://www.w3.org/2007/05/powder#",this.target.graph.prefixes.void="http://rdfs.org/ns/void#",this.target.graph.prefixes.wdrs="http://www.w3.org/2007/05/powder-s#",this.target.graph.prefixes.xhv="http://www.w3.org/1999/xhtml/vocab#",this.target.graph.prefixes.xml="http://www.w3.org/XML/1998/namespace",this.target.graph.prefixes.xsd="http://www.w3.org/2001/XMLSchema#",this.target.graph.prefixes.prov="http://www.w3.org/ns/prov#",this.target.graph.prefixes.sd="http://www.w3.org/ns/sparql-service-description#",this.target.graph.prefixes.org="http://www.w3.org/ns/org#",this.target.graph.prefixes.gldp="http://www.w3.org/ns/people#",this.target.graph.prefixes.cnt="http://www.w3.org/2008/content#",this.target.graph.prefixes.dcat="http://www.w3.org/ns/dcat#",this.target.graph.prefixes.earl="http://www.w3.org/ns/earl#",this.target.graph.prefixes.ht="http://www.w3.org/2006/http#",this.target.graph.prefixes.ptr="http://www.w3.org/2009/pointers#",this.target.graph.prefixes.cc="http://creativecommons.org/ns#",this.target.graph.prefixes.ctag="http://commontag.org/ns#",this.target.graph.prefixes.dc="http://purl.org/dc/terms/",this.target.graph.prefixes.dc11="http://purl.org/dc/elements/1.1/",this.target.graph.prefixes.dcterms="http://purl.org/dc/terms/",this.target.graph.prefixes.foaf="http://xmlns.com/foaf/0.1/",this.target.graph.prefixes.gr="http://purl.org/goodrelations/v1#",this.target.graph.prefixes.ical="http://www.w3.org/2002/12/cal/icaltzd#",this.target.graph.prefixes.og="http://ogp.me/ns#",this.target.graph.prefixes.rev="http://purl.org/stuff/rev#",this.target.graph.prefixes.sioc="http://rdfs.org/sioc/ns#",this.target.graph.prefixes.v="http://rdf.data-vocabulary.org/#",this.target.graph.prefixes.vcard="http://www.w3.org/2006/vcard/ns#",this.target.graph.prefixes.schema="http://schema.org/",this.target.graph.prefixes.describedby="http://www.w3.org/2007/05/powder-s#describedby",this.target.graph.prefixes.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.prefixes.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.prefixes.ssn="http://www.w3.org/ns/ssn/",this.target.graph.prefixes.sosa="http://www.w3.org/ns/sosa/",this.target.graph.prefixes.time="http://www.w3.org/2006/time#"}setXMLContext(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}setHTMLContext(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}setXHTMLContext(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms.alternate="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms.appendix="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms.bookmark="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms.cite="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms.chapter="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms.contents="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms.copyright="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms.first="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms.glossary="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms.help="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms.icon="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms.index="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms.last="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms.license="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms.meta="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms.next="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms.prev="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms.previous="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms.section="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms.stylesheet="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms.subsection="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms.start="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms.top="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms.up="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms.p3pv1="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms.related="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms.role="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms.transformation="http://www.w3.org/1999/xhtml/vocab#transformation",this.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}]}init(){}newSubjectOrigin(e,t){}addTriple(e,t,n,r){var i=this.factory.namedNode(this.options.baseURI)||this.factory.defaultGraph();t="_:"===t.substr(0,2)?this.factory.blankNode(t.substr(2)):this.factory.namedNode(t),n="_:"===n.substr(0,2)?this.factory.blankNode(n.substr(2)):this.factory.namedNode(n),r="http://www.w3.org/1999/02/22-rdf-syntax-ns#object"===r.type?"_:"===r.value.substr(0,2)?this.factory.blankNode(r.value.substr(2)):this.factory.namedNode(r.value):r.language?this.factory.literal(r.value,r.language):this.factory.literal(r.value,this.factory.namedNode(r.type));var o=this.factory.quad(t,n,r,i);this.onTriple(o)}onTriple(e){}deriveDateTimeType(e){for(var t=0;t<this.dateTimeTypes.length;t++){var n=this.dateTimeTypes[t].pattern.exec(e);if(n&&n[0].length==e.length)return this.dateTimeTypes[t].type}return null}process(e,t){this.options=t,9==e.nodeType?(e=e.documentElement,this.setContext(e)):9==e.parentNode.nodeType&&this.setContext(e);var n=[],r=function(e){if(!e&&t&&t.baseURI)return t.baseURI;var n=e.indexOf("#");return n>=0&&(e=e.substring(0,n)),t&&t.baseURIMap&&(e=t.baseURIMap(e)),e};for(n.push({current:e,context:this.push(null,r(e.baseURI))});n.length>0;){var i=n.shift();if(i.parent){if(i.context.parent&&i.context.parent.listMapping==i.listMapping)continue;for(var o in i.listMapping)if(0!=(X=i.listMapping[o]).length){for(var s=[],a=0;a<X.length;a++)s.push(this.newBlankNode());for(a=0;a<s.length;a++)this.addTriple(i.parent,s[a],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",X[a]),this.addTriple(i.parent,s[a],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:this.objectURI,value:a+1<s.length?s[a+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(i.parent,i.subject,o,{type:this.objectURI,value:s[0]})}else this.addTriple(i.parent,i.subject,o,{type:this.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}else{var u=i.current,c=i.context,l=!1,h=null,f=null,d=null,p=c.prefixes,g=!1,y=[],v=c.listMapping,m=!c.parent,b=c.language,_=c.vocabulary,w=this.uriresolver.parseURI(r(u.baseURI));u.item=null;var x=u.getAttributeNode("vocab");if(x)if((T=this.trim(x.value)).length>0){_=T;var I=w.spec;this.addTriple(u,I,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:this.objectURI,value:_})}else _=this.vocabulary;for(a=0;a<u.attributes.length;a++){var N=u.attributes[a];if("x"==N.nodeName.charAt(0)&&0==N.nodeName.indexOf("xmlns:")){g||(p=this.copyMappings(p),g=!0);var j=N.nodeName.substring(6),S=this.trim(N.value);p[j]=this.target.baseURI?this.target.baseURI.resolve(S):S}}var k=u.getAttributeNode("prefix");k&&(g||(p=this.copyMappings(p),g=!0),this.parsePrefixMappings(k.value,p));var T,E=null;for(a=0;!E&&a<this.langAttributes.length;a++)E=u.getAttributeNodeNS(this.langAttributes[a].namespaceURI,this.langAttributes[a].localName);E&&(b=(T=this.trim(E.value)).length>0?T:null);var C=u.getAttributeNode("rel"),O=u.getAttributeNode("rev"),R=u.getAttributeNode("typeof"),A=u.getAttributeNode("property"),L=u.getAttributeNode("datatype"),P=this.inHTMLMode?u.getAttributeNode("datetime"):null,D=u.getAttributeNode("content"),M=u.getAttributeNode("about"),B=u.getAttributeNode("src"),U=u.getAttributeNode("resource"),F=u.getAttributeNode("href"),q=u.getAttributeNode("inlist"),z=[];if(C){var G=this.tokenize(C.value);for(a=0;a<G.length;a++)(o=this.parsePredicate(G[a],_,c.terms,p,w,this.inHTMLMode&&null!=A))&&z.push(o)}var H=[];if(O)for(G=this.tokenize(O.value),a=0;a<G.length;a++)(o=this.parsePredicate(G[a],_,c.terms,p,w,this.inHTMLMode&&null!=A))&&H.push(o);if(!this.inHTMLMode||null==C&&null==O||null==A||(0==z.length&&(C=null),0==H.length&&(O=null)),C||O?(M&&(h=this.parseSafeCURIEOrCURIEOrURI(M.value,p,w)),R&&(d=h),h||(9==u.parentNode.nodeType?h=r(u.baseURI):c.parentObject&&(h=r(u.parentNode.baseURI)==c.parentObject?r(u.baseURI):c.parentObject)),U&&(f=this.parseSafeCURIEOrCURIEOrURI(U.value,p,w)),f||(F?f=this.resolveAndNormalize(w,encodeURI(F.value)):B?f=this.resolveAndNormalize(w,encodeURI(B.value)):!R||M||this.inXHTMLMode&&("head"==u.localName||"body"==u.localName)||(f=this.newBlankNode())),!R||M||!this.inXHTMLMode||"head"!=u.localName&&"body"!=u.localName?R&&!M&&(d=f):d=h):!A||D||L?(M&&(h=this.parseSafeCURIEOrCURIEOrURI(M.value,p,w)),!h&&U&&(h=this.parseSafeCURIEOrCURIEOrURI(U.value,p,w)),!h&&F&&(h=this.resolveAndNormalize(w,encodeURI(F.value))),!h&&B&&(h=this.resolveAndNormalize(w,encodeURI(B.value))),h||(9==u.parentNode.nodeType?h=r(u.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!=u.localName&&"body"!=u.localName?R?h=this.newBlankNode():c.parentObject&&(h=r(u.parentNode.baseURI)==c.parentObject?r(u.baseURI):c.parentObject,A||(l=!0)):h=r(u.parentNode.baseURI)==c.parentObject?r(u.baseURI):c.parentObject),R&&(d=h)):(M&&(h=this.parseSafeCURIEOrCURIEOrURI(M.value,p,w),R&&(d=h)),h||9!=u.parentNode.nodeType?!h&&c.parentObject&&(h=r(u.parentNode.baseURI)==c.parentObject?r(u.baseURI):c.parentObject):(h=r(u.baseURI),R&&(d=h)),R&&!d&&(U&&(d=this.parseSafeCURIEOrCURIEOrURI(U.value,p,w)),!d&&F&&(d=this.resolveAndNormalize(w,encodeURI(F.value))),!d&&B&&(d=this.resolveAndNormalize(w,encodeURI(B.value))),d||!this.inXHTMLMode&&!this.inHTMLMode||"head"!=u.localName&&"body"!=u.localName||(d=h),d||(d=this.newBlankNode()),f=d)),h&&(M||U||d)){var V=h;R&&!M&&!U&&f&&(V=f),this.newSubjectOrigin(u,V)}if(d)for(G=this.tokenize(R.value),a=0;a<G.length;a++){var J=this.parseTermOrCURIEOrAbsURI(G[a],_,c.terms,p,w);J&&this.addTriple(u,d,this.typeURI,{type:this.objectURI,value:J})}if(h&&h!=c.parentObject&&(v={},m=!0),f){if(C&&q)for(a=0;a<z.length;a++)(X=v[z[a]])||(X=[],v[z[a]]=X),X.push({type:this.objectURI,value:f});else if(C)for(a=0;a<z.length;a++)this.addTriple(u,h,z[a],{type:this.objectURI,value:f});if(O)for(a=0;a<H.length;a++)this.addTriple(u,f,H[a],{type:this.objectURI,value:h})}else{if(h&&!f&&(C||O)&&(f=this.newBlankNode()),C&&q)for(a=0;a<z.length;a++)(X=v[z[a]])||(X=[],v[o]=X),y.push({predicate:z[a],list:X});else if(C)for(a=0;a<z.length;a++)y.push({predicate:z[a],forward:!0});if(O)for(a=0;a<H.length;a++)y.push({predicate:H[a],forward:!1})}if(A){var Q=null,$=null;for(L?(Q=""==L.value?this.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(L.value,_,c.terms,p,w),$=P&&!D?P.value:Q==this.XMLLiteralURI||Q==this.HTMLLiteralURI?null:D?D.value:u.textContent):D?(Q=this.PlainLiteralURI,$=D.value):P?($=P.value,(Q=this.deriveDateTimeType($))||(Q=this.PlainLiteralURI)):C||O||(U&&($=this.parseSafeCURIEOrCURIEOrURI(U.value,p,w)),!$&&F?$=this.resolveAndNormalize(w,encodeURI(F.value)):!$&&B&&($=this.resolveAndNormalize(w,encodeURI(B.value))),$&&(Q=this.objectURI)),Q||(R&&!M?(Q=this.objectURI,$=d):($=u.textContent,this.inHTMLMode&&"time"==u.localName&&(Q=this.deriveDateTimeType($)),Q||(Q=this.PlainLiteralURI))),G=this.tokenize(A.value),a=0;a<G.length;a++){var X;(o=this.parsePredicate(G[a],_,c.terms,p,w))&&(q?((X=v[o])||(X=[],v[o]=X),X.push(Q==this.XMLLiteralURI||Q==this.HTMLLiteralURI?{type:Q,value:u.childNodes}:{type:Q||this.PlainLiteralURI,value:$,language:b})):Q==this.XMLLiteralURI||Q==this.HTMLLiteralURI?this.addTriple(u,h,o,{type:Q,value:u.childNodes}):this.addTriple(u,h,o,{type:Q||this.PlainLiteralURI,value:$,language:b}))}}if(h&&!l)for(a=0;a<c.incomplete.length;a++)c.incomplete[a].list?c.incomplete[a].list.push({type:this.objectURI,value:h}):c.incomplete[a].forward?this.addTriple(u,c.subject,c.incomplete[a].predicate,{type:this.objectURI,value:h}):this.addTriple(u,h,c.incomplete[a].predicate,{type:this.objectURI,value:c.subject});var W=null,Y=h;l?((W=this.push(c,c.subject)).parentObject=r(u.parentNode.baseURI)==c.parentObject?r(u.baseURI):c.parentObject,W.incomplete=c.incomplete,W.language=b,W.prefixes=p,W.vocabulary=_):((W=this.push(c,h)).parentObject=f||h||c.subject,W.prefixes=p,W.incomplete=y,f&&(Y=f,v={},m=!0),W.listMapping=v,W.language=b,W.vocabulary=_),m&&n.unshift({parent:u,context:c,subject:Y,listMapping:v});for(var Z=u.lastChild;Z;Z=Z.previousSibling)1==Z.nodeType&&n.unshift({current:Z,context:W})}}for(this.inHTMLMode&&this.copyProperties(),a=0;a<this.finishedHandlers.length;a++)this.finishedHandlers[a](e);this.onTriple(null)}copyProperties(){}push(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}}},function(e,t){const n=/^[A-Za-z][A-Za-z0-9\+\-\.]*\:/;e.exports=class{parseURI(e){var t=n.exec(e);if(!t)throw"Bad URI value, no scheme: "+e;var r={spec:e};return r.scheme=t[0].substring(0,t[0].length-1),r.schemeSpecificPart=r.spec.substring(t[0].length),"/"==r.schemeSpecificPart.charAt(0)&&"/"==r.schemeSpecificPart.charAt(1)?this.parseGeneric(r):r.isGeneric=!1,r.normalize=function(){if(this.isGeneric&&0!=this.segments.length){if(this.path.length>1&&"/."==this.path.substring(this.path.length-2))return this.path=this.path.substring(0,this.path.length-1),this.segments.splice(this.segments.length-1,1),this.schemeSpecificPart="//"+this.authority+this.path,void 0!==this.query&&(this.schemeSpecificPart+="?"+this.query),void 0!==this.fragment&&(this.schemeSpecificPart+="#"+this.fragment),void(this.spec=this.scheme+":"+this.schemeSpecificPart);var e=this.path.charAt(this.path.length-1);"/"!=e&&(e="");for(var t=0;t<this.segments.length;t++)t>0&&".."==this.segments[t]&&(this.segments.splice(t-1,2),t-=2),"."==this.segments[t]&&(this.segments.splice(t,1),t--);this.path=0==this.segments.length?"/":"/"+this.segments.join("/")+e,this.schemeSpecificPart="//"+this.authority+this.path,void 0!==this.query&&(this.schemeSpecificPart+="?"+this.query),void 0!==this.fragment&&(this.schemeSpecificPart+="#"+this.fragment),this.spec=this.scheme+":"+this.schemeSpecificPart}},r.resolve=function(e){if(!e)return this.spec;if("#"==e.charAt(0)){var t=this.spec.lastIndexOf("#");return t<0?this.spec+e:this.spec.substring(0,t)+e}if(!this.isGeneric)throw"Cannot resolve uri against non-generic URI: "+this.spec;if(e.indexOf(":"),"/"==e.charAt(0))return this.scheme+"://"+this.authority+e;if("."==e.charAt(0)&&"/"==e.charAt(1)){if("/"==this.path.charAt(this.path.length-1))return this.scheme+"://"+this.authority+this.path+e.substring(2);var r=this.path.lastIndexOf("/");return this.scheme+"://"+this.authority+this.path.substring(0,r)+e.substring(1)}return n.test(e)?e:"?"==e.charAt(0)?this.scheme+"://"+this.authority+this.path+e:"/"==this.path.charAt(this.path.length-1)?this.scheme+"://"+this.authority+this.path+e:(r=this.path.lastIndexOf("/"),this.scheme+"://"+this.authority+this.path.substring(0,r+1)+e)},r.relativeTo=function(e){if(e.scheme!=this.scheme)return this.spec;if(!this.isGeneric)throw"A non generic URI cannot be made relative: "+this.spec;if(!e.isGeneric)throw"Cannot make a relative URI against a non-generic URI: "+e.spec;if(e.authority!=this.authority)return this.spec;for(var t=0;t<this.segments.length&&t<e.segments.length;t++)if(this.segments[t]!=e.segments[t]){for(var n="/"==e.path.charAt(e.path.length-1)?0:-1,r="",i=t;i<e.segments.length+n;i++)r+="../";for(i=t;i<this.segments.length;i++)r+=this.segments[i],i+1<this.segments.length&&(r+="/");return"/"==this.path.charAt(this.path.length-1)&&(r+="/"),r}if(this.segments.length==e.segments.length)return this.hash?this.hash:this.query?this.query:"";if(t<this.segments.length){for(r="",i=t;i<this.segments.length;i++)r+=this.segments[i],i+1<this.segments.length&&(r+="/");return"/"==this.path.charAt(this.path.length-1)&&(r+="/"),r}throw"Cannot calculate a relative URI for "+this.spec+" against "+e.spec},r}parseGeneric(e){if("/"!=e.schemeSpecificPart.charAt(0)||"/"!=e.schemeSpecificPart.charAt(1))throw"Generic URI values should start with '//':"+e.spec;var t=e.schemeSpecificPart.substring(2),n=t.indexOf("/");e.authority=n<0?t:t.substring(0,n),e.path=n<0?"":t.substring(n);var r=e.path.indexOf("#");r>=0&&(e.fragment=e.path.substring(r+1),e.path=e.path.substring(0,r));var i=e.path.indexOf("?");if(i>=0&&(e.query=e.path.substring(i+1),e.path=e.path.substring(0,i)),"/"==e.path||""==e.path)e.segments=[];else{e.segments=e.path.split(/\//),e.segments.length>0&&""==e.segments[0]&&e.path.length>1&&"/"!=e.path.charAt(1)&&e.segments.shift(),e.segments.length>0&&e.path.length>0&&"/"==e.path.charAt(e.path.length-1)&&""==e.segments[e.segments.length-1]&&e.path.length>1&&"/"!=e.path.charAt(e.path.length-2)&&e.segments.pop();for(var o=0;o<e.segments.length;o++)for(var s=e.segments[o].split(/%[A-Za-z0-9][A-Za-z0-9]|[\ud800-\udfff][\ud800-\udfff]|[A-Za-z0-9\-\._~!$&'()*+,;=@:\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/),a=0;a<s.length;a++)if(s[a].length>0)throw"Unecaped character "+s[a].charAt(0)+" ("+s[a].charCodeAt(0)+") in URI "+e.spec}e.isGeneric=!0}}},function(e,t,n){e.exports={DataFactory:n(28),Lexer:n(88),Parser:n(89),Writer:n(90),Store:n(163),StreamParser:n(164),StreamWriter:n(165),Util:n(166)}},function(e,t,n){var r=n(28),i=r.internal.toId,o=r.internal.fromId;function s(e,t){if(!(this instanceof s))return new s(e,t);this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._factory=t.factory||r,e&&this.addQuads(e)}function a(e){return"string"==typeof e||e instanceof String}s.prototype={get size(){var e=this._size;if(null!==e)return e;e=0;var t,n,r=this._graphs;for(var i in r)for(var o in t=r[i].subjects)for(var s in n=t[o])e+=Object.keys(n[s]).length;return this._size=e},_addToIndex:function(e,t,n,r){var i=e[t]||(e[t]={}),o=i[n]||(i[n]={}),s=r in o;return s||(o[r]=null),!s},_removeFromIndex:function(e,t,n,r){var i,o=e[t],s=o[n];for(i in delete s[r],s)return;for(i in delete o[n],o)return;delete e[t]},_findInIndex:function(e,t,n,r,i,s,a,u,c,l){var h,f,d,p=!t+!n+!r>1?Object.keys(this._ids):this._entities;for(var g in t&&((h=e,e={})[t]=h[t]),e){var y=p[g];if(f=e[g])for(var v in n&&((h=f,f={})[n]=h[n]),f){var m=p[v];if(d=f[v])for(var b=(r?r in d?[r]:[]:Object.keys(d)),_=0;_<b.length;_++){var w={subject:null,predicate:null,object:null};w[i]=o(y,this._factory),w[s]=o(m,this._factory),w[a]=o(p[b[_]],this._factory);var x=this._factory.quad(w.subject,w.predicate,w.object,o(u,this._factory));if(l)l.push(x);else if(c(x))return!0}}}return l},_loop:function(e,t){for(var n in e)t(n)},_loopByKey0:function(e,t,n){var r,i;if(r=e[t])for(i in r)n(i)},_loopByKey1:function(e,t,n){var r;for(r in e)e[r][t]&&n(r)},_loopBy2Keys:function(e,t,n,r){var i,o,s;if((i=e[t])&&(o=i[n]))for(s in o)r(s)},_countInIndex:function(e,t,n,r){var i,o,s,a=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in n&&((i=o,o={})[n]=i[n]),o)(s=o[c])&&(r?r in s&&a++:a+=Object.keys(s).length);return a},_getGraphs:function(e){if(!a(e))return this._graphs;var t={};return t[e]=this._graphs[e],t},_uniqueEntities:function(e){var t=Object.create(null),n=this._entities;return function(r){r in t||(t[r]=!0,e(o(n[r])))}},addQuad:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=i(e),t=i(t),n=i(n),r=i(r);var o=this._graphs[r];o||(o=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(o));var s=this._ids,a=this._entities;e=s[e]||(s[a[++this._id]=e]=this._id),t=s[t]||(s[a[++this._id]=t]=this._id),n=s[n]||(s[a[++this._id]=n]=this._id);var u=this._addToIndex(o.subjects,e,t,n);return this._addToIndex(o.predicates,t,n,e),this._addToIndex(o.objects,n,e,t),this._size=null,u},addQuads:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])},import:function(e){var t=this;return e.on("data",function(e){t.addQuad(e)}),e},removeQuad:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=i(e),t=i(t),n=i(n),r=i(r);var o,s,a,u=this._ids,c=this._graphs;if(!((e=u[e])&&(t=u[t])&&(n=u[n])&&(o=c[r])&&(s=o.subjects[e])&&(a=s[t])&&n in a))return!1;for(e in this._removeFromIndex(o.subjects,e,t,n),this._removeFromIndex(o.predicates,t,n,e),this._removeFromIndex(o.objects,n,e,t),null!==this._size&&this._size--,o.subjects)return!0;return delete c[r],!0},removeQuads:function(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])},remove:function(e){var t=this;return e.on("data",function(e){t.removeQuad(e)}),e},getQuads:function(e,t,n,r){e=e&&i(e),t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c,l=[],h=this._getGraphs(r),f=this._ids;if(a(e)&&!(s=f[e])||a(t)&&!(u=f[t])||a(n)&&!(c=f[n]))return l;for(var d in h)(o=h[d])&&(s?c?this._findInIndex(o.objects,c,s,u,"object","subject","predicate",d,null,l):this._findInIndex(o.subjects,s,u,null,"subject","predicate","object",d,null,l):u?this._findInIndex(o.predicates,u,c,null,"predicate","object","subject",d,null,l):c?this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d,null,l):this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d,null,l));return l},countQuads:function(e,t,n,r){e=e&&i(e),t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c,l=0,h=this._getGraphs(r),f=this._ids;if(a(e)&&!(s=f[e])||a(t)&&!(u=f[t])||a(n)&&!(c=f[n]))return 0;for(var d in h)(o=h[d])&&(l+=e?n?this._countInIndex(o.objects,c,s,u):this._countInIndex(o.subjects,s,u,c):t?this._countInIndex(o.predicates,u,c,s):this._countInIndex(o.objects,c,s,u));return l},forEach:function(e,t,n,r,i){this.some(function(t){return e(t),!1},t,n,r,i)},every:function(e,t,n,r,i){var o=!1,s=!this.some(function(t){return o=!0,!e(t)},t,n,r,i);return o&&s},some:function(e,t,n,r,o){t=t&&i(t),n=n&&i(n),r=r&&i(r),o=o&&i(o);var s,u,c,l,h=this._getGraphs(o),f=this._ids;if(a(t)&&!(u=f[t])||a(n)&&!(c=f[n])||a(r)&&!(l=f[r]))return!1;for(var d in h)if(s=h[d])if(u){if(l){if(this._findInIndex(s.objects,l,u,c,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(s.subjects,u,c,null,"subject","predicate","object",d,e,null))return!0}else if(c){if(this._findInIndex(s.predicates,c,l,null,"predicate","object","subject",d,e,null))return!0}else if(l){if(this._findInIndex(s.objects,l,null,null,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",d,e,null))return!0;return!1},getSubjects:function(e,t,n){var r=[];return this.forSubjects(function(e){r.push(e)},e,t,n),r},forSubjects:function(e,t,n,r){t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(a(t)&&!(s=c[t])||a(n)&&!(u=c[n])))for(r in l)(o=l[r])&&(s?u?this._loopBy2Keys(o.predicates,s,u,e):this._loopByKey1(o.subjects,s,e):u?this._loopByKey0(o.objects,u,e):this._loop(o.subjects,e))},getPredicates:function(e,t,n){var r=[];return this.forPredicates(function(e){r.push(e)},e,t,n),r},forPredicates:function(e,t,n,r){t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(a(t)&&!(s=c[t])||a(n)&&!(u=c[n])))for(r in l)(o=l[r])&&(s?u?this._loopBy2Keys(o.objects,u,s,e):this._loopByKey0(o.subjects,s,e):u?this._loopByKey1(o.predicates,u,e):this._loop(o.predicates,e))},getObjects:function(e,t,n){var r=[];return this.forObjects(function(e){r.push(e)},e,t,n),r},forObjects:function(e,t,n,r){t=t&&i(t),n=n&&i(n),r=r&&i(r);var o,s,u,c=this._ids,l=this._getGraphs(r);if(e=this._uniqueEntities(e),!(a(t)&&!(s=c[t])||a(n)&&!(u=c[n])))for(r in l)(o=l[r])&&(s?u?this._loopBy2Keys(o.subjects,s,u,e):this._loopByKey1(o.objects,s,e):u?this._loopByKey0(o.predicates,u,e):this._loop(o.objects,e))},getGraphs:function(e,t,n){var r=[];return this.forGraphs(function(e){r.push(e)},e,t,n),r},forGraphs:function(e,t,n,r){for(var i in this._graphs)this.some(function(t){return e(t.graph),!0},t,n,r,i)},createBlankNode:function(e){var t,n;if(e)for(t=e="_:"+e,n=1;this._ids[t];)t=e+n++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}},e.exports=s},function(e,t,n){var r=n(21).Transform,i=n(4),o=n(89);function s(e){if(!(this instanceof s))return new s(e);r.call(this,{decodeStrings:!0}),this._readableState.objectMode=!0;var t,n,i=this;new o(e).parse({on:function(e,r){switch(e){case"data":t=r;break;case"end":n=r}}},function(e,t){e&&i.emit("error",e)||t&&i.push(t)},function(e,t){i.emit("prefix",e,t)}),this._transform=function(e,n,r){t(e),r()},this._flush=function(e){n(),e()}}i.inherits(s,r),s.prototype.import=function(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),this},e.exports=s},function(e,t,n){var r=n(21).Transform,i=n(4),o=n(90);function s(e){if(!(this instanceof s))return new s(e);r.call(this,{encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,n=this._writer=new o({write:function(e,n,r){t.push(e),r&&r()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,r){n.addQuad(e,r)},this._flush=function(e){n.end(e)}}i.inherits(s,r),s.prototype.import=function(e){var t=this;return e.on("data",function(e){t.write(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.emit("error",e)}),e.on("prefix",function(e,n){t._writer.addPrefix(e,n)}),this},e.exports=s},function(e,t,n){var r=n(28),i={isNamedNode:function(e){return!!e&&"NamedNode"===e.termType},isBlankNode:function(e){return!!e&&"BlankNode"===e.termType},isLiteral:function(e){return!!e&&"Literal"===e.termType},isVariable:function(e){return!!e&&"Variable"===e.termType},isDefaultGraph:function(e){return!!e&&"DefaultGraph"===e.termType},inDefaultGraph:function(e){return i.isDefaultGraph(e.graph)},prefix:function(e,t){return i.prefixes({"":e},t)("")},prefixes:function(e,t){var n=Object.create(null);for(var i in e)o(i,e[i]);function o(e,r){if("string"==typeof r){var i=Object.create(null);n[e]=function(e){return i[e]||(i[e]=t.namedNode(r+e))}}else if(!(e in n))throw new Error("Unknown prefix: "+e);return n[e]}return t=t||r,o}};e.exports=i},function(e,t){e.exports=function(e,t){var n=(new DOMParser).parseFromString(e,"text/html");return n.URL=t,n.documentURI=t,n}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var o=n(169),s=n(173),a=n(178),u=function(){function e(e,t){void 0===e&&(e=5e3),void 0===t&&(t=6e4),this.parser=new s.default,this.fetcher=new a.default,this.tripleCache=new o({max:e,maxAge:t,stale:!0,noDisposeOnSet:!0}),this.runningPromises=[]}return e.prototype.getNode=function(e){return r(this,void 0,void 0,function(){var t,n,r,o,s,a;return i(this,function(i){switch(i.label){case 0:return[4,Promise.all(this.runningPromises)];case 1:return i.sent(),this.tripleCache.peek(e)?[3,3]:(r=this.fetchTriples(e),this.runningPromises.push(r),n=(t=this.parser).parseNode,[4,r]);case 2:return[2,n.apply(t,[i.sent()])];case 3:r=this.tripleCache.get(e),i.label=4;case 4:return i.trys.push([4,5,,7]),[2,this.parser.parseNode(r)];case 5:return i.sent(),o=this.fetchTriples(e),this.runningPromises.push(o),a=(s=this.parser).parseNode,[4,o];case 6:return[2,a.apply(s,[i.sent()])];case 7:return[2]}})})},e.prototype.getMember=function(e){return r(this,void 0,void 0,function(){var t,n,r,o,s,a;return i(this,function(i){switch(i.label){case 0:return[4,Promise.all(this.runningPromises)];case 1:return i.sent(),this.tripleCache.peek(e)?[3,3]:(r=this.fetchTriples(e),this.runningPromises.push(r),n=(t=this.parser).parseMember,[4,r]);case 2:return[2,n.apply(t,[i.sent()])];case 3:r=this.tripleCache.get(e),i.label=4;case 4:return i.trys.push([4,5,,7]),[2,this.parser.parseMember(r)];case 5:return i.sent(),o=this.fetchTriples(e),this.runningPromises.push(o),a=(s=this.parser).parseMember,[4,o];case 6:return[2,a.apply(s,[i.sent()])];case 7:return[2]}})})},e.prototype.getChildRelation=function(e){return r(this,void 0,void 0,function(){var t,n,r,o,s,a;return i(this,function(i){switch(i.label){case 0:return[4,Promise.all(this.runningPromises)];case 1:return i.sent(),this.tripleCache.peek(e)?[3,3]:(r=this.fetchTriples(e),this.runningPromises.push(r),n=(t=this.parser).parseChildRelation,[4,r]);case 2:return[2,n.apply(t,[i.sent()])];case 3:r=this.tripleCache.get(e),i.label=4;case 4:return i.trys.push([4,5,,7]),[2,this.parser.parseChildRelation(r)];case 5:return i.sent(),o=this.fetchTriples(e),this.runningPromises.push(o),a=(s=this.parser).parseChildRelation,[4,o];case 6:return[2,a.apply(s,[i.sent()])];case 7:return[2]}})})},e.prototype.getCollection=function(e){return r(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return[4,Promise.all(this.runningPromises)];case 1:return r.sent(),this.tripleCache.peek(e)?[3,3]:[4,this.fetchTriples(e)];case 2:return t=r.sent(),this.runningPromises.push(t),[2,this.parser.parseCollection(t)];case 3:t=this.tripleCache.get(e),r.label=4;case 4:return r.trys.push([4,5,,7]),[2,this.parser.parseCollection(t)];case 5:return r.sent(),[4,this.fetchTriples(e)];case 6:return n=r.sent(),this.runningPromises.push(n),[2,this.parser.parseCollection(n)];case 7:return[2]}})})},e.prototype.fetchTriples=function(e){return r(this,void 0,void 0,function(){var t,n,r=this;return i(this,function(i){switch(i.label){case 0:return t=void 0,[4,this.fetcher.getTriplesBySubject(e)];case 1:return n=i.sent(),Object.keys(n).forEach(function(i){e===i&&(t=n[i]),r.tripleCache.set(i,n[i])}),[2,t]}})})},e}();t.default=u},function(e,t,n){"use strict";e.exports=v;var r,i=n(170),o=n(4),s=n(172),a=(r="function"==typeof Symbol?function(e){return Symbol(e)}:function(e){return"_"+e})("max"),u=r("length"),c=r("lengthCalculator"),l=r("allowStale"),h=r("maxAge"),f=r("dispose"),d=r("noDisposeOnSet"),p=r("lruList"),g=r("cache");function y(){return 1}function v(e){if(!(this instanceof v))return new v(e);"number"==typeof e&&(e={max:e}),e||(e={});var t=this[a]=e.max;(!t||"number"!=typeof t||t<=0)&&(this[a]=1/0);var n=e.length||y;"function"!=typeof n&&(n=y),this[c]=n,this[l]=e.stale||!1,this[h]=e.maxAge||0,this[f]=e.dispose,this[d]=e.noDisposeOnSet||!1,this.reset()}function m(e,t,n,r){var i=n.value;_(e,i)&&(x(e,n),e[l]||(i=void 0)),i&&t.call(r,i.value,i.key,e)}function b(e,t,n){var r=e[g].get(t);if(r){var i=r.value;_(e,i)?(x(e,r),e[l]||(i=void 0)):n&&e[p].unshiftNode(r),i&&(i=i.value)}return i}function _(e,t){if(!t||!t.maxAge&&!e[h])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[h]&&n>e[h]}function w(e){if(e[u]>e[a])for(var t=e[p].tail;e[u]>e[a]&&null!==t;){var n=t.prev;x(e,t),t=n}}function x(e,t){if(t){var n=t.value;e[f]&&e[f](n.key,n.value),e[u]-=n.length,e[g].delete(n.key),e[p].removeNode(t)}}Object.defineProperty(v.prototype,"max",{set:function(e){(!e||"number"!=typeof e||e<=0)&&(e=1/0),this[a]=e,w(this)},get:function(){return this[a]},enumerable:!0}),Object.defineProperty(v.prototype,"allowStale",{set:function(e){this[l]=!!e},get:function(){return this[l]},enumerable:!0}),Object.defineProperty(v.prototype,"maxAge",{set:function(e){(!e||"number"!=typeof e||e<0)&&(e=0),this[h]=e,w(this)},get:function(){return this[h]},enumerable:!0}),Object.defineProperty(v.prototype,"lengthCalculator",{set:function(e){"function"!=typeof e&&(e=y),e!==this[c]&&(this[c]=e,this[u]=0,this[p].forEach(function(e){e.length=this[c](e.value,e.key),this[u]+=e.length},this)),w(this)},get:function(){return this[c]},enumerable:!0}),Object.defineProperty(v.prototype,"length",{get:function(){return this[u]},enumerable:!0}),Object.defineProperty(v.prototype,"itemCount",{get:function(){return this[p].length},enumerable:!0}),v.prototype.rforEach=function(e,t){t=t||this;for(var n=this[p].tail;null!==n;){var r=n.prev;m(this,e,n,t),n=r}},v.prototype.forEach=function(e,t){t=t||this;for(var n=this[p].head;null!==n;){var r=n.next;m(this,e,n,t),n=r}},v.prototype.keys=function(){return this[p].toArray().map(function(e){return e.key},this)},v.prototype.values=function(){return this[p].toArray().map(function(e){return e.value},this)},v.prototype.reset=function(){this[f]&&this[p]&&this[p].length&&this[p].forEach(function(e){this[f](e.key,e.value)},this),this[g]=new i,this[p]=new s,this[u]=0},v.prototype.dump=function(){return this[p].map(function(e){if(!_(this,e))return{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}},this).toArray().filter(function(e){return e})},v.prototype.dumpLru=function(){return this[p]},v.prototype.inspect=function(e,t){var n="LRUCache {",r=!1;this[l]&&(n+="\n  allowStale: true",r=!0);var i=this[a];i&&i!==1/0&&(r&&(n+=","),n+="\n  max: "+o.inspect(i,t),r=!0);var s=this[h];s&&(r&&(n+=","),n+="\n  maxAge: "+o.inspect(s,t),r=!0);var f=this[c];f&&f!==y&&(r&&(n+=","),n+="\n  length: "+o.inspect(this[u],t),r=!0);var d=!1;return this[p].forEach(function(e){d?n+=",\n  ":(r&&(n+=",\n"),d=!0,n+="\n  ");var i=o.inspect(e.key).split("\n").join("\n  "),a={value:e.value};e.maxAge!==s&&(a.maxAge=e.maxAge),f!==y&&(a.length=e.length),_(this,e)&&(a.stale=!0),a=o.inspect(a,t).split("\n").join("\n  "),n+=i+" => "+a}),(d||r)&&(n+="\n"),n+="}"},v.prototype.set=function(e,t,n){var r=(n=n||this[h])?Date.now():0,i=this[c](t,e);if(this[g].has(e)){if(i>this[a])return x(this,this[g].get(e)),!1;var o=this[g].get(e).value;return this[f]&&(this[d]||this[f](e,o.value)),o.now=r,o.maxAge=n,o.value=t,this[u]+=i-o.length,o.length=i,this.get(e),w(this),!0}var s=new function(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}(e,t,i,r,n);return s.length>this[a]?(this[f]&&this[f](e,t),!1):(this[u]+=s.length,this[p].unshift(s),this[g].set(e,this[p].head),w(this),!0)},v.prototype.has=function(e){return!!this[g].has(e)&&!_(this,this[g].get(e).value)},v.prototype.get=function(e){return b(this,e,!0)},v.prototype.peek=function(e){return b(this,e,!1)},v.prototype.pop=function(){var e=this[p].tail;return e?(x(this,e),e.value):null},v.prototype.del=function(e){x(this,this[g].get(e))},v.prototype.load=function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{var o=i-t;o>0&&this.set(r.k,r.v,o)}}},v.prototype.prune=function(){var e=this;this[g].forEach(function(t,n){b(e,n,!1)})}},function(e,t,n){(function(t){"pseudomap"===t.env.npm_package_name&&"test"===t.env.npm_lifecycle_script&&(t.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||t.env.TEST_PSEUDOMAP?e.exports=n(171):e.exports=Map}).call(this,n(0))},function(e,t){var n=Object.prototype.hasOwnProperty;function r(e){if(!(this instanceof r))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof r||"function"==typeof Map&&e instanceof Map)e.forEach(function(e,t){this.set(t,e)},this);else{if(!Array.isArray(e))throw new TypeError("invalid argument");e.forEach(function(e){this.set(e[0],e[1])},this)}}function i(e,t){return e===t||e!=e&&t!=t}function o(e,t){for(var r=0,o="_"+t,s=o;n.call(e,s);s=o+r++)if(i(e[s].key,t))return e[s]}e.exports=r,r.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach(function(n){"size"!==n&&e.call(t,this._data[n].value,this._data[n].key)},this)},r.prototype.has=function(e){return!!o(this._data,e)},r.prototype.get=function(e){var t=o(this._data,e);return t&&t.value},r.prototype.set=function(e,t){!function(e,t,r){for(var o=0,s="_"+t,a=s;n.call(e,a);a=s+o++)if(i(e[a].key,t))return void(e[a].value=r);e.size++,e[a]=new function(e,t,n){this.key=e,this.value=t,this._index=n}(t,r,a)}(this._data,e,t)},r.prototype.delete=function(e){var t=o(this._data,e);t&&(delete this._data[t._index],this._data.size--)},r.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(r.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0}),r.prototype.values=r.prototype.keys=r.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(e,t){function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function r(e,t){e.tail=new o(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function i(e,t){e.head=new o(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function o(e,t,n,r){if(!(this instanceof o))return new o(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=n,n.Node=o,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)r(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},n.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},n.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},n.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(174),i=n(175),o=n(176),s=n(177),a=function(){function e(){this.singles=new Set,this.singles.add("https://w3id.org/tree#value"),this.singles.add("http://www.w3.org/ns/hydra/core#totalItems")}return e.prototype.parseTriples=function(e,t){if(t===r.default.Member)return e;for(var n={},i=0;i<e.length;i++){var o=e[i],s=o.subject.value,a=o.predicate.value,u=o.object.value;this.addTriple(n,s,a,u,this.singles.has(a))}return n},e.prototype.addTriple=function(e,t,n,r,i){e.hasOwnProperty(t)||(e[t]={});var o=e[t];i?o[n]=r:(o.hasOwnProperty(n)||(o[n]=[]),o[n].push(r))},e.prototype.parseNode=function(e){var t=this.parseTriples(e,r.default.Node),n=(t=t[Object.keys(t)[0]])["https://w3id.org/tree#value"],o=t.hasOwnProperty("https://w3id.org/tree#hasChildRelation")?t["https://w3id.org/tree#hasChildRelation"]:[],s=t.hasOwnProperty("http://www.w3.org/ns/hydra/core#member")?t["http://www.w3.org/ns/hydra/core#member"]:[],a=t.hasOwnProperty("http://www.w3.org/ns/hydra/core#totalItems")?Number(t["http://www.w3.org/ns/hydra/core#totalItems"]):NaN;try{return new i.default(n,o,s,a)}catch(e){throw e}},e.prototype.parseChildRelation=function(e){var t=this.parseTriples(e,r.default.ChildRelation),n=(t=t[Object.keys(t)[0]])["https://w3id.org/tree#child"],i=t["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"];try{return new o.default(n,i)}catch(e){throw e}},e.prototype.parseCollection=function(e){var t=this.parseTriples(e,r.default.Collection),n=(t=t[Object.keys(t)[0]]).hasOwnProperty("http://www.w3.org/ns/hydra/core#manages")?t["http://www.w3.org/ns/hydra/core#manages"]:[],i=t.hasOwnProperty("http://www.w3.org/ns/hydra/core#member")?t["http://www.w3.org/ns/hydra/core#member"]:[],o=t.hasOwnProperty("http://www.w3.org/ns/hydra/core#totalItems")?Number(t["http://www.w3.org/ns/hydra/core#totalItems"]):NaN,a=t.hasOwnProperty("http://www.w3.org/ns/hydra/core#view")?t["http://www.w3.org/ns/hydra/core#view"]:[];try{return new s.default(n,o,i,a)}catch(e){throw e}},e.prototype.parseMember=function(e){return e},e}();t.default=a},function(e,t,n){"use strict";var r;t.__esModule=!0,function(e){e[e.Member=0]="Member",e[e.Node=1]="Node",e[e.Collection=2]="Collection",e[e.ChildRelation=3]="ChildRelation"}(r||(r={})),t.default=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var o=n(33),s=function(){function e(e,t,n,r){if(void 0===e)throw"Invalid node";this.value=e,this.childRelations=t,this.members=n,this.totalItems=r}return e.prototype.getValue=function(){return this.value},e.prototype.getChildRelations=function(){return r(this,void 0,void 0,function(){var e,t,n,r;return i(this,function(i){switch(i.label){case 0:e=o.default.getInstance(),t=[],n=0,i.label=1;case 1:return n<this.childRelations.length?[4,e.getChildRelation(this.childRelations[n])]:[3,4];case 2:r=i.sent(),t.push(r),i.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},e.prototype.getMembers=function(){return r(this,void 0,void 0,function(){var e,t,n,r;return i(this,function(i){switch(i.label){case 0:e=o.default.getInstance(),t=[],n=0,i.label=1;case 1:return n<this.members.length?[4,e.getMember(this.members[n])]:[3,4];case 2:r=i.sent(),t.push(r),i.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},e.prototype.getTotalItems=function(){return this.totalItems},e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var o=n(33),s=function(){function e(e,t){if(e.length<1||t.length<1)throw"Invalid childrelation";this.children=e,this.relationTypes=t}return e.prototype.getChildren=function(){return r(this,void 0,void 0,function(){var e,t,n,r;return i(this,function(i){switch(i.label){case 0:e=o.default.getInstance(),t=[],n=0,i.label=1;case 1:return n<this.children.length?[4,e.getNode(this.children[n])]:[3,4];case 2:r=i.sent(),t.push(r),i.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},e.prototype.getRelationType=function(){return this.relationTypes},e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var o=n(33),s=function(){function e(e,t,n,r){if(r.length<1)throw"Invalid collection";this.manages=e,this.totalItems=t,this.members=n,this.views=r}return e.prototype.getManaged=function(){return this.manages},e.prototype.getTotalItems=function(){return this.totalItems},e.prototype.getMembers=function(){return this.members},e.prototype.getViews=function(){return r(this,void 0,void 0,function(){var e,t,n,r;return i(this,function(i){switch(i.label){case 0:e=o.default.getInstance(),t=[],n=0,i.label=1;case 1:return n<this.views.length?[4,e.getNode(this.views[n])]:[3,4];case 2:r=i.sent(),t.push(r),i.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},e}();t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var r=n(61),i=n(36),o=function(){function e(e){this.fetch=void 0===e?new r({}):e}return e.prototype.getTriplesBySubject=function(e){var t=this,n=i.parse(e),r=n.href.replace(n.hash,"").replace(n.search,"");return this.fetch.get(r).then(function(e){var n={};return e.triples.forEach(function(e){t.expandBlankNodes(e,r);var i=e.subject.value;n.hasOwnProperty(i)||(n[i]=[]),n[i].push(e)}),n})},e.prototype.expandBlankNodes=function(e,t){"_:"===e.subject.value.slice(0,2)&&(e.subject.value=t+"#"+e.subject.value.substring(1)),"_:"===e.object.value.slice(0,2)&&(e.object.value=t+"#"+e.object.value.substring(1))},e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();t.__esModule=!0;var i=n(91),o=n(180),s=n(182),a=function(e){function t(t){return e.call(this,new s.default(t),new o.default(t))||this}return r(t,e),t}(i.default);t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var r=n(181),i=n(54),o=n(92),s=function(){function e(e){this.nodepoly=o.parse(e),this.nodeprimitivepoly=new i.Primitive(this.nodepoly)}return e.prototype.check_condition=function(e,t,n,s){try{if(-1!=t.getRelationType().indexOf(r.default.GeospatiallyContainsRelation)){var a=o.parse(n.getValue()),u=new i.Primitive(a);return this.nodeprimitivepoly.contains(a)||this.nodeprimitivepoly.intersects(a)||u.contains(this.nodepoly)}return!1}catch(e){return!1}},e}();t.default=s},function(e,t,n){"use strict";var r;t.__esModule=!0,function(e){e.StringCompletesRelation="https://w3id.org/tree#StringCompletesRelation",e.GreaterThanRelation="https://w3id.org/tree#GreaterThanRelation",e.GreaterOrEqualThanRelation="https://w3id.org/tree#GreaterOrEqualThanRelation",e.LesserThanRelation="https://w3id.org/tree#LesserThanRelation",e.LesserOrEqualThanRelation="https://w3id.org/tree#LesserOrEqualThanRelation",e.EqualThanRelation="https://w3id.org/tree#EqualThanRelation",e.GeospatiallyContainsRelation="https://w3id.org/tree#GeospatiallyContainsRelation",e.InBetweenRelation="https://w3id.org/tree#InBetweenRelation"}(r||(r={})),t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r=n(54),i=n(92),o=function(){function e(e){this.nodepoly=i.parse(e),this.nodeprimitivepoly=new r.Primitive(this.nodepoly)}return e.prototype.check_condition=function(e,t){try{var n=i.parse(e.getValue()),o=new r.Primitive(n);return this.nodeprimitivepoly.contains(n)||this.nodeprimitivepoly.intersects(n)||o.contains(this.nodepoly)}catch(e){return!1}},e}();t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};t.__esModule=!0;var s=n(184),a=n(185),u=n(186),c=n(53),l=n(187),h=function(e){function t(t){var n=e.call(this)||this;return n.searchstring=t,n.saveCondition=new l.default,n.followCondition=new a.default(new u.default,new s.default),n}return r(t,e),t.prototype.query=function(){return i(this,void 0,void 0,function(){var e,t;return o(this,function(n){switch(n.label){case 0:for(e=[],t=0;t<this.session.nodes.length;t++)void 0===this.session.context[t].searchstring||null===this.session.context[t].searchstring?(this.session.context[t].searchstring=this.searchstring,this.session.context[t].leftoverstring=""):""===this.session.context[t].leftoverstring?this.session.context[t].searchstring=this.searchstring:this.searchstring.startsWith(this.session.context[t].leftoverstring)?(this.session.context[t].searchstring=this.searchstring.slice(this.session.context[t].leftoverstring.length),this.session.context[t].leftoverstring=""):this.session.context[t].leftoverstring.startsWith(this.searchstring)?(this.session.context[t].leftoverstring=this.session.context[t].leftoverstring.slice(this.searchstring.length),this.session.context[t].searchstring=""):e.push(t);for(t=e.length-1;t>=0;t--)this.session.nodes=this.session.nodes.splice(t),this.session.context=this.session.context.splice(t);return this.session.leafnodes=[],this.session.leafcontext=[],[4,this.queryRecursive(this.session)];case 1:return[2,n.sent()]}})})},t.prototype.queryRecursive=function(e){return i(this,void 0,void 0,function(){var t,n,r,i,s,a,u,c,l,h,f,d,p,g,y,v,m;return o(this,function(o){switch(o.label){case 0:t=new Array,n=0,o.label=1;case 1:return n<e.getLength()?(g=e.nodes[n],r=e.context[n],this.saveCondition.check_condition(g,r)?(this.emitMember(g),this.emitNode(g),[4,g.getChildRelations()]):[3,3]):[3,11];case 2:i=o.sent(),e.leafnodes.push(g),e.leafcontext.push(r),0==i.length&&this.emit("leafnode",g),o.label=3;case 3:return s=0,[4,g.getChildRelations()];case 4:a=o.sent(),o.label=5;case 5:return s<a.length?(u=a[s],c=0,[4,u.getChildren()]):[3,10];case 6:l=o.sent(),o.label=7;case 7:if(!(c<l.length))return[3,9];h=l[c],this.followCondition.check_condition(g,u,h,r)&&t.push([g,u,h,r]),o.label=8;case 8:return c++,[3,7];case 9:return s++,[3,5];case 10:return n++,[3,1];case 11:for(e.nodes=[],e.context=[],f=0,d=t;f<d.length;f++)p=d[f],g=p[0],p[1],y=p[2],v=p[3],y.getValue().startsWith(v.searchstring)?(m=y.getValue().slice(v.searchstring.length),v.searchstring="",v.leftoverstring=m,e.nodes.push(y),e.context.push(v)):v.searchstring.startsWith(y.getValue())&&(v.searchstring=v.searchstring.slice(y.getValue().length),v.leftoverstring="",e.nodes.push(y),e.context.push(v));return 0==e.nodes.length?(e.nodes=e.leafnodes,e.context=e.leafcontext,delete e.leafnodes,delete e.leafcontext,[2,e]):[4,this.queryRecursive(e)];case 12:return[2,o.sent()]}})})},t.prototype.emitMember=function(e){return i(this,void 0,void 0,function(){var t,n,r,i;return o(this,function(o){switch(o.label){case 0:return[4,e.getMembers()];case 1:for(t=o.sent(),n=0,r=t;n<r.length;n++)i=r[n],0!==Object.keys(i).length&&this.emit("member",i);return[2]}})})},t.prototype.emitNode=function(e){return i(this,void 0,void 0,function(){return o(this,function(t){return this.emit("node",e),[2]})})},t}(c.default);t.default=h},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(){}return e.prototype.check_condition=function(e,t,n,r){return!(""==r.searchstring||!r.searchstring.startsWith(n.getValue()))},e}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){this.left=e,this.right=t}return e.prototype.check_condition=function(e,t,n,r){return this.left.check_condition(e,t,n,r)||this.right.check_condition(e,t,n,r)},e}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(){this.flag=""}return e.prototype.check_condition=function(e,t,n,r){return!(""==r.searchstring||!n.getValue().startsWith(r.searchstring))},e}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(){}return e.prototype.check_condition=function(e,t){return""===t.searchstring},e}();t.default=r},function(e,t,n){(function(r,i){var o;
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2017 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2017 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function(){const s=n(55),a=n(3),u=a.IdentifierIssuer,c=n(13),l=n(196),h=n(197),{expand:f}=n(198),{flatten:d}=n(200),{fromRDF:p}=n(201),{toRDF:g}=n(202),{frameMergedOrDefault:y}=n(203),{isArray:v,isObject:m,isString:b}=n(7),{isSubjectReference:_}=n(12),{getInitialContext:w,process:x,getAllContexts:I,expandIri:N}=n(18),{compact:j,compactIri:S,removePreserve:k}=n(204),{createNodeMap:T,createMergedNodeMap:E,mergeNodeMaps:C}=n(41),O=void 0!==r&&r.versions&&r.versions.node,R=!O&&("undefined"!=typeof window||"undefined"!=typeof self),A=function(e){e.compact=a.callbackify(async function(t,n,i){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new c("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let o;(i=r(i,{base:b(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new u("_:b")})).link&&(i.skipExpansion=!0),i.compactToRelative||delete i.base,o=i.skipExpansion?t:await e.expand(t,i);const s=await e.processContext(w(i),n,i);let l=j({activeCtx:s,element:o,options:i,compactionMap:i.compactionMap});i.compactArrays&&!i.graph&&v(l)?1===l.length?l=l[0]:0===l.length&&(l={}):i.graph&&m(l)&&(l=[l]),m(n)&&"@context"in n&&(n=n["@context"]),n=a.clone(n),v(n)||(n=[n]);const h=n;n=[];for(let e=0;e<h.length;++e)(!m(h[e])||Object.keys(h[e]).length>0)&&n.push(h[e]);const f=n.length>0;if(1===n.length&&(n=n[0]),v(l)){const e=S({activeCtx:s,iri:"@graph",relativeTo:{vocab:!0}}),t=l;l={},f&&(l["@context"]=n),l[e]=t}else if(m(l)&&f){const e=l;l={"@context":n};for(let t in e)l[t]=e[t]}if(i.framing){const e=S({activeCtx:s,iri:"@graph",relativeTo:{vocab:!0}});
// remove @preserve from results
i.link={},l[e]=k(s,l[e],i)}return l}),e.expand=a.callbackify(async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(n=r(n,{keepFreeFloatingNodes:!1})).expansionMap&&(n.expansionMap=void 0);const i={},o=[];if("expandContext"in n){const e=a.clone(n.expandContext);m(e)&&"@context"in e?i.expandContext=e:i.expandContext={"@context":e},o.push(i.expandContext)}let s;if(b(t)){const r=await e.get(t,n);s=r.documentUrl,i.input=r.document,r.contextUrl&&(i.remoteContext={"@context":r.contextUrl},o.push(i.remoteContext))}else i.input=a.clone(t);"base"in n||(n.base=s||""),await I(i,n);let u=w(n);o.forEach(e=>{u=x({activeCtx:u,localCtx:e,options:n})});let c=f({activeCtx:u,element:i.input,options:n,expansionMap:n.expansionMap});return m(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),v(c)||(c=[c]),c}),e.flatten=a.callbackify(async function(t,n,i){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"==typeof n?null:n||null,i=r(i,{base:b(t)?t:""});const o=await e.expand(t,i),s=d(o);return null===n?s:(i.graph=!0,i.skipExpansion=!0,await e.compact(s,n,i))}),e.frame=a.callbackify(async function(t,n,i){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(i=r(i,{base:b(t)?t:"",embed:"@last",explicit:!1,requireAll:!0,omitDefault:!1,pruneBlankNodeIdentifiers:!0,bnodesToClear:[]}),b(n)){const t=await e.get(n,i);if(n=t.document,t.contextUrl){let e=n["@context"];e?v(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}let o=n&&n["@context"]||{};const s=await e.expand(t,i),u=a.clone(i);u.isFrame=!0,u.keepFreeFloatingNodes=!0;const c=await e.expand(n,u);let l;return u.merged=!("@graph"in n),l=y(s,c,u),u.graph=!0,u.skipExpansion=!0,u.link={},u.framing=!0,await e.compact(l,o,u)}),e.link=a.callbackify(async function(t,n,r){const i={};return n&&(i["@context"]=n),i["@embed"]="@link",e.frame(t,i,r)}),e.normalize=e.canonize=a.callbackify(async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(n=r(n,{base:b(t)?t:"",algorithm:"URDNA2015"}))){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new c("Unknown canonicalization input format.","jsonld.CanonizeError");const e=l.parse(t);return s.canonize(e,n)}const i=a.clone(n);delete i.format,i.produceGeneralizedRdf=!1;const o=await e.toRDF(t,i);return s.canonize(o,n)}),e.fromRDF=a.callbackify(async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=r(n,{format:b(e)?"application/n-quads":void 0});let i,{format:o,rdfParser:s}=n;if(o){if(!(s=s||t[o]))throw new c("Unknown input format.","jsonld.UnknownFormat",{format:o})}else s=(()=>e);return i=s.length>1?new Promise((t,n)=>{s(e,(e,r)=>{e?n(e):t(r)})}):Promise.resolve(s(e)),i=await i,Array.isArray(i)||(i=l.legacyDatasetToQuads(i)),p(i,n)}),e.toRDF=a.callbackify(async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");n=r(n,{base:b(t)?t:""});const i=await e.expand(t,n),o=g(i,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return await l.serialize(o);throw new c("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return o}),e.createNodeMap=a.callbackify(async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=r(n,{base:b(t)?t:""});const i=await e.expand(t,n);return E(i,n)}),e.merge=a.callbackify(async function(t,n,i){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!v(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"==typeof n?null:n||null,i=r(i,{});const o=await Promise.all(t.map(t=>{const n=Object.assign({},i);return e.expand(t,n)}));let s=!0;"mergeNodes"in i&&(s=i.mergeNodes);const c=i.issuer||new u("_:b"),l={"@default":{}};for(let e=0;e<o.length;++e){const t=a.relabelBlankNodes(o[e],{issuer:new u("_:b"+e+"-")}),n=s||0===e?l:{"@default":{}};if(T(t,n,"@default",c),n!==l)for(let e in n){const t=n[e];if(!(e in l)){l[e]=t;continue}const r=l[e];for(let e in t)e in r||(r[e]=t[e])}}const h=C(l),f=[],d=Object.keys(h).sort();for(let e=0;e<d.length;++e){const t=h[d[e]];_(t)||f.push(t)}return null===n?f:(i.graph=!0,i.skipExpansion=!0,await e.compact(f,n,i))}),Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=a.normalizeDocumentLoader(t)}),e.documentLoader=(async e=>{throw new c("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})}),e.loadDocument=a.callbackify(async function(){return e.documentLoader.apply(null,arguments)}),e.get=a.callbackify(async function(t,n){let r;r="function"==typeof n.documentLoader?a.normalizeDocumentLoader(n.documentLoader):e.documentLoader;const i=await r(t);try{if(!i.document)throw new c("No remote document found at the given URL.","jsonld.NullRemoteDocument");b(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new c("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i}),e.processContext=a.callbackify(async function(e,t,n){if(n=r(n,{base:""}),null===t)return w(n);t=a.clone(t),m(t)&&"@context"in t||(t={"@context":t});let i=await I(t,n);return x({activeCtx:e,localCtx:i,options:n})}),e.getContextValue=n(18).getContextValue,e.documentLoaders={},e.documentLoaders.node=n(205),e.documentLoaders.xhr=n(206),e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new c('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))};const t={};function r(t,{documentLoader:n=e.documentLoader,...r}){return"function"==typeof t&&(t={}),t=t||{},Object.assign({},{documentLoader:n},r,t)}return e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",l.parse),e.registerRDFParser("application/nquads",l.parse),e.registerRDFParser("rdfa-api",h.parse),e.url=n(31),e.util=a,Object.assign(e,a),e.promises=e,e.RequestQueue=n(60),e.JsonLdProcessor=n(207)(e),R&&void 0===i.JsonLdProcessor&&Object.defineProperty(i,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),O?e.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},L=function(){return A(function(){return L()})};!O&&n(87)?void 0===(o=function(){return A(L),L}.apply(t,[]))||(e.exports=o):(A(L),void 0!==e&&e.exports&&(e.exports=L),R&&("undefined"==typeof jsonld?jsonld=jsonldjs=L:jsonldjs=L))}()}).call(this,n(0),n(1))},function(e,t,n){"use strict";const r=n(17);e.exports=class{constructor({maxCallStackDepth:e=500,maxTotalCallStackDepth:t=4294967295,timeSlice:n=10}={}){this.schedule={},this.schedule.MAX_DEPTH=e,this.schedule.MAX_TOTAL_DEPTH=t,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice=n}doWork(e,t){const n=this.schedule;if(n.totalDepth>=n.MAX_TOTAL_DEPTH)return t(new Error("Maximum total call stack depth exceeded; canonicalization aborting."));!function i(){if(n.depth===n.MAX_DEPTH)return n.depth=0,n.running=!1,r.nextTick(i);const o=Date.now();if(n.running||(n.start=Date.now(),n.deadline=n.start+n.timeSlice),o<n.deadline)return n.running=!0,n.depth++,n.totalDepth++,e((e,r)=>{n.depth--,n.totalDepth--,t(e,r)});n.depth=0,n.running=!1,r.setImmediate(i)}()}forEach(e,t,n){const r=this;let i,o,s=0;if(Array.isArray(e))o=e.length,i=(()=>s!==o&&(i.value=e[s++],i.key=s,!0));else{const t=Object.keys(e);o=t.length,i=(()=>s!==o&&(i.key=t[s++],i.value=e[i.key],!0))}!function e(o){return o?n(o):i()?r.doWork(()=>t(i.value,i.key,e)):void n()}()}waterfall(e,t){const n=this;n.forEach(e,(e,t,r)=>n.doWork(e,r),t)}whilst(e,t,n){const r=this;!function i(o){return o?n(o):e()?void r.doWork(t,i):n()}()}}},function(e,t,n){var r=n(29);n(57),n(95);var i=e.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=i,i.create=function(){s||(o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),s=!0);var e=null,t=r.util.createBuffer(),n=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,s){"utf8"===s&&(o=r.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(o),a(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var s=r.util.createBuffer();s.putBytes(t.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)l+=(u=8*i.fullMessageLength[h+1])/4294967296>>>0,s.putInt32(l>>>0),l=u>>>0;s.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};a(f,n,s);var d=r.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d},i};var o=null,s=!1;function a(e,t,n){for(var r,i,o,s,a,u,c,l=n.length();l>=64;){for(i=e.h0,o=e.h1,s=e.h2,a=e.h3,u=e.h4,c=0;c<16;++c)r=n.getInt32(),t[c]=r,r=(i<<5|i>>>27)+(a^o&(s^a))+u+1518500249+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<20;++c)r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,t[c]=r,r=(i<<5|i>>>27)+(a^o&(s^a))+u+1518500249+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<32;++c)r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,t[c]=r,r=(i<<5|i>>>27)+(o^s^a)+u+1859775393+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<40;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(o^s^a)+u+1859775393+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<60;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(o&s|a&(o^s))+u+2400959708+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<80;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(o^s^a)+u+3395469782+r,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=r;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+s|0,e.h3=e.h3+a|0,e.h4=e.h4+u|0,l-=64}}},function(e,t,n){(function(t){var n={};e.exports=n;var r={};n.encode=function(e,t,n){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==n&&"number"!=typeof n)throw new TypeError('"maxline" must be a number.');var r="";if(e instanceof Uint8Array){var i=0,o=t.length,s=t.charAt(0),a=[0];for(i=0;i<e.length;++i){for(var u=0,c=e[i];u<a.length;++u)c+=a[u]<<8,a[u]=c%o,c=c/o|0;for(;c>0;)a.push(c%o),c=c/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)r+=s;for(i=a.length-1;i>=0;--i)r+=t[a[i]]}else r=function(e,t){var n=0,r=t.length,i=t.charAt(0),o=[0];for(n=0;n<e.length();++n){for(var s=0,a=e.at(n);s<o.length;++s)a+=o[s]<<8,o[s]=a%r,a=a/r|0;for(;a>0;)o.push(a%r),a=a/r|0}var u="";for(n=0;0===e.at(n)&&n<e.length()-1;++n)u+=i;for(n=o.length-1;n>=0;--n)u+=t[o[n]];return u}(e,t);if(n){var l=new RegExp(".{1,"+n+"}","g");r=r.match(l).join("\r\n")}return r},n.decode=function(e,n){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof n)throw new TypeError('"alphabet" must be a string.');var i=r[n];if(!i){i=r[n]=[];for(var o=0;o<n.length;++o)i[n.charCodeAt(o)]=o}e=e.replace(/\s/g,"");var s=n.length,a=n.charAt(0),u=[0];for(o=0;o<e.length;o++){var c=i[e.charCodeAt(o)];if(void 0===c)return;for(var l=0,h=c;l<u.length;++l)h+=u[l]*s,u[l]=255&h,h>>=8;for(;h>0;)u.push(255&h),h>>=8}for(var f=0;e[f]===a&&f<e.length-1;++f)u.push(0);return void 0!==t?t.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this,n(9).Buffer)},function(e,t,n){var r=n(29);n(57),n(95);var i=e.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=i,i.create=function(){s||(o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var e=null,t=r.util.createBuffer(),n=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,s){"utf8"===s&&(o=r.util.encodeUtf8(o));var a=o.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=a[1],a[1]=a[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(o),u(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var s=r.util.createBuffer();s.putBytes(t.bytes());var a,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-c));for(var l=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)l+=(a=8*i.fullMessageLength[h+1])/4294967296>>>0,s.putInt32(l>>>0),l=a>>>0;s.putInt32(l);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(f,n,s);var d=r.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d.putInt32(f.h5),d.putInt32(f.h6),d.putInt32(f.h7),d},i};var o=null,s=!1,a=null;function u(e,t,n){for(var r,i,o,s,u,c,l,h,f,d,p,g,y,v=n.length();v>=64;){for(u=0;u<16;++u)t[u]=n.getInt32();for(;u<64;++u)r=((r=t[u-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,i=((i=t[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=r+t[u-7]+i+t[u-16]|0;for(c=e.h0,l=e.h1,h=e.h2,f=e.h3,d=e.h4,p=e.h5,g=e.h6,y=e.h7,u=0;u<64;++u)o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=c&l|h&(c^l),r=y+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(g^d&(p^g))+a[u]+t[u],y=g,g=p,p=d,d=f+r>>>0,f=h,h=l,l=c,c=r+(i=o+s)>>>0;e.h0=e.h0+c|0,e.h1=e.h1+l|0,e.h2=e.h2+h|0,e.h3=e.h3+f|0,e.h4=e.h4+d|0,e.h5=e.h5+p|0,e.h6=e.h6+g|0,e.h7=e.h7+y|0,v-=64}}},function(e,t,n){"use strict";const r=n(93),i=n(17);e.exports=class extends r{constructor(e){super(e),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:((t=i.clone(t)).value="name"===n?"_:g":t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t,n){const r=this,i={},o=r.blankNodeInfo[e].quads;r.forEach(o,(n,o,s)=>{let a,u;if("BlankNode"===n.subject.termType&&n.subject.value!==e)u=n.subject.value,a="p";else{if("BlankNode"!==n.object.termType||n.object.value===e)return s();u=n.object.value,a="r"}r.hashRelatedBlankNode(u,n,t,a,(e,t)=>{if(e)return s(e);t in i?i[t].push(u):i[t]=[u],s()})},e=>n(e,i))}}},function(e,t,n){"use strict";const r=n(97),i=n(17);e.exports=class extends r{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:((t=i.clone(t)).value="name"===n?"_:g":t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=this,r={},i=n.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const s=i[o];let a,u;if("BlankNode"===s.subject.termType&&s.subject.value!==e)u=s.subject.value,a="p";else{if("BlankNode"!==s.object.termType||s.object.value===e)continue;u=s.object.value,a="r"}const c=n.hashRelatedBlankNode(u,s,t,a);c in r?r[c].push(u):r[c]=[u]}return r}}},function(e,t){},function(e,t,n){"use strict";e.exports=n(55).NQuads},function(e,t,n){"use strict";const{RDF_LANGSTRING:r,RDF_PLAIN_LITERAL:i,RDF_OBJECT:o,RDF_XML_LITERAL:s,XSD_STRING:a}=n(30);let u;function c(){return"undefined"==typeof XMLSerializer?n(59).XMLSerializer:XMLSerializer}u="undefined"!=typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},e.exports=class{parse(e){const t={"@default":[]},n=e.getSubjects();for(let l=0;l<n.length;++l){const h=n[l];if(null===h)continue;const f=e.getSubjectTriples(h);if(null===f)continue;const d=f.predicates;for(const e in d){const n=d[e].objects;for(let l=0;l<n.length;++l){const f=n[l],d={};0===h.indexOf("_:")?d.subject={type:"blank node",value:h}:d.subject={type:"IRI",value:h},0===e.indexOf("_:")?d.predicate={type:"blank node",value:e}:d.predicate={type:"IRI",value:e};let p=f.value;if(f.type===s){const e=new(c());p="";for(let t=0;t<f.value.length;t++)f.value[t].nodeType===u.ELEMENT_NODE?p+=e.serializeToString(f.value[t]):f.value[t].nodeType===u.TEXT_NODE&&(p+=f.value[t].nodeValue)}d.object={},f.type===o?0===f.value.indexOf("_:")?d.object.type="blank node":d.object.type="IRI":(d.object.type="literal",f.type===i?f.language?(d.object.datatype=r,d.object.language=f.language):d.object.datatype=a:d.object.datatype=f.type),d.object.value=p,t["@default"].push(d)}}}return t}}},function(e,t,n){"use strict";const r=n(13),{isArray:i,isObject:o,isEmptyObject:s,isString:a}=n(7),{isList:u,isValue:c,isGraph:l}=n(12),{expandIri:h,getContextValue:f,isKeyword:d,process:p}=n(18),{isAbsolute:g}=n(31),{addValue:y,validateTypeValue:v,getValues:m}=n(3),b={};function _(e,t){const n=[],o=Object.keys(t).sort();for(const s of o){const o=h(e,s,{vocab:!0});let u=t[s];i(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!a(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==o&&(i["@language"]=s.toLowerCase()),n.push(i)}}return n}function w({activeCtx:e,options:t,activeProperty:n,value:r,expansionMap:o,asGraph:s,indexKey:a}){const u=[],c=Object.keys(r).sort();for(let d of c){const c=f(e,d,"@context");c&&(e=p({activeCtx:e,localCtx:c,options:t}));let g=r[d];i(g)||(g=[g]);const y=h(e,d,{vocab:!0});"@id"===a?d=h(e,d,{base:!0}):"@type"===a&&(d=y),g=b.expand({activeCtx:e,activeProperty:n,element:g,options:t,insideList:!1,expansionMap:o});for(let e of g)s&&!l(e)&&(e={"@graph":[e]}),"@type"===a?"@none"===y||(e["@type"]?e["@type"]=[d].concat(e["@type"]):e["@type"]=[d]):"@none"===y||a in e||(e[a]=d),u.push(e)}return u}e.exports=b,b.expand=(({activeCtx:e,activeProperty:t=null,element:n,options:x={},insideList:I=!1,expansionMap:N=(()=>void 0)})=>{if(null===n||void 0===n)return null;if("@default"===t&&(x=Object.assign({},x,{isFrame:!1})),!i(n)&&!o(n)){if(!I&&(null===t||"@graph"===h(e,t,{vocab:!0}))){const r=N({unmappedValue:n,activeCtx:e,activeProperty:t,options:x,insideList:I});return void 0===r?null:r}return function({activeCtx:e,activeProperty:t,value:n}){if(null===n||void 0===n)return null;const r=h(e,t,{vocab:!0});if("@id"===r)return h(e,n,{base:!0});if("@type"===r)return h(e,n,{vocab:!0,base:!0});const i=f(e,t,"@type");if(("@id"===i||"@graph"===r)&&a(n))return{"@id":h(e,n,{base:!0})};if("@vocab"===i&&a(n))return{"@id":h(e,n,{vocab:!0,base:!0})};if(d(r))return n;const o={};if(i&&!["@id","@vocab"].includes(i))o["@type"]=i;else if(a(n)){const n=f(e,t,"@language");null!==n&&(o["@language"]=n)}["boolean","number","string"].includes(typeof n)||(n=n.toString());return o["@value"]=n,o}({activeCtx:e,activeProperty:t,value:n})}if(i(n)){let o=[];const s=f(e,t,"@container")||[];I=I||s.includes("@list");for(let s=0;s<n.length;++s){let a=b.expand({activeCtx:e,activeProperty:t,element:n[s],options:x,expansionMap:N});if(I&&(i(a)||u(a)))throw new r("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"});null===a&&void 0===(a=N({unmappedValue:n[s],activeCtx:e,activeProperty:t,parent:n,index:s,options:x,expandedParent:o,insideList:I}))||(i(a)?o=o.concat(a):o.push(a))}return o}"@context"in n&&(e=p({activeCtx:e,localCtx:n["@context"],options:x}));let j=Object.keys(n).sort();for(const t of j){if("@type"===h(e,t,{vocab:!0})){const r=[].concat(n[t]);for(const t of r){const n=f(e,t,"@context");n&&(e=p({activeCtx:e,localCtx:n,options:x}))}}}const S=h(e,t,{vocab:!0});let k={};!function e({activeCtx:t,activeProperty:n,expandedActiveProperty:m,element:x,expandedParent:I,options:N={},insideList:j,expansionMap:S}){const k=Object.keys(x).sort();const T=[];for(const e of k){let k,E=x[e];if("@context"===e)continue;let C=h(t,e,{vocab:!0});if((null===C||!g(C)&&!d(C))&&void 0===(C=S({unmappedProperty:e,activeCtx:t,activeProperty:n,parent:x,options:N,insideList:j,value:E,expandedParent:I})))continue;if(d(C)){if("@reverse"===m)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:E});if(C in I)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:C})}if("@id"===C){if(!a(E)){if(!N.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:E});if(o(E)){if(!s(E))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:E})}else{if(!i(E))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:E});if(!E.every(e=>a(e)))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:E})}}y(I,"@id",[].concat(E).map(e=>a(e)?h(t,e,{base:!0}):e),{propertyIsArray:N.isFrame});continue}if("@type"===C){v(E),y(I,"@type",[].concat(E).map(e=>a(e)?h(t,e,{base:!0,vocab:!0}):e),{propertyIsArray:N.isFrame});continue}if("@graph"===C&&!o(E)&&!i(E))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:E});if("@value"===C){if((o(E)||i(E))&&!N.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:E});y(I,"@value",E,{propertyIsArray:N.isFrame});continue}if("@language"===C){if(null===E)continue;if(!a(E)&&!N.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:E});E=[].concat(E).map(e=>a(e)?e.toLowerCase():e),y(I,"@language",E,{propertyIsArray:N.isFrame});continue}if("@index"===C){if(!a(E))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:E});y(I,"@index",E);continue}if("@reverse"===C){if(!o(E))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:E});if("@reverse"in(k=b.expand({activeCtx:t,activeProperty:"@reverse",element:E,options:N,expansionMap:S})))for(const e in k["@reverse"])y(I,e,k["@reverse"][e],{propertyIsArray:!0});let e=I["@reverse"]||null;for(const t in k){if("@reverse"===t)continue;null===e&&(e=I["@reverse"]={}),y(e,t,[],{propertyIsArray:!0});const n=k[t];for(let i=0;i<n.length;++i){const o=n[i];if(c(o)||u(o))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});y(e,t,o,{propertyIsArray:!0})}}continue}if("@nest"===C){T.push(e);continue}let O=t;const R=f(t,e,"@context");R&&(O=p({activeCtx:t,localCtx:R,options:N}));const A=f(O,e,"@container")||[];if(A.includes("@language")&&o(E))k=_(O,E);else if(A.includes("@index")&&o(E)){const t=A.includes("@graph");k=w({activeCtx:O,options:N,activeProperty:e,value:E,expansionMap:S,asGraph:t,indexKey:"@index"})}else if(A.includes("@id")&&o(E)){const t=A.includes("@graph");k=w({activeCtx:O,options:N,activeProperty:e,value:E,expansionMap:S,asGraph:t,indexKey:"@id"})}else if(A.includes("@type")&&o(E))k=w({activeCtx:O,options:N,activeProperty:e,value:E,expansionMap:S,asGraph:!1,indexKey:"@type"});else{const t="@list"===C;if(t||"@set"===C){let e=n;if(t&&"@graph"===m&&(e=null),k=b.expand({activeCtx:O,activeProperty:e,element:E,options:N,insideList:t,expansionMap:S}),t&&u(k))throw new r("Invalid JSON-LD syntax; lists of lists are not permitted.","jsonld.SyntaxError",{code:"list of lists"})}else k=b.expand({activeCtx:O,activeProperty:e,element:E,options:N,insideList:!1,expansionMap:S})}if(null===k&&"@value"!==C&&void 0===(k=S({unmappedValue:E,expandedProperty:C,activeCtx:O,activeProperty:n,parent:x,options:N,insideList:j,key:e,expandedParent:I})))continue;if("@list"!==C&&!u(k)&&A.includes("@list")&&(k={"@list":k=i(k)?k:[k]}),!A.includes("@graph")||A.some(e=>"@id"===e||"@index"===e)||l(k)||(k={"@graph":k=[].concat(k)}),O.mappings[e]&&O.mappings[e].reverse){const e=I["@reverse"]=I["@reverse"]||{};i(k)||(k=[k]);for(let t=0;t<k.length;++t){const n=k[t];if(c(n)||u(n))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});y(e,C,n,{propertyIsArray:!0})}continue}const L=!["@index","@id","@type","@value","@language"].includes(C);y(I,C,k,{propertyIsArray:L})}for(const s of T){const a=i(x[s])?x[s]:[x[s]];for(const i of a){if(!o(i)||Object.keys(i).some(e=>"@value"===h(t,e,{vocab:!0})))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});e({activeCtx:t,activeProperty:n,expandedActiveProperty:m,element:i,expandedParent:I,options:N,insideList:j,expansionMap:S})}}}({activeCtx:e,activeProperty:t,expandedActiveProperty:S,element:n,expandedParent:k,options:x,insideList:I,expansionMap:N});let T=(j=Object.keys(k)).length;if("@value"in k){if("@type"in k&&"@language"in k)throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:k});let i=T-1;if("@type"in k&&(i-=1),"@index"in k&&(i-=1),"@language"in k&&(i-=1),0!==i)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:k});const o=null===k["@value"]?[]:[].concat(k["@value"]),u=m(k,"@type");if(0===o.length){const r=N({unmappedValue:k,activeCtx:e,activeProperty:t,element:n,options:x,insideList:I});k=void 0!==r?r:null}else{if(!o.every(e=>a(e)||s(e))&&"@language"in k)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:k});if(!u.every(e=>g(e)&&!(a(e)&&0===e.indexOf("_:"))||s(e)))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:k})}}else if("@type"in k&&!i(k["@type"]))k["@type"]=[k["@type"]];else if("@set"in k||"@list"in k){if(T>1&&!(2===T&&"@index"in k))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:k});"@set"in k&&(k=k["@set"],T=(j=Object.keys(k)).length)}else if(1===T&&"@language"in k){const r=N(k,{unmappedValue:k,activeCtx:e,activeProperty:t,element:n,options:x,insideList:I});k=void 0!==r?r:null}if(o(k)&&!x.keepFreeFloatingNodes&&!I&&(null===t||"@graph"===S)&&(0===T||"@value"in k||"@list"in k||1===T&&"@id"in k)){const r=N({unmappedValue:k,activeCtx:e,activeProperty:t,element:n,options:x,insideList:I});k=void 0!==r?r:null}return k})},function(e,t,n){"use strict";const{clone:r}=n(3);e.exports=class{constructor(e=100){this.order=[],this.cache=new Map,this.size=e}get(e,t){const n=this.cache.get(e);if(n){const e=JSON.stringify(t);return n.get(e)||null}return null}set(e,t,n){if(this.order.length===this.size){const e=this.order.shift();this.cache.get(e.activeCtx).delete(e.localCtx)}const i=JSON.stringify(t);this.order.push({activeCtx:e,localCtx:i});let o=this.cache.get(e);o||(o=new Map,this.cache.set(e,o)),o.set(i,r(n))}}},function(e,t,n){"use strict";const{isSubjectReference:r}=n(12),{createMergedNodeMap:i}=n(41),o={};e.exports=o,o.flatten=(e=>{const t=i(e),n=[],o=Object.keys(t).sort();for(let e=0;e<o.length;++e){const i=t[o[e]];r(i)||n.push(i)}return n})},function(e,t,n){"use strict";const r=n(12),i=n(7),o=n(3),{RDF_LIST:s,RDF_FIRST:a,RDF_REST:u,RDF_NIL:c,RDF_TYPE:l,XSD_BOOLEAN:h,XSD_DOUBLE:f,XSD_INTEGER:d,XSD_STRING:p}=n(30),g={};function y(e,t){if(e.termType.endsWith("Node"))return{"@id":e.value};const n={"@value":e.value};if(e.language)n["@language"]=e.language;else{let r=e.datatype.value;if(r||(r=p),t){if(r===h)"true"===n["@value"]?n["@value"]=!0:"false"===n["@value"]&&(n["@value"]=!1);else if(i.isNumeric(n["@value"]))if(r===d){const e=parseInt(n["@value"],10);e.toFixed(0)===n["@value"]&&(n["@value"]=e)}else r===f&&(n["@value"]=parseFloat(n["@value"]));[h,d,f,p].includes(r)||(n["@type"]=r)}else r!==p&&(n["@type"]=r)}return n}e.exports=g,g.fromRDF=(async(e,{useRdfType:t=!1,useNativeTypes:n=!1})=>{const h={},f={"@default":h},d={};for(const r of e){const e="DefaultGraph"===r.graph.termType?"@default":r.graph.value;e in f||(f[e]={}),"@default"===e||e in h||(h[e]={"@id":e});const i=f[e],s=r.subject.value,a=r.predicate.value,u=r.object;s in i||(i[s]={"@id":s});const p=i[s],g=u.termType.endsWith("Node");if(!g||u.value in i||(i[u.value]={"@id":u.value}),a===l&&!t&&g){o.addValue(p,"@type",u.value,{propertyIsArray:!0});continue}const v=y(u,n);if(o.addValue(p,a,v,{propertyIsArray:!0}),g)if(u.value===c){const e=i[u.value];"usages"in e||(e.usages=[]),e.usages.push({node:p,property:a,value:v})}else u.value in d?d[u.value]=!1:d[u.value]={node:p,property:a,value:v}}for(const e in f){const t=f[e];if(!(c in t))continue;const n=t[c];if(n.usages){for(let e of n.usages){let n=e.node,o=e.property,l=e.value;const h=[],f=[];let p=Object.keys(n).length;for(;o===u&&i.isObject(d[n["@id"]])&&i.isArray(n[a])&&1===n[a].length&&i.isArray(n[u])&&1===n[u].length&&(3===p||4===p&&i.isArray(n["@type"])&&1===n["@type"].length&&n["@type"][0]===s)&&(h.push(n[a][0]),f.push(n["@id"]),n=(e=d[n["@id"]]).node,o=e.property,l=e.value,p=Object.keys(n).length,r.isBlankNode(n)););if(o===a){if(n["@id"]===c)continue;l=t[l["@id"]][u][0],h.pop(),f.pop()}delete l["@id"],l["@list"]=h.reverse();for(const e of f)delete t[e]}delete n.usages}}const p=[],g=Object.keys(h).sort();for(const e of g){const t=h[e];if(e in f){const n=t["@graph"]=[],i=f[e],o=Object.keys(i).sort();for(const e of o){const t=i[e];r.isSubjectReference(t)||n.push(t)}}r.isSubjectReference(t)||p.push(t)}return p})},function(e,t,n){"use strict";const{createNodeMap:r}=n(41),{isKeyword:i}=n(18),o=n(12),s=n(7),a=n(3),{RDF_FIRST:u,RDF_REST:c,RDF_NIL:l,RDF_TYPE:h,RDF_LANGSTRING:f,XSD_BOOLEAN:d,XSD_DOUBLE:p,XSD_INTEGER:g,XSD_STRING:y}=n(30),{isAbsolute:v}=n(31),m={};function b(e,t,n,r,s){const a=Object.keys(t).sort();for(let u=0;u<a.length;++u){const c=a[u],l=t[c],f=Object.keys(l).sort();for(let t of f){const a=l[t];if("@type"===t)t=h;else if(i(t))continue;for(const i of a){const a={termType:c.startsWith("_:")?"BlankNode":"NamedNode",value:c};if(!v(c))continue;const u={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(v(t)&&("BlankNode"!==u.termType||s.produceGeneralizedRdf))if(o.isList(i))_(i["@list"],r,a,u,e,n);else{const t=w(i);t&&e.push({subject:a,predicate:u,object:t,graph:n})}}}}}function _(e,t,n,r,i,o){const s={termType:"NamedNode",value:u},a={termType:"NamedNode",value:c},h={termType:"NamedNode",value:l};for(const u of e){const e={termType:"BlankNode",value:t.getId()};i.push({subject:n,predicate:r,object:e,graph:o}),n=e,r=s;const c=w(u);c&&i.push({subject:n,predicate:r,object:c,graph:o}),r=a}i.push({subject:n,predicate:r,object:h,graph:o})}function w(e){const t={};if(o.isValue(e)){t.termType="Literal",t.value=void 0,t.datatype={termType:"NamedNode"};let n=e["@value"];const r=e["@type"]||null;s.isBoolean(n)?(t.value=n.toString(),t.datatype.value=r||d):s.isDouble(n)||r===p?(s.isDouble(n)||(n=parseFloat(n)),t.value=n.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t.datatype.value=r||p):s.isNumber(n)?(t.value=n.toFixed(0),t.datatype.value=r||g):"@language"in e?(t.value=n,t.datatype.value=r||f,t.language=e["@language"]):(t.value=n,t.datatype.value=r||y)}else{const n=s.isObject(e)?e["@id"]:e;t.termType=n.startsWith("_:")?"BlankNode":"NamedNode",t.value=n}return"NamedNode"!==t.termType||v(t.value)?t:null}e.exports=m,m.toRDF=((e,t)=>{const n=new a.IdentifierIssuer("_:b"),i={"@default":{}};r(e,i,"@default",n);const o=[],s=Object.keys(i).sort();for(const e of s){let r;if("@default"===e)r={termType:"DefaultGraph",value:""};else{if(!v(e))continue;(r=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=e}b(o,i[e],r,n,t)}return o})},function(e,t,n){"use strict";const{isKeyword:r}=n(18),i=n(12),o=n(7),s=n(3),a=n(13),{createNodeMap:u,mergeNodeMapGraphs:c}=n(41),l={};function h(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function f(e,t,n){for(let r=n.length-1;r>=0;--r){const i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function d(e,t,n){const r="@"+n;let i=r in e?e[r][0]:t[n];return"embed"===n&&(!0===i?i="@last":!1===i?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function p(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new a("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function g(e,t,n,a){let u=!0,c=!1;for(const l in n){let h=!1;const f=s.getValues(t,l),d=0===s.getValues(n,l).length;if(r(l)){if("@id"!==l&&"@type"!==l)continue;if(u=!1,"@id"===l){if(n["@id"].length>=0&&!o.isEmptyObject(n["@id"][0]))return n["@id"].includes(f[0]);h=!0;continue}if("@type"in n)if(d){if(f.length>0)return!1;h=!0}else{if(1!==n["@type"].length||!o.isEmptyObject(n["@type"][0])){for(const e of n["@type"])if(f.some(t=>t===e))return!0;return!1}h=f.length>0}}const g=s.getValues(n,l)[0];let y=!1;if(g&&(p([g]),y="@default"in g),u=!1,0!==f.length||!y){if(f.length>0&&d)return!1;if(void 0===g){if(f.length>0)return!1;h=!0}else if(o.isObject(g))h=f.length>0;else if(i.isValue(g))h=f.some(e=>b(g,e));else if(i.isSubject(g)||i.isSubjectReference(g))h=f.some(t=>m(e,g,t,a));else if(i.isList(g)){const t=g["@list"][0];if(i.isList(f[0])){const n=f[0]["@list"];i.isValue(t)?h=n.some(e=>b(t,e)):(i.isSubject(t)||i.isSubjectReference(t))&&(h=n.some(n=>m(e,t,n,a)))}else h=!1}if(!h&&a.requireAll)return!1;c=c||h}}return u||c}function y(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,a=r.property,u={"@id":t};if(o.isArray(i)){for(let e=0;e<i.length;++e)if(s.compareValues(i[e],u)){i[e]=u;break}}else{const e=o.isArray(i[a]);s.removeValue(i,a,u,{propertyIsArray:e}),s.addValue(i,a,u,{propertyIsArray:e})}const c=e=>{const t=Object.keys(n);for(const r of t)r in n&&o.isObject(n[r].parent)&&n[r].parent["@id"]===e&&(delete n[r],c(r))};c(t)}function v(e,t,n){o.isObject(e)?s.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function m(e,t,n,r){if(!("@id"in n))return!1;const i=e.subjects[n["@id"]];return i&&g(e,i,t,r)}function b(e,t){const n=t["@value"],r=t["@type"],i=t["@language"],s=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],u=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===s.length&&0===a.length&&0===u.length||!(!s.includes(n)&&!o.isEmptyObject(s[0]))&&(!!(!r&&0===a.length||a.includes(r)||r&&o.isEmptyObject(a[0]))&&!!(!i&&0===u.length||u.includes(i)||i&&o.isEmptyObject(u[0])))}e.exports=l,l.frameMergedOrDefault=((e,t,n)=>{const r={options:n,graph:"@default",graphMap:{"@default":{}},graphStack:[],subjectStack:[],link:{},bnodeMap:{}},i=new s.IdentifierIssuer("_:b");u(e,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=c(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const o=[];return l.frame(r,Object.keys(r.subjects).sort(),t,o),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(e=>1===r.bnodeMap[e].length)),o}),l.frame=((e,t,n,a,u=null)=>{p(n),n=n[0];const c=e.options,m={embed:d(n,c,"embed"),explicit:d(n,c,"explicit"),requireAll:d(n,c,"requireAll")},_=function(e,t,n,r){const i={};for(const o of t){const t=e.graphMap[e.graph][o];g(e,t,n,r)&&(i[o]=t)}return i}(e,t,n,m),w=Object.keys(_).sort();for(const t of w){const p=_[t];if("@link"===m.embed&&t in e.link){v(a,u,e.link[t]);continue}null===u?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{};const g={};if(g["@id"]=t,0===t.indexOf("_:")&&s.addValue(e.bnodeMap,t,g,{propertyIsArray:!0}),e.link[t]=g,"@never"===m.embed||f(p,e.graph,e.subjectStack))v(a,u,g);else{if("@last"===m.embed&&(t in e.uniqueEmbeds[e.graph]&&y(e,t),e.uniqueEmbeds[e.graph][t]={parent:a,property:u}),e.subjectStack.push({subject:p,graph:e.graph}),t in e.graphMap){let r=!1,i=null;"@graph"in n?(i=n["@graph"][0],o.isObject(i)||(i={}),r=!("@merged"===t||"@default"===t)):(r="@merged"!==e.graph,i={}),r&&(e.graphStack.push(e.graph),e.graph=t,l.frame(e,Object.keys(e.graphMap[t]).sort(),[i],g,"@graph"),e.graph=e.graphStack.pop)}for(const t of Object.keys(p).sort())if(r(t)){if(g[t]=s.clone(p[t]),"@type"===t)for(const t of p["@type"])0===t.indexOf("_:")&&s.addValue(e.bnodeMap,t,g,{propertyIsArray:!0})}else if(!m.explicit||t in n)for(let r of p[t]){const o=t in n?n[t]:h(m);if(i.isList(r)){const o={"@list":[]};v(g,t,o);const a=r["@list"];for(const u in a)if(r=a[u],i.isSubjectReference(r)){const i=t in n?n[t][0]["@list"]:h(m);l.frame(e,[r["@id"]],i,o,"@list")}else v(o,"@list",s.clone(r))}else i.isSubjectReference(r)?l.frame(e,[r["@id"]],o,g,t):b(o[0],r)&&v(g,t,s.clone(r))}for(const e of Object.keys(n).sort()){if(r(e))continue;const t=n[e][0]||{};if(!(d(t,c,"omitDefault")||e in g)){let n="@null";"@default"in t&&(n=s.clone(t["@default"])),o.isArray(n)||(n=[n]),g[e]=[{"@preserve":n}]}}if("@reverse"in n)for(const r of Object.keys(n["@reverse"]).sort()){const i=n["@reverse"][r];for(const n of Object.keys(e.subjects)){s.getValues(e.subjects[n],r).some(e=>e["@id"]===t)&&(g["@reverse"]=g["@reverse"]||{},s.addValue(g["@reverse"],r,[],{propertyIsArray:!0}),l.frame(e,[n],i,g["@reverse"][r],u))}}v(a,u,g),e.subjectStack.pop()}}})},function(e,t,n){"use strict";const r=n(13),{isArray:i,isObject:o,isString:s}=n(7),{isList:a,isValue:u,isGraph:c,isSimpleGraph:l,isSubjectReference:h}=n(12),{expandIri:f,getContextValue:d,isKeyword:p,process:g}=n(18),{removeBase:y}=n(31),{addValue:v,compareShortestLeast:m}=n(3),b={};function _(e,t){if("@nest"!==f(e,t,{vocab:!0}))throw new r("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=b,b.compact=(({activeCtx:e,activeProperty:t=null,element:n,options:s={},compactionMap:f=(()=>void 0)})=>{if(i(n)){let r=[];for(let i=0;i<n.length;++i){let o=b.compact({activeCtx:e,activeProperty:t,element:n[i],options:s,compactionMap:f});null===o&&void 0===(o=f({unmappedValue:n[i],activeCtx:e,activeProperty:t,parent:n,index:i,options:s}))||r.push(o)}if(s.compactArrays&&1===r.length){0===(d(e,t,"@container")||[]).length&&(r=r[0])}return r}const y=d(e,t,"@context");if(y&&(e=g({activeCtx:e,localCtx:y,options:s})),o(n)){if(s.link&&"@id"in n&&n["@id"]in s.link){const e=s.link[n["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===n)return e[t].compacted}if(u(n)||h(n)){const r=b.compactValue({activeCtx:e,activeProperty:t,value:n});return s.link&&h(n)&&(n["@id"]in s.link||(s.link[n["@id"]]=[]),s.link[n["@id"]].push({expanded:n,compacted:r})),r}const y="@reverse"===t,m={};s.link&&"@id"in n&&(n["@id"]in s.link||(s.link[n["@id"]]=[]),s.link[n["@id"]].push({expanded:n,compacted:m}));const w=n["@type"]||[];for(const t of w){const n=b.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!0}}),r=d(e,n,"@context");r&&(e=g({activeCtx:e,localCtx:r,options:s}))}const x=Object.keys(n).sort();for(const h of x){const g=n[h];if("@id"!==h&&"@type"!==h)if("@reverse"!==h)if("@preserve"!==h)if("@index"!==h)if("@graph"!==h&&"@list"!==h&&p(h)){const t=b.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});v(m,t,g)}else{if(!i(g))throw new r("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===g.length){const t=b.compactIri({activeCtx:e,iri:h,value:g,relativeTo:{vocab:!0},reverse:y}),n=t in e.mappings?e.mappings[t]["@nest"]:null;let r=m;n&&(_(e,n),o(m[n])||(m[n]={}),r=m[n]),v(r,t,g,{propertyIsArray:!0})}for(const t of g){const n=b.compactIri({activeCtx:e,iri:h,value:t,relativeTo:{vocab:!0},reverse:y}),p=n in e.mappings?e.mappings[n]["@nest"]:null;let g=m;p&&(_(e,p),o(m[p])||(m[p]={}),g=m[p]);const w=d(e,n,"@container")||[],x=c(t),I=a(t);let N;I?N=t["@list"]:x&&(N=t["@graph"]);let j=b.compact({activeCtx:e,activeProperty:n,element:I||x?N:t,options:s,compactionMap:f});if(I)if(i(j)||(j=[j]),w.includes("@list")){if(n in g)throw new r('JSON-LD compact error; property has a "@list" @container rule but there is more than a single @list that matches the compacted term in the document. Compaction might mix unwanted items into the list.',"jsonld.SyntaxError",{code:"compaction to list of lists"})}else j={[b.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:j},"@index"in t&&(j[b.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]);if(x)if(w.includes("@graph")&&(w.includes("@id")||w.includes("@index")&&l(t))){let r;n in g?r=g[n]:g[n]=r={};const i=(w.includes("@id")?t["@id"]:t["@index"])||b.compactIri({activeCtx:e,iri:"@none",vocab:!0});v(r,i,j,{propertyIsArray:!s.compactArrays||w.includes("@set")})}else w.includes("@graph")&&l(t)?v(g,n,j,{propertyIsArray:!s.compactArrays||w.includes("@set")}):(i(j)&&1===j.length&&s.compactArrays&&(j=j[0]),j={[b.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:j},"@id"in t&&(j[b.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(j[b.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),v(g,n,j,{propertyIsArray:!s.compactArrays||w.includes("@set")}));else if(w.includes("@language")||w.includes("@index")||w.includes("@id")||w.includes("@type")){let r,i;if(n in g?r=g[n]:g[n]=r={},w.includes("@language"))u(j)&&(j=j["@value"]),i=t["@language"];else if(w.includes("@index"))i=t["@index"];else if(w.includes("@id")){const t=b.compactIri({activeCtx:e,iri:"@id",vocab:!0});i=j[t],delete j[t]}else if(w.includes("@type")){const t=b.compactIri({activeCtx:e,iri:"@type",vocab:!0});let n;switch([i,...n]=[].concat(j[t]||[]),n.length){case 0:delete j[t];break;case 1:j[t]=n[0];break;default:j[t]=n}}i||(i=b.compactIri({activeCtx:e,iri:"@none",vocab:!0})),v(r,i,j,{propertyIsArray:w.includes("@set")})}else{const e=!s.compactArrays||w.includes("@set")||w.includes("@list")||i(j)&&0===j.length||"@list"===h||"@graph"===h;v(g,n,j,{propertyIsArray:e})}}}else{if((d(e,t,"@container")||[]).includes("@index"))continue;const n=b.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});v(m,n,g)}else{const n=b.compact({activeCtx:e,activeProperty:t,element:g,options:s,compactionMap:f});i(n)&&0===n.length||v(m,h,n)}else{const t=b.compact({activeCtx:e,activeProperty:"@reverse",element:g,options:s,compactionMap:f});for(const n in t)if(e.mappings[n]&&e.mappings[n].reverse){const r=t[n],i=(d(e,n,"@container")||[]).includes("@set")||!s.compactArrays;v(m,n,r,{propertyIsArray:i}),delete t[n]}if(Object.keys(t).length>0){const n=b.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}});v(m,n,t)}}else{let t=[].concat(g).map(t=>b.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:"@type"===h}}));1===t.length&&(t=t[0]);const n=b.compactIri({activeCtx:e,iri:h,relativeTo:{vocab:!0}}),r=i(t)&&0===g.length;v(m,n,t,{propertyIsArray:r})}}return m}return n}),b.compactIri=(({activeCtx:e,iri:t,value:n=null,relativeTo:r={vocab:!1},reverse:i=!1})=>{if(null===t)return t;const s=e.getInverse();if(p(t)&&t in s&&"@none"in s[t]&&"@type"in s[t]["@none"]&&"@none"in s[t]["@none"]["@type"])return s[t]["@none"]["@type"]["@none"];if(r.vocab&&t in s){const r=e["@language"]||"@none",s=[];o(n)&&"@index"in n&&!("@graph"in n)&&s.push("@index","@index@set"),o(n)&&"@preserve"in n&&(n=n["@preserve"][0]),c(n)?("@index"in n&&s.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&s.push("@graph@id","@graph@id@set"),s.push("@graph","@graph@set","@set"),"@index"in n||s.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||s.push("@graph@id","@graph@id@set")):o(n)&&!u(n)&&s.push("@id","@id@set","@type","@set@type");let l="@language",f="@null";if(i)l="@type",f="@reverse",s.push("@set");else if(a(n)){"@index"in n||s.push("@list");const e=n["@list"];if(0===e.length)l="@any",f="@none";else{let t=0===e.length?r:null,n=null;for(let r=0;r<e.length;++r){const i=e[r];let o="@none",s="@none";if(u(i)?"@language"in i?o=i["@language"]:"@type"in i?s=i["@type"]:o="@null":s="@id",null===t?t=o:o!==t&&u(i)&&(t="@none"),null===n?n=s:s!==n&&(n="@none"),"@none"===t&&"@none"===n)break}t=t||"@none","@none"!==(n=n||"@none")?(l="@type",f=n):f=t}}else u(n)?"@language"in n&&!("@index"in n)?(s.push("@language","@language@set"),f=n["@language"]):"@type"in n&&(l="@type",f=n["@type"]):(l="@type",f="@id"),s.push("@set");s.push("@none"),!o(n)||"@index"in n||s.push("@index","@index@set"),u(n)&&1===Object.keys(n).length&&s.push("@language","@language@set");const d=function(e,t,n,r,i,o){null===o&&(o="@null");const s=[];if("@id"!==o&&"@reverse"!==o||!h(n))s.push(o);else{"@reverse"===o&&s.push("@reverse");const t=b.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});t in e.mappings&&e.mappings[t]&&e.mappings[t]["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}s.push("@none");const a=e.inverse[t];for(let e=0;e<r.length;++e){const t=r[e];if(!(t in a))continue;const n=a[t][i];for(let e=0;e<s.length;++e){const t=s[e];if(t in n)return n[t]}}return null}(e,t,n,s,l,f);if(null!==d)return d}if(r.vocab&&"@vocab"in e){const n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){const r=t.substr(n.length);if(!(r in e.mappings))return r}}let l=null;const f=[];let d=e.fastCurieMap;const g=t.length-1;for(let e=0;e<g&&t[e]in d;++e)""in(d=d[t[e]])&&f.push(d[""][0]);for(let r=f.length-1;r>=0;--r){const i=f[r],o=i.terms;for(const r of o){const o=r+":"+t.substr(i.iri.length);e.mappings[r]._prefix&&(!(o in e.mappings)||null===n&&e.mappings[o]["@id"]===t)&&(null===l||m(o,l)<0)&&(l=o)}}return null!==l?l:r.vocab?t:y(e["@base"],t)}),b.compactValue=(({activeCtx:e,activeProperty:t,value:n})=>{if(u(n)){const r=d(e,t,"@type"),i=d(e,t,"@language"),o=d(e,t,"@container")||[],a="@index"in n&&!o.includes("@index");if(!a&&(n["@type"]===r||n["@language"]===i))return n["@value"];const u=Object.keys(n).length,c=1===u||2===u&&"@index"in n&&!a,l="@language"in e,h=s(n["@value"]),f=e.mappings[t]&&null===e.mappings[t]["@language"];if(c&&(!l||!h||f))return n["@value"];const p={};return a&&(p[b.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?p[b.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=b.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(p[b.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),p[b.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],p}const r=f(e,t,{vocab:!0}),i=d(e,t,"@type"),o=b.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===i}});return"@id"===i||"@vocab"===i||"@graph"===r?o:{[b.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:o}}),
/**
 * Removes the @preserve keywords as the last step of the compaction
 * algorithm when it is running on framed output.
 *
 * @param ctx the active context used to compact the input.
 * @param input the framed, compacted output.
 * @param options the compaction options used.
 *
 * @return the resulting output.
 */
b.removePreserve=((e,t,n)=>{if(i(t)){const r=[];for(let i=0;i<t.length;++i){const o=b.removePreserve(e,t[i],n);null!==o&&r.push(o)}t=r}else if(o(t)){
// remove @preserve
if("@preserve"in t)return"@null"===t["@preserve"]?null:t["@preserve"];if(u(t))return t;if(a(t))return t["@list"]=b.removePreserve(e,t["@list"],n),t;const r=b.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});if(r in t){const e=t[r];if(e in n.link){const r=n.link[e].indexOf(t);if(-1!==r)return n.link[e][r];n.link[e].push(t)}else n.link[e]=[t]}const o=b.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}});for(const s in t){if(s===r&&n.bnodesToClear.includes(t[s])){delete t[r];continue}let a=b.removePreserve(e,t[s],n);const u=d(e,s,"@container")||[];n.compactArrays&&i(a)&&1===a.length&&0===u.length&&s!==o&&(a=a[0]),t[s]=a}}return t})},function(e,t,n){"use strict";const{parseLinkHeader:r,buildHeaders:i}=n(3),{LINK_HEADER_REL:o}=n(30),s=n(13),a=n(60);e.exports=(({secure:e,strictSSL:t=!0,maxRedirects:u=-1,request:c,headers:l={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{l=i(l),c=c||n(59);const h=n(59);return(new a).wrapLoader(function(n){return async function n(i,a){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let f=null;if(null!==f)return f;let d;try{d=await function(e,t){return new Promise((n,r)=>{e(t,(e,t,i)=>{e?r(e):n({res:t,body:i})})})}(c,{url:i,headers:l,strictSSL:t,followRedirect:!1})}catch(e){throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}const{res:p,body:g}=d;f={contextUrl:null,documentUrl:i,document:g||null};const y=h.STATUS_CODES[p.statusCode];if(p.statusCode>=400)throw new s("URL could not be dereferenced: "+y,"jsonld.InvalidUrl",{code:"loading document failed",url:i,httpStatusCode:p.statusCode});if(p.headers.link&&"application/ld+json"!==p.headers["content-type"]){const e=r(p.headers.link)[o];if(Array.isArray(e))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});e&&(f.contextUrl=e.target)}if(p.statusCode>=300&&p.statusCode<400&&p.headers.location){if(a.length===u)throw new s("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:i,httpStatusCode:p.statusCode,redirects:a});if(-1!==a.indexOf(i))throw new s("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:i,httpStatusCode:p.statusCode,redirects:a});return a.push(i),n(p.headers.location,a)}a.push(i);return f}(n,[])})})},function(e,t,n){"use strict";const{parseLinkHeader:r,buildHeaders:i}=n(3),{LINK_HEADER_REL:o}=n(30),s=n(13),a=n(60),u=/(^|(\r\n))link:/i;e.exports=(({secure:e,headers:t={},xhr:n}={headers:{}})=>{return t=i(t),(new a).wrapLoader(async function(i){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let a;try{a=await function(e,t,n){const r=new(e=e||XMLHttpRequest);return new Promise((e,i)=>{r.onload=(()=>e(r)),r.onerror=(e=>i(e)),r.open("GET",t,!0);for(const e in n)r.setRequestHeader(e,n[e]);r.send()})}(n,i,t)}catch(e){throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}if(a.status>=400)throw new s("URL could not be dereferenced: "+a.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:a.status});const c={contextUrl:null,documentUrl:i,document:a.response},l=a.getResponseHeader("Content-Type");let h;u.test(a.getAllResponseHeaders())&&(h=a.getResponseHeader("Link"));if(h&&"application/ld+json"!==l){if(h=r(h)[o],Array.isArray(h))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});h&&(c.contextUrl=h.target)}return c})})},function(e,t,n){"use strict";e.exports=(e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t})}]);